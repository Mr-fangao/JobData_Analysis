{"remainingRequest":"E:\\workspaces\\edu\\jobData_Analysis前端\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\workspaces\\edu\\jobData_Analysis前端\\src\\views\\recommendation\\components\\housingPreference.vue?vue&type=style&index=1&lang=less&","dependencies":[{"path":"E:\\workspaces\\edu\\jobData_Analysis前端\\src\\views\\recommendation\\components\\housingPreference.vue","mtime":1599789390665},{"path":"E:\\workspaces\\edu\\jobData_Analysis前端\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"E:\\workspaces\\edu\\jobData_Analysis前端\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\workspaces\\edu\\jobData_Analysis前端\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\workspaces\\edu\\jobData_Analysis前端\\node_modules\\less-loader\\dist\\cjs.js","mtime":1580901133496},{"path":"E:\\workspaces\\edu\\jobData_Analysis前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1580901136398},{"path":"E:\\workspaces\\edu\\jobData_Analysis前端\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.ivu-tabs-bar {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.ivu-form-item {\r\n  margin-bottom: 0;\r\n}\r\n",{"version":3,"sources":["housingPreference.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4kBA;AACA;AACA;;AAEA;AACA;AACA","file":"housingPreference.vue","sourceRoot":"src\\views\\recommendation\\components","sourcesContent":["<template>\r\n  <Layout>\r\n    <Content>\r\n      <div style=\"margin: 0 auto;width: 95%;\">\r\n        <!-- <Card>\r\n          <div>\r\n            <Input v-model=\"value6\" placeholder=\"请输入职位编号\" style=\"width: 200px;margin: 10px;\" />\r\n            <Button type=\"success\" @click=\"getSmiarly\" class=\"submit\">确定</Button>\r\n          </div>\r\n        </Card> -->\r\n        <div>\r\n          <Row :gutter=\"30\">\r\n            <div v-for=\"(value,index) in BaseOnHouses\" :key=\"index\">\r\n              <Col span=\"8\">\r\n                <Card style=\"padding: 0;\">\r\n                  <div style=\"text-align:center\">\r\n                    <img\r\n                      @click=\"getInfo(index,value)\"\r\n                      style=\"width: 320px;height: 230px\"\r\n                      v-bind:src=\"value.image\"\r\n                      alt\r\n                    />\r\n                    <div style=\"overflow: hidden\">\r\n                      <h2 style=\"float: left;font-size: 16px\">{{value.职位名称}}</h2>\r\n                      <img\r\n                        v-if=\"value.collected == '0'\"\r\n                        :src=\"uncollect\"\r\n                        alt\r\n                        title=\"收藏\"\r\n                        @click=\"Collection(index,value)\"\r\n                        style=\"width: 15px;height: 15px;margin-top: 7px;margin-left: 15px;float: left\"\r\n                      />\r\n                      <img\r\n                        v-else-if=\"value.collected == '1'\"\r\n                        :src=\"collect\"\r\n                        alt\r\n                        title=\"取消收藏\"\r\n                        @click=\"Collection(index,value)\"\r\n                        style=\"width: 15px;height: 15px;margin-top: 7px;margin-left: 15px;float: left\"\r\n                      />\r\n                      <span style=\"float: right\">{{value.薪金}}</span>\r\n                    </div>\r\n                  </div>\r\n                </Card>\r\n              </Col>\r\n            </div>\r\n          </Row>\r\n        </div>\r\n      </div>\r\n      <!--</Tabs>-->\r\n    </Content>\r\n  </Layout>\r\n</template>\r\n<script>\r\nimport Server from \"@/core/server\";\r\nimport { services } from \"@/core/config/services\";\r\nimport houseInfoId from \"@/vuex/store\";\r\nimport dataRap from \"@/vuex/store\";\r\nimport aroundInfo from \"@/vuex/store\";\r\nimport housePoint from \"@/vuex/store\";\r\n\r\nexport default {\r\n  computed: {},\r\n  data() {\r\n    return {\r\n      distance: \"1000\",\r\n      value6: \"\",\r\n      information2: [],\r\n      information1: [],\r\n      houseName: \"\",\r\n      collect: require(`.././../../assets/img/collect.png`),\r\n      uncollect: require(`.././../../assets/img/uncollect.png`),\r\n      userInfo: [],\r\n      userage: [],\r\n      money: [],\r\n      educations: [],\r\n      user: \"\",\r\n      BaseOnHouses: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    // this.getdata();\r\n    // this.getInfos();\r\n  },\r\n  methods: {\r\n    getSmiarly() {\r\n      var this_ = this;\r\n      var userId = 1;\r\n      Server.get({\r\n        url: services.recommendedBaseOnItem,\r\n        params: {\r\n            userid: userId,\r\n            itemid: this.value6,\r\n        },\r\n      }).then(function (rsp) {\r\n          console.log(rsp);\r\n        if (rsp.code === 200) {      \r\n          this_.BaseOnHouses = rsp.data;\r\n          console.log(this.BaseOnHouses);\r\n        }\r\n      });\r\n    },\r\n    // getInfos() {\r\n    //   var this_ = this;\r\n    //   var user = JSON.parse(sessionStorage.getItem(\"userAccount\"));\r\n    //   this.user = user;\r\n    //   var userId = JSON.parse(sessionStorage.getItem(\"userId\"));\r\n    //   Server.get({\r\n    //     url: services.getInfo,\r\n    //     params: {\r\n    //       username: user,\r\n    //       userId: userId,\r\n    //     },\r\n    //   }).then((rsp) => {\r\n    //     this.userInfo = rsp.data;\r\n    //     debugger;\r\n    //     // this.userage = rsp.data.userEducationLevel;\r\n    //     for (let i = 1; i < 9; i++) {\r\n    //       if (this.userInfo.age == i) {\r\n    //         this.userage = this.age[i - 1].label;\r\n    //       }\r\n    //     }\r\n    //     for (let i = 1; i <= 9; i++) {\r\n    //       if (this.userInfo.userMoney == i) {\r\n    //         this.money = this.capital[i - 1].label;\r\n    //       }\r\n    //     }\r\n    //     for (let i = 0; i < 9; i++) {\r\n    //       if (this.userInfo.userEducationLevel == i) {\r\n    //         this.educations = this.education[i - 1].label;\r\n    //       }\r\n    //     }\r\n    //   });\r\n    // },\r\n    // getInfo(index, value) {\r\n    //   this.houseName = value.neighborhood;\r\n    //   this.houseId = value.id;\r\n    //   this.houseShape = value.Shape;\r\n    //   housePoint.commit(\"housePoint\", this.houseShape);\r\n    //   Server.get({\r\n    //     url: services.compareHouseDetails,\r\n    //     params: {\r\n    //       houseId: this.houseId,\r\n    //     },\r\n    //   }).then((rsp) => {\r\n    //     var _this = this;\r\n    //     if (rsp.code === 20000) {\r\n    //       houseInfoId.commit(\"houseInfoId\", rsp);\r\n    //       aroundInfo.commit(\"aroundInfo\", rsp);\r\n    //       aroundInfo.commit(\"housueName\", this.houseName);\r\n    //       this.$router.push(\"/houseinfo\");\r\n    //     }\r\n    //   });\r\n    // },\r\n    // getdata() {\r\n    //   debugger;\r\n    //   var information = JSON.parse(sessionStorage.getItem(\"information2\"));\r\n    //   this.information2 = information.slice(3, information.length);\r\n    //   this.information1.push(information[0], information[1], information[2]);\r\n    // },\r\n    // Collection(index, value) {\r\n    //   debugger;\r\n    //   var userId = JSON.parse(sessionStorage.getItem(\"userId\"));\r\n    //   if (value.collected === 0) {\r\n    //     this.houseName = value.name;\r\n    //     this.houseId = value.houseId;\r\n    //     Server.get({\r\n    //       url: services.addCollectHouse,\r\n    //       params: {\r\n    //         userId: userId,\r\n    //         houseName: this.houseName,\r\n    //       },\r\n    //     }).then((rsp) => {\r\n    //       this.$Message.success(rsp.message);\r\n    //       value.collected = 1;\r\n    //     });\r\n    //   } else if (value.collected === 1) {\r\n    //     this.houseName = value.name;\r\n    //     this.$Modal.confirm({\r\n    //       title: \"提示\",\r\n    //       content: \"是否取消收藏?\",\r\n    //       onOk: () => {\r\n    //         Server.get({\r\n    //           url: services.delCollectHouse,\r\n    //           params: {\r\n    //             userId: userId,\r\n    //             houseName: this.houseName,\r\n    //           },\r\n    //         }).then((rsp) => {\r\n    //           if (rsp.status == 1) {\r\n    //             this.$Message.success(rsp.message);\r\n    //             value.collected = 0;\r\n    //           } else {\r\n    //             this.$Message.error(rsp.message);\r\n    //           }\r\n    //         });\r\n    //       },\r\n    //     });\r\n    //   }\r\n    // },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" >\r\n.ivu-tabs-bar {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.ivu-form-item {\r\n  margin-bottom: 0;\r\n}\r\n</style>\r\n<template>\r\n  <Layout>\r\n    <Content>\r\n      <div style=\"margin: 0 auto;width: 95%;\">\r\n        <!--<TabPane label=\"基于用户位置推荐\">-->\r\n        <Card>\r\n          <Row :gutter=\"30\">\r\n            <Col span=\"12\">\r\n              <div\r\n                class=\"mapbox\"\r\n                style=\"width:1250px;height:300px;overflow-x:hidden;overflow-y:hidden;\"\r\n              >\r\n                <baidu-map\r\n                  :center=\"center\"\r\n                  :zoom=\"zoom\"\r\n                  :scroll-wheel-zoom=\"true\"\r\n                  style=\"height:100vh\"\r\n                  @ready=\"handler\"\r\n                >\r\n                  <bm-geolocation\r\n                    anchor=\"BMAP_ANCHOR_BOTTOM_RIGHT\"\r\n                    :showAddressBar=\"true\"\r\n                    :autoLocation=\"true\"\r\n                  ></bm-geolocation>\r\n                </baidu-map>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n          \r\n        </Card>\r\n        <!-- <Card>\r\n          <Row :gutter=\"30\">\r\n            <div v-for=\"(value,index) in information1\" :key=\"index\">\r\n              <Col span=\"8\">\r\n                <Card style=\"padding: 0;\">\r\n                  <div style=\"text-align:center\">\r\n                    <img\r\n                      @click=\"getInfo(index,value)\"\r\n                      style=\"width: 320px;height: 230px\"\r\n                      v-bind:src=\"value.image\"\r\n                      alt\r\n                    />\r\n                    <div style=\"overflow: hidden\">\r\n                      <h2 style=\"float: left;font-size: 15px\">{{value.neighborhood}}</h2>\r\n                      <img\r\n                        v-if=\"value.collected == '0'\"\r\n                        :src=\"uncollect\"\r\n                        alt\r\n                        title=\"收藏\"\r\n                        @click=\"Collection(index,value)\"\r\n                        style=\"width: 15px;height: 15px;margin-top: 7px;margin-left: 15px;float: left\"\r\n                      />\r\n                      <img\r\n                        v-else-if=\"value.collected == '1'\"\r\n                        :src=\"collect\"\r\n                        alt\r\n                        title=\"取消收藏\"\r\n                        @click=\"Collection(index,value)\"\r\n                        style=\"width: 15px;height: 15px;margin-top: 7px;margin-left: 15px;float: left\"\r\n                      />\r\n                      <span style=\"float: right\">{{value.price}}元/㎡</span>\r\n                    </div>\r\n                  </div>\r\n                </Card>\r\n              </Col>\r\n            </div>\r\n          </Row>\r\n        </Card>-->\r\n        <card>\r\n          <div>\r\n            <div v-for=\"(value,index) in BaseOnHouses\" :key=\"index\">\r\n              <div @click=\"location(index,value)\" style=\"border-bottom:1px solid #999\">\r\n                <Row>\r\n                  <Col span=\"7\">\r\n                    <div class=\"left mend_img\">\r\n                      <img\r\n                        style=\"width: 250px;height: 150px;margin-top: 20px;margin-bottom: 10px\"\r\n                        v-bind:src=\"value.image\"\r\n                      />\r\n                    </div>\r\n                  </Col>\r\n                  <Col span=\"17\">\r\n                    <div class=\"left name\" style=\"margin-top: 35px\">\r\n                      <div style=\"margin-top: 25px;float: right;margin-right: 10%\">\r\n                        <span style=\"color: red;font-weight: bold;\">：{{value.price}}元/月</span>\r\n                        <p style=\"margin-top: 5px;font-size: 13px\">\r\n                          <span>楼层高度：{{value.floors}}</span>\r\n                        </p>\r\n                        <p style=\"margin-top: 5px;font-size: 13px\">\r\n                          <span>出租方式：{{value.rentWay}}</span>\r\n                        </p>\r\n                        <p style=\"margin-top: 5px;font-size: 13px\">\r\n                          <span>房屋面积：{{value.area}}㎡</span>\r\n                        </p>\r\n                      </div>\r\n                      <h2 style=\"display:inline-block;font-size: 15px\">{{value.name}}</h2>\r\n                      <img\r\n                        v-if=\"value.collected == '0'\"\r\n                        :src=\"uncollect\"\r\n                        alt\r\n                        title=\"收藏\"\r\n                        @click=\"Collection(index,value)\"\r\n                        id=\"index\"\r\n                        style=\"width: 15px;height: 15px;margin-left: 20px\"\r\n                      />\r\n                      <img\r\n                        v-else-if=\"value.collected == '1'\"\r\n                        :src=\"collect\"\r\n                        alt\r\n                        title=\"取消收藏\"\r\n                        @click=\"Collection(index,value)\"\r\n                        style=\"width: 15px;height: 15px;margin-left: 20px\"\r\n                      />\r\n\r\n                      <p style=\"margin-top: 5px;font-size: 13px\">\r\n                        <span>小区名称：</span>\r\n                        {{value.neighborhood}}\r\n                      </p>\r\n                      <p style=\"margin-top: 5px;font-size: 13px\">\r\n                        <span>租房简介：</span>\r\n                        {{value.title}}\r\n                      </p>\r\n                      <p style=\"margin-top: 5px;font-size: 13px\">\r\n                        <span>地址：</span>\r\n                        {{value.address}}\r\n                      </p>\r\n                      <p style=\"margin-top: 5px\">\r\n                        <a @click=\"getInfo(index,value)\" style=\"font-size: 10px\">查看小区详情>></a>\r\n                      </p>\r\n                    </div>\r\n                  </Col>\r\n                </Row>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </card>\r\n      </div>\r\n    </Content>\r\n  </Layout>\r\n</template>\r\n<script>\r\nimport Server from \"@/core/server\";\r\nimport { services } from \"@/core/config/services\";\r\nimport houseInfoId from \"@/vuex/store\";\r\nimport dataRap from \"@/vuex/store\";\r\nimport aroundInfo from \"@/vuex/store\";\r\nimport housePoint from \"@/vuex/store\";\r\n\r\nexport default {\r\n  computed: {},\r\n  name: \"mapbox\",\r\n  data() {\r\n    return {\r\n      center: { lng: 0, lat: 0 },\r\n      zoom: 3,\r\n      distance: \"1000\",\r\n      value6: \"南台新苑安\",\r\n      information2: [],\r\n      information1: [],\r\n      houseName: \"\",\r\n      collect: require(`.././../../assets/img/collect.png`),\r\n      uncollect: require(`.././../../assets/img/uncollect.png`),\r\n      userInfo: [],\r\n      userage: [],\r\n      money: [],\r\n      educations: [],\r\n      user: \"\",\r\n      BaseOnHouses: [],\r\n      userLocationLon: \"\",\r\n      userLocationLat: \"\",\r\n    };\r\n  },\r\n  watch: {\r\n    asyncArray: function () {\r\n      this.$nextTick(function () {\r\n        this.saveUserLocation();\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    // this.getInfos();\r\n    this.getSmiarly();\r\n    // this.getdata();\r\n  },\r\n  methods: {\r\n    saveUserLocation() {\r\n      var this_ = this;\r\n      var userId = JSON.parse(sessionStorage.getItem(\"userId\"));\r\n      Server.post({\r\n        url: services.saveUserLocation,\r\n        params: {\r\n          userId: userId,\r\n          lon: this.userLocationLon,\r\n          lat: this.userLocationLat,\r\n        },\r\n      }).then(function (rsp) {\r\n        console.log(rsp);\r\n        if (rsp.code === 20000) {\r\n          this.getSmiarly();\r\n        }\r\n      });\r\n    },\r\n    handler({ BMap, map }) {\r\n      var Item = this.selectIetm;\r\n      var list = \"\";\r\n      // console.log(Item);\r\n      map.enableScrollWheelZoom(true); //开启鼠标滚轮缩放\r\n      this.center.lng = 116.331398;\r\n      this.center.lat = 39.897445;\r\n      this.zoom = 12;\r\n      map.setMinZoom(6);\r\n      map.setMaxZoom(16);\r\n      var geolocation = new BMap.Geolocation();\r\n      //定位到用户城市\r\n      geolocation.getCurrentPosition(\r\n        function (r) {\r\n          if (this.getStatus() == BMAP_STATUS_SUCCESS) {\r\n            var mk = new BMap.Marker(r.point);\r\n            map.panTo(r.point);\r\n          } else {\r\n            alert(\"failed\" + this.getStatus());\r\n          }\r\n        },\r\n        { enableHighAccuracy: true }\r\n      );\r\n      map.addEventListener(\"click\", function (e) {\r\n        this.userLocationLon = e.point.lng;\r\n        this.userLocationLat = e.point.lat;\r\n        saveUserLocation(this.userLocationLon,this.userLocationLat)\r\n        console.log(this.userLocationLon);\r\n        console.log(this.userLocationLat);\r\n      });\r\n      function saveUserLocation(p1,p2) {\r\n        var this_ = this;\r\n        var userId = JSON.parse(sessionStorage.getItem(\"userId\"));\r\n        Server.post({\r\n          url: services.saveUserLocation,\r\n          params: {\r\n            userId: userId,\r\n            lon: p1,\r\n            lat: p2,\r\n          },\r\n        }).then(function (rsp) {\r\n          console.log(rsp);\r\n          if (rsp.code === 20000) {\r\n            this.getSmiarly();\r\n          }\r\n        });\r\n      }\r\n    },\r\n    getSmiarly() {\r\n      var this_ = this;\r\n      var userId = JSON.parse(sessionStorage.getItem(\"userId\"));\r\n      console.log(userId);\r\n      Server.get({\r\n        url: services.recommendedBaseSpatial,\r\n        params: {\r\n          userId: userId,\r\n        },\r\n      }).then(function (rsp) {\r\n        if (rsp.code === 20000) {\r\n          // console.log(rsp);\r\n          this_.BaseOnHouses = rsp.data.data;\r\n          console.log(this_.BaseOnHouses);\r\n          //   this_.information1=this_.BaseOnHouses.slice(0,3)\r\n          //   this_.information2 = this_.BaseOnHouses.slice(4);\r\n          //   console.log(this.information2 )\r\n          // console.log(this.BaseOnHouses);\r\n        }\r\n      });\r\n    },\r\n    getInfos() {\r\n      var this_ = this;\r\n      var user = JSON.parse(sessionStorage.getItem(\"userAccount\"));\r\n      this.user = user;\r\n      var userId = JSON.parse(sessionStorage.getItem(\"userId\"));\r\n      Server.get({\r\n        url: services.getInfo,\r\n        params: {\r\n          username: user,\r\n          userId: userId,\r\n        },\r\n      }).then((rsp) => {\r\n        this.userInfo = rsp.data;\r\n        debugger;\r\n        // this.userage = rsp.data.userEducationLevel;\r\n        for (let i = 1; i < 9; i++) {\r\n          if (this.userInfo.age == i) {\r\n            this.userage = this.age[i - 1].label;\r\n          }\r\n        }\r\n        for (let i = 1; i <= 9; i++) {\r\n          if (this.userInfo.userMoney == i) {\r\n            this.money = this.capital[i - 1].label;\r\n          }\r\n        }\r\n        for (let i = 0; i < 9; i++) {\r\n          if (this.userInfo.userEducationLevel == i) {\r\n            this.educations = this.education[i - 1].label;\r\n          }\r\n        }\r\n      });\r\n    },\r\n    getInfo(index, value) {\r\n      this.houseName = value.neighborhood;\r\n      this.houseId = value.id;\r\n      this.houseShape = value.Shape;\r\n      housePoint.commit(\"housePoint\", this.houseShape);\r\n      Server.get({\r\n        url: services.compareHouseDetails,\r\n        params: {\r\n          houseId: this.houseId,\r\n        },\r\n      }).then((rsp) => {\r\n        var _this = this;\r\n        if (rsp.code === 20000) {\r\n          houseInfoId.commit(\"houseInfoId\", rsp);\r\n          aroundInfo.commit(\"aroundInfo\", rsp);\r\n          aroundInfo.commit(\"housueName\", this.houseName);\r\n          this.$router.push(\"/houseinfo\");\r\n        }\r\n      });\r\n    },\r\n    getdata() {\r\n      var this_ = this;\r\n      var information = this_.BaseOnHouses;\r\n      console.log(this_.BaseOnHouses);\r\n      console.log(information);\r\n      this.information2 = information.slice(3, information.length);\r\n      this.information1.push(information[0], information[1], information[2]);\r\n    },\r\n    Collection(index, value) {\r\n      var userId = JSON.parse(sessionStorage.getItem(\"userId\"));\r\n      if (value.collected === 0) {\r\n        this.houseName = value.name;\r\n        this.houseId = value.houseId;\r\n        Server.get({\r\n          url: services.addCollectHouse,\r\n          params: {\r\n            userId: userId,\r\n            houseName: this.houseName,\r\n          },\r\n        }).then((rsp) => {\r\n          this.$Message.success(rsp.message);\r\n          value.collected = 1;\r\n        });\r\n      } else if (value.collected === 1) {\r\n        this.houseName = value.name;\r\n        this.$Modal.confirm({\r\n          title: \"提示\",\r\n          content: \"是否取消收藏?\",\r\n          onOk: () => {\r\n            Server.get({\r\n              url: services.delCollectHouse,\r\n              params: {\r\n                userId: userId,\r\n                houseName: this.houseName,\r\n              },\r\n            }).then((rsp) => {\r\n              if (rsp.status == 1) {\r\n                this.$Message.success(rsp.message);\r\n                value.collected = 0;\r\n              } else {\r\n                this.$Message.error(rsp.message);\r\n              }\r\n            });\r\n          },\r\n        });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" >\r\n.ivu-tabs-bar {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.ivu-form-item {\r\n  margin-bottom: 0;\r\n}\r\n</style>\r\n"]}]}