{"remainingRequest":"C:\\Users\\asus\\Desktop\\GIS相关比赛\\03 计算机设计大赛(刚开始)\\03 系统运行代码\\Code\\前端\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\asus\\Desktop\\GIS相关比赛\\03 计算机设计大赛(刚开始)\\03 系统运行代码\\Code\\前端\\src\\views\\login\\register\\index.vue?vue&type=style&index=0&id=6cb14ee6&lang=less&scoped=true&","dependencies":[{"path":"C:\\Users\\asus\\Desktop\\GIS相关比赛\\03 计算机设计大赛(刚开始)\\03 系统运行代码\\Code\\前端\\src\\views\\login\\register\\index.vue","mtime":1580899747527},{"path":"C:\\Users\\asus\\Desktop\\GIS相关比赛\\03 计算机设计大赛(刚开始)\\03 系统运行代码\\Code\\前端\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\asus\\Desktop\\GIS相关比赛\\03 计算机设计大赛(刚开始)\\03 系统运行代码\\Code\\前端\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\asus\\Desktop\\GIS相关比赛\\03 计算机设计大赛(刚开始)\\03 系统运行代码\\Code\\前端\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\asus\\Desktop\\GIS相关比赛\\03 计算机设计大赛(刚开始)\\03 系统运行代码\\Code\\前端\\node_modules\\less-loader\\dist\\cjs.js","mtime":1580901133496},{"path":"C:\\Users\\asus\\Desktop\\GIS相关比赛\\03 计算机设计大赛(刚开始)\\03 系统运行代码\\Code\\前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1580901136398},{"path":"C:\\Users\\asus\\Desktop\\GIS相关比赛\\03 计算机设计大赛(刚开始)\\03 系统运行代码\\Code\\前端\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.register {\r\n  float: right;\r\n  padding-top: 5px;\r\n  padding-right: 5px;\r\n  &register:hover {\r\n    color: black;\r\n  }\r\n}\r\n.red {\r\n  color: red;\r\n}\r\n.text {\r\n  height: 10px;\r\n  margin-top: -17px;\r\n}\r\n.red1 {\r\n  color: red;\r\n  height: 8px;\r\n}\r\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src\\views\\login\\register","sourcesContent":["\r\n<!--账号登录  -->\r\n\r\n<template>\r\n  <div>\r\n    <div class=\"register \" style=\"cursor:pointer\">\r\n      <span @click=\"onCheck\">注册账号?</span>\r\n    </div>\r\n    <modal v-model=\"checkModal\" :mask-closable=\"false\" title=\"用户注册\">\r\n      <Row>\r\n        <i-form ref=\"form\" :model=\"formValidate\" :rules=\"ruleValidate\" :label-width=\"80\">\r\n          <form-item label=\"用户名\" prop=\"userName\">\r\n            <i-input v-model=\"formValidate.userName\" placeholder=\"输入用户账户\" />\r\n          </form-item>\r\n          <form-item label=\"昵称\" prop=\"accountName\">\r\n            <i-input v-model=\"formValidate.accountName\" placeholder=\"输入用户昵称\" />\r\n          </form-item>\r\n          <form-item label=\"密码\" prop=\"password\">\r\n            <i-input type=\"password\" v-model=\"formValidate.password\" placeholder=\"输入至少6位数密码\" />\r\n          </form-item>\r\n          <form-item label=\"确认密码\" prop=\"pwdCheck\">\r\n            <i-input type=\"password\" v-model=\"formValidate.pwdCheck\" placeholder=\"输入至少6位数密码\" />\r\n          </form-item>\r\n          <FormItem label=\"年龄\" prop=\"age\">\r\n            <Select v-model=\"ageModel\">\r\n              <Option v-for=\"item in age\" :value=\"item.value\" :key=\"item.value\">{{ item.label }}</Option>\r\n            </Select>\r\n          </FormItem>\r\n          <FormItem label=\"购房资金\" prop=\"capital\">\r\n            <Select v-model=\"capitalModel\">\r\n              <Option v-for=\"item in capital\" :value=\"item.value\" :key=\"item.value\">{{ item.label }}</Option>\r\n            </Select>\r\n          </FormItem>\r\n          <FormItem label=\"学历\" prop=\"education\">.\r\n            <Select v-model=\"educationModel\">\r\n              <Option v-for=\"item in education\" :value=\"item.value\" :key=\"item.value\">{{ item.label }}</Option>\r\n            </Select>\r\n          </FormItem>\r\n        </i-form>\r\n      </Row>\r\n      <model-footer slot=\"footer\"   saveText=\"提交\" @on-cancel=\"onCancelUser\" @on-save=\"onsaveUser\" />\r\n    </modal>\r\n  </div>\r\n</template>\r\n<script>\r\nimport ModelFooter from \"@/components/common/modal-footer\";\r\nimport Server from \"@/core/server\";\r\nimport { services } from \"@/core/config/services\";\r\nexport default {\r\n  data() {\r\n    const validateAccount = (rule, value, callback) => {\r\n      var reg = /^[A-Za-z0-9]{1,30}$/;\r\n      if (!reg.test(value)) {\r\n        callback(new Error(\"请输入字母或数字组成的账户\"));\r\n      }\r\n    };\r\n    const pwdValidate = (rule, value, callback) => {\r\n      this.$refs.form.validateField(\"pwdCheck\");\r\n      callback();\r\n    };\r\n    const pwdCheckValidate = (rule, value, callback) => {\r\n      if (this.formValidate.password != \"\" && value == \"\") {\r\n        callback(new Error(\"确认密码不能为空\"));\r\n      } else if (this.formValidate.password != value) {\r\n        callback(new Error(\"新密码和确认密码应相同\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    const validatePhone = (rule, value, callback) => {\r\n      var reg = /^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\\d{8}$/;\r\n      if (!reg.test(value)) {\r\n        callback(new Error(\"请输入正确的手机号码\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n      ageModel: \"\",\r\n      capitalModel: \"\",\r\n      educationModel: \"\",\r\n      age: [\r\n        {\r\n          value: \"1\",\r\n          label: \"25岁以下\"\r\n        },\r\n        {\r\n          value: \"2\",\r\n          label: \"26-30岁\"\r\n        },\r\n        {\r\n          value: \"3\",\r\n          label: \"31-35岁\"\r\n        },\r\n        {\r\n          value: \"4\",\r\n          label: \"36-40岁\"\r\n        },\r\n        {\r\n          value: \"5\",\r\n          label: \"41-45岁\"\r\n        },\r\n        {\r\n          value: \"6\",\r\n          label: \"46-50岁\"\r\n        },\r\n        {\r\n          value: \"7\",\r\n          label: \"51-55岁\"\r\n        },\r\n        {\r\n          value: \"8\",\r\n          label: \"51-55岁\"\r\n        },\r\n        {\r\n          value: \"9\",\r\n          label: \"60岁以上\"\r\n        }\r\n      ],\r\n      capital: [\r\n        {\r\n          value: \"1\",\r\n          label: \"1w以下\"\r\n        },\r\n        {\r\n          value: \"2\",\r\n          label: \"1w-3w\"\r\n        },\r\n        {\r\n          value: \"3\",\r\n          label: \"3w-5w\"\r\n        },\r\n        {\r\n          value: \"4\",\r\n          label: \"5w-10w\"\r\n        },\r\n        {\r\n          value: \"5\",\r\n          label: \"10w-20w\"\r\n        },\r\n        {\r\n          value: \"6\",\r\n          label: \"20w-50w\"\r\n        },\r\n        {\r\n          value: \"7\",\r\n          label: \"80w-150w\"\r\n        },\r\n        {\r\n          value: \"8\",\r\n          label: \"80w-150w\"\r\n        },\r\n        {\r\n          value: \"9\",\r\n          label: \"150w以上\"\r\n        }\r\n      ],\r\n      education: [\r\n        {\r\n          value: \"1\",\r\n          label: \"小学及以下\"\r\n        },\r\n        {\r\n          value: \"2\",\r\n          label: \"初中\"\r\n        },\r\n        {\r\n          value: \"3\",\r\n          label: \"高中\"\r\n        },\r\n        {\r\n          value: \"4\",\r\n          label: \"中专\"\r\n        },\r\n        {\r\n          value: \"5\",\r\n          label: \"大专\"\r\n        },\r\n        {\r\n          value: \"6\",\r\n          label: \"本科\"\r\n        },\r\n        {\r\n          value: \"7\",\r\n          label: \"硕士\"\r\n        },\r\n        {\r\n          value: \"8\",\r\n          label: \"博士\"\r\n        },\r\n        {\r\n          value: \"9\",\r\n          label: \"博士以上\"\r\n        }\r\n      ],\r\n      checkModal: false,\r\n      formValidate: {\r\n        userName: \"\",\r\n        password: \"\",\r\n        pwdCheck: \"\",\r\n        accountName: \"\",\r\n        userMobile: \"\"\r\n      },\r\n      ruleValidate: {\r\n        userName: [\r\n          {\r\n            validator: validateAccount,\r\n            required: true,\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        accountName: [\r\n          {\r\n            message: \"昵称不能为空\",\r\n            required: true,\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        password: [\r\n          {\r\n            required: true,\r\n            validator: pwdValidate,\r\n            trigger: \"blur\"\r\n          },\r\n          {\r\n            min: 6,\r\n            message: \"密码不能少于6位数\",\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        pwdCheck: [\r\n          {\r\n            required: true,\r\n            validator: pwdCheckValidate,\r\n            trigger: \"blur\"\r\n          },\r\n          {\r\n            min: 6,\r\n            message: \"密码不能少于6位数\",\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        userMobile: [\r\n          {\r\n            validator: validatePhone,\r\n            required: true,\r\n            trigger: \"blur\"\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    onCheck() {\r\n      this.checkModal = true;\r\n    },\r\n    onsaveUser() {\r\n      debugger;\r\n      const title = \"注册提示\";\r\n      const content = \"信息提交成功，等待管理员审核\";\r\n      Server.post({\r\n        url: services.register,\r\n        params: {\r\n          userName: this.formValidate.userName,\r\n          password: this.formValidate.password,\r\n          userNickName: this.formValidate.accountName,\r\n          age: this.ageModel,\r\n          money: this.capitalModel,\r\n          userEducationLevel: this.educationModel,\r\n          userMobile: \"\",\r\n          eMail: \"\"\r\n        }\r\n      }).then(rsp => {\r\n        if (rsp.data.status === 1) {\r\n          this.checkModal = false;\r\n          this.$Modal.success({\r\n            title: title,\r\n            content: content\r\n          });\r\n          this.$refs.form.resetFields();\r\n        } else {\r\n          this.$Message.error(rsp.message);\r\n        }\r\n      });\r\n    },\r\n    onCancelUser() {\r\n      this.checkModal = false;\r\n      this.$refs.form.resetFields();\r\n    }\r\n  },\r\n  components: {\r\n    ModelFooter\r\n  }\r\n};\r\n</script>\r\n<style  lang=\"less\" scoped>\r\n.register {\r\n  float: right;\r\n  padding-top: 5px;\r\n  padding-right: 5px;\r\n  &register:hover {\r\n    color: black;\r\n  }\r\n}\r\n.red {\r\n  color: red;\r\n}\r\n.text {\r\n  height: 10px;\r\n  margin-top: -17px;\r\n}\r\n.red1 {\r\n  color: red;\r\n  height: 8px;\r\n}\r\n</style>\r\n"]}]}