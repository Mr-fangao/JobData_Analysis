{"remainingRequest":"E:\\04 GIS相关比赛\\05 “创青春”比赛(省赛阶段)\\07 系统代码\\jobData_Analysis前端\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\04 GIS相关比赛\\05 “创青春”比赛(省赛阶段)\\07 系统代码\\jobData_Analysis前端\\src\\views\\infoSearch\\index.vue?vue&type=style&index=0&id=12bed113&lang=less&scoped=true&","dependencies":[{"path":"E:\\04 GIS相关比赛\\05 “创青春”比赛(省赛阶段)\\07 系统代码\\jobData_Analysis前端\\src\\views\\infoSearch\\index.vue","mtime":1599556228753},{"path":"E:\\04 GIS相关比赛\\05 “创青春”比赛(省赛阶段)\\07 系统代码\\jobData_Analysis前端\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"E:\\04 GIS相关比赛\\05 “创青春”比赛(省赛阶段)\\07 系统代码\\jobData_Analysis前端\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\04 GIS相关比赛\\05 “创青春”比赛(省赛阶段)\\07 系统代码\\jobData_Analysis前端\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\04 GIS相关比赛\\05 “创青春”比赛(省赛阶段)\\07 系统代码\\jobData_Analysis前端\\node_modules\\less-loader\\dist\\cjs.js","mtime":1580901133496},{"path":"E:\\04 GIS相关比赛\\05 “创青春”比赛(省赛阶段)\\07 系统代码\\jobData_Analysis前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1580901136398},{"path":"E:\\04 GIS相关比赛\\05 “创青春”比赛(省赛阶段)\\07 系统代码\\jobData_Analysis前端\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.sidermenu {\r\n  position: absolute;\r\n  padding: 5px;\r\n  right: 10px;\r\n  top: 42px;\r\n  z-index: 9999;\r\n}\r\n.kjcx {\r\n  display: block;\r\n}\r\n.ivu-layout-sider {\r\n  height: 300px;\r\n  transition: all 0.2s ease-in-out;\r\n  position: relative;\r\n  background: #fff;\r\n  min-width: 0;\r\n}\r\n.ivu-form-item {\r\n  margin-bottom: 12px;\r\n  vertical-align: top;\r\n  zoom: 1;\r\n}\r\n.menu-item-title {\r\n  height: 48px;\r\n  line-height: 48px;\r\n  font-size: 14px;\r\n  padding-left: 28px;\r\n}\r\n.layout {\r\n  height: 800px;\r\n  background: #f5f7f9;\r\n  position: relative;\r\n  border-radius: 4px;\r\n  overflow: hidden;\r\n}\r\n\r\n.layout-header-bar {\r\n  background: #fcf9f2;\r\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);\r\n}\r\n.layout-logo-left {\r\n  width: 90%;\r\n  height: 30px;\r\n  border-radius: 3px;\r\n  margin: 15px auto;\r\n}\r\n.menu-icon {\r\n  transition: all 0.3s;\r\n}\r\n.rotate-icon {\r\n  transform: rotate(-90deg);\r\n}\r\n.menu-item span {\r\n  display: inline-block;\r\n  overflow: hidden;\r\n  width: 69px;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  vertical-align: bottom;\r\n  transition: width 0.2s ease 0.2s;\r\n}\r\n.menu-item i {\r\n  transform: translateX(0px);\r\n  transition: font-size 0.2s ease, transform 0.2s ease;\r\n  vertical-align: middle;\r\n  font-size: 16px;\r\n}\r\n.collapsed-menu span {\r\n  width: 0px;\r\n  transition: width 0.2s ease;\r\n}\r\n.collapsed-menu i {\r\n  transform: translateX(5px);\r\n  transition: font-size 0.2s ease 0.2s, transform 0.2s ease 0.2s;\r\n  vertical-align: middle;\r\n  font-size: 22px;\r\n}\r\n.siderItem {\r\n  margin-left: 1px;\r\n}\r\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src\\views\\infoSearch","sourcesContent":["<template>\r\n  <div class=\"layout\">\r\n    <Layout>\r\n      <Content>\r\n        <Header :style=\"{padding: 0}\" class=\"layout-header-bar\">\r\n          <Breadcrumb>\r\n            <Icon :style=\"{margin: '0 5px'}\" type=\"md-menu\" size=\"25\"></Icon>\r\n            <BreadcrumbItem\r\n              v-for=\"(item,idx) in $route.matched\"\r\n              :key=\"idx\"\r\n              :to=\"(item.path)\"\r\n            >{{item.name}}</BreadcrumbItem>\r\n          </Breadcrumb>\r\n        </Header>\r\n\t\t\t\t\r\n        <div class=\"sidermenu\">\r\n          <Button style=\"margin-right: 5px;\" type=\"success\" @click=\"jumpdata()\">简单查询</Button>\r\n\t\t\t\t\t<Button style=\"margin-right: 5px;\" type=\"success\" @click=\"siteSelect()\">条件查询</Button>\r\n          <Button style=\"margin-right: 5px;\" type=\"success\" @click=\"selectBuffer()\">缓冲区查询</Button>\r\n          <Button style=\"margin-right: 5px;\" type=\"success\" @click=\"selectHouse()\">自定义查询</Button>\r\n          <Button style=\"margin-right: 5px;\" type=\"success\" @click=\"controlAnlayse()\">周边设施查询</Button>\r\n        </div>\r\n        <siteSelection v-if=\"site \" v-on:change=\"getfalse($event) \" :site=\"site \" />\r\n        <tool-form />\r\n        <buffer />\r\n        <Modal v-model=\"dialog3\" :mask-closable=\"false\" width=\"400\" title=\"周边设施\" draggable>\r\n          <Form :label-width=\"60\">\r\n            <FormItem label=\"小区名：\" prop=\"zoning\">\r\n              <Input v-model=\"houseTitle\" placeholder clearable></Input>\r\n            </FormItem>\r\n            <FormItem label=\"周边设施\" prop=\"zoning\">\r\n              <Select v-model=\"publicsheshi\">\r\n                <Option\r\n                  v-for=\"item in orderList\"\r\n                  :value=\"item.type\"\r\n                  :key=\"item.name\"\r\n                >{{ item.name }}</Option>\r\n              </Select>\r\n            </FormItem>\r\n            <FormItem label=\"搜索半径\" :label-width=\"60\" prop=\"zoning\" :width=\"10\">\r\n              <div style=\"width:120px ;display:inline-block\">\r\n                <Input v-model=\"distance\" placeholder clearable></Input>\r\n              </div>\r\n              <span style=\"width:20px;margin-left:10px\">米</span>\r\n            </FormItem>\r\n          </Form>\r\n          <div slot=\"footer\">\r\n            <Button type=\"primary\" size=\"large\" long @click=\"gethousePoint\">查询</Button>\r\n          </div>\r\n        </Modal>\r\n        <router-view />\r\n      </Content>\r\n    </Layout>\r\n  </div>\r\n</template>\r\n<script>\r\nimport toolForm from \"@/views/infoSearch/inforCount/public.vue\";\r\nimport buffer from \"@/views/infoSearch/inforCount/buffer.vue\";\r\nimport siteSelection from \"./home/components/siteSelection\";\r\nimport { computeh } from \"@/core/computeh\";\r\nimport Server from \"@/core/server\";\r\nimport { services } from \"@/core/config/services\";\r\nexport default {\r\n  mixins: [computeh],\r\n  mounted() {\r\n    var roleid = JSON.parse(sessionStorage.getItem(\"roleId\"));\r\n    if (roleid === \"R0001\" || roleid === \"R0002\") {\r\n      this.show = true;\r\n    } else {\r\n      this.show = false;\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      buttonSize: \"large\",\r\n      show: true,\r\n      distance: \"\",\r\n      isCollapsed: false,\r\n      path: \"10\",\r\n      site: false,\r\n      publicsheshi: \"\",\r\n      isPopup: true,\r\n      isPan: true,\r\n      houseTitle: \"\",\r\n      dialog3: false,\r\n      list: \"\",\r\n      orderList: [\r\n        { name: \"公交\", type: \"BUSSTATION \" },\r\n        { name: \"车站\" },\r\n        { name: \"医疗设施\", type: \"MEDICALDATA \" },\r\n        { name: \"学校\", type: \"SCHOOLDATA \" },\r\n        { name: \"休闲娱乐\", type: \"ENTERTAINMENT \" },\r\n        { name: \"公园\", type: \"PARKDATA \" }\r\n      ]\r\n    };\r\n  },\r\n  computed: {},\r\n\r\n  methods: {\r\n    jumpdata() {\r\n      this.$router.push({\r\n        path: `/data/dataDeatils`\r\n      });\r\n    },\r\n    collapsedSider() {\r\n      this.$refs.side1.toggleCollapse();\r\n    },\r\n    gethousePoint() {\r\n      if (this.distance < 1000) {\r\n        this.$Message.warning(\"范围过小或小区不存在，未查询到数据\");\r\n      } else {\r\n        Server.get({\r\n          url: services.road,\r\n          params: {\r\n            name: this.houseTitle,\r\n            tableName: this.publicsheshi,\r\n            distance: this.distance\r\n          }\r\n        }).then(rsp => {\r\n          var _this = this;\r\n          if (rsp.status === 1) {\r\n            _this.list = rsp.data;\r\n            debugger;\r\n            this.showGraphics();\r\n          } else {\r\n            this.$Message.warning(\"小区不存在，未查询到数据\");\r\n          }\r\n        });\r\n      }\r\n    },\r\n    showGraphics() {\r\n      if (window.mapview.graphics.length == 0) {\r\n        onemap.pubsub.publish(\"drawHouseByList\", {\r\n          list: this.list,\r\n          popup: this.isPopup,\r\n          pan: this.isPan\r\n        });\r\n      } else {\r\n        window.mapview.graphics.removeAll();\r\n        if (this.list === 0) return;\r\n        onemap.pubsub.publish(\"drawHouseByList\", {\r\n          list: this.list,\r\n          popup: this.isPopup,\r\n          pan: this.isPan\r\n        });\r\n      }\r\n    },\r\n    controlAnlayse() {\r\n      this.dialog3 = true;\r\n    },\r\n    siteSelect: function() {\r\n      if (this.site == false) {\r\n        this.site = true;\r\n      } else {\r\n        this.site = false;\r\n      }\r\n    },\r\n    getfalse(msg) {\r\n      this.site = msg;\r\n    },\r\n    selectHouse() {\r\n      this.$root.Bus.$emit(\"eventSelectHouse\");\r\n    },\r\n\r\n    selectBuffer() {\r\n      this.$root.Bus.$emit(\"eventSelectBuffer\");\r\n\r\n      this.dialog2 = true;\r\n    }\r\n  },\r\n  components: {\r\n    toolForm,\r\n    buffer,\r\n    siteSelection\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.sidermenu {\r\n  position: absolute;\r\n  padding: 5px;\r\n  right: 10px;\r\n  top: 42px;\r\n  z-index: 9999;\r\n}\r\n.kjcx {\r\n  display: block;\r\n}\r\n.ivu-layout-sider {\r\n  height: 300px;\r\n  transition: all 0.2s ease-in-out;\r\n  position: relative;\r\n  background: #fff;\r\n  min-width: 0;\r\n}\r\n.ivu-form-item {\r\n  margin-bottom: 12px;\r\n  vertical-align: top;\r\n  zoom: 1;\r\n}\r\n.menu-item-title {\r\n  height: 48px;\r\n  line-height: 48px;\r\n  font-size: 14px;\r\n  padding-left: 28px;\r\n}\r\n.layout {\r\n  height: 800px;\r\n  background: #f5f7f9;\r\n  position: relative;\r\n  border-radius: 4px;\r\n  overflow: hidden;\r\n}\r\n\r\n.layout-header-bar {\r\n  background: #fcf9f2;\r\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);\r\n}\r\n.layout-logo-left {\r\n  width: 90%;\r\n  height: 30px;\r\n  border-radius: 3px;\r\n  margin: 15px auto;\r\n}\r\n.menu-icon {\r\n  transition: all 0.3s;\r\n}\r\n.rotate-icon {\r\n  transform: rotate(-90deg);\r\n}\r\n.menu-item span {\r\n  display: inline-block;\r\n  overflow: hidden;\r\n  width: 69px;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  vertical-align: bottom;\r\n  transition: width 0.2s ease 0.2s;\r\n}\r\n.menu-item i {\r\n  transform: translateX(0px);\r\n  transition: font-size 0.2s ease, transform 0.2s ease;\r\n  vertical-align: middle;\r\n  font-size: 16px;\r\n}\r\n.collapsed-menu span {\r\n  width: 0px;\r\n  transition: width 0.2s ease;\r\n}\r\n.collapsed-menu i {\r\n  transform: translateX(5px);\r\n  transition: font-size 0.2s ease 0.2s, transform 0.2s ease 0.2s;\r\n  vertical-align: middle;\r\n  font-size: 22px;\r\n}\r\n.siderItem {\r\n  margin-left: 1px;\r\n}\r\n</style>\r\n"]}]}