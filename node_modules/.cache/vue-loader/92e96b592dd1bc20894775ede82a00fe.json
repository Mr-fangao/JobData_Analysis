{"remainingRequest":"E:\\00 毕业论文\\04 系统代码\\C30 开发源代码\\前端\\jobData_Analysis前端\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\00 毕业论文\\04 系统代码\\C30 开发源代码\\前端\\jobData_Analysis前端\\src\\views\\locationResources\\components\\businessResources.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"E:\\00 毕业论文\\04 系统代码\\C30 开发源代码\\前端\\jobData_Analysis前端\\src\\views\\locationResources\\components\\businessResources.vue","mtime":1615359585590},{"path":"E:\\00 毕业论文\\04 系统代码\\C30 开发源代码\\前端\\jobData_Analysis前端\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"E:\\00 毕业论文\\04 系统代码\\C30 开发源代码\\前端\\jobData_Analysis前端\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\00 毕业论文\\04 系统代码\\C30 开发源代码\\前端\\jobData_Analysis前端\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\00 毕业论文\\04 系统代码\\C30 开发源代码\\前端\\jobData_Analysis前端\\node_modules\\less-loader\\dist\\cjs.js","mtime":1580901133496},{"path":"E:\\00 毕业论文\\04 系统代码\\C30 开发源代码\\前端\\jobData_Analysis前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1580901136398},{"path":"E:\\00 毕业论文\\04 系统代码\\C30 开发源代码\\前端\\jobData_Analysis前端\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.ivu-tabs-tabpane {\n\theight: 550px;\n}\n\n.ivu-tabs-bar {\n\tmargin-bottom: 0;\n}\n\n#tab {\n\twidth: 80%;\n\tborder: 1px solid #dcdee2;\n\tmargin: 0 auto;\n}\n\n#tab h3 {\n\tmargin: 0;\n\tpadding: 0;\n\tfont-size: 14px;\n\tfloat: left;\n\tright: 5px;\n\twidth: 60px;\n\theight: 24px;\n\tline-height: 24px;\n\ttext-align: center;\n}\n\n#tab div {\n\tclear: both;\n\tfont-size: 14px;\n\t/*padding: 20px 0 0 20px;*/\n\tdisplay: none;\n}\n\n#tab h3.active {\n\t/*background: #cccc00;*/\n}\n\n#tab div.content {\n\tdisplay: block;\n\t/*background: #cccc00;*/\n}\n\n.layout {\n\t//   border: 1px solid #d7dde4;\n\tbackground: #f5f7f9;\n\tposition: relative;\n\tborder-radius: 4px;\n\toverflow-y: hidden;\n\theight: 1000px;\n}\n\n.layout-header-bar {\n\tbackground: #fff;\n\tbox-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);\n}\n\n.layout-logo-left {\n\twidth: 90%;\n\theight: 30px;\n\tbackground: #5b6270;\n\tborder-radius: 3px;\n\tmargin: 15px auto;\n}\n\n.menu-icon {\n\ttransition: all 0.3s;\n}\n\n.rotate-icon {\n\ttransform: rotate(-90deg);\n}\n\n.menu-item span {\n\tdisplay: inline-block;\n\toverflow: hidden;\n\twidth: 69px;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\tvertical-align: bottom;\n\ttransition: width 0.2s ease 0.2s;\n}\n\n.menu-item i {\n\ttransform: translateX(0px);\n\ttransition: font-size 0.2s ease, transform 0.2s ease;\n\tvertical-align: middle;\n\tfont-size: 16px;\n}\n\n.collapsed-menu span {\n\twidth: 0px;\n\ttransition: width 0.2s ease;\n}\n\n.collapsed-menu i {\n\ttransform: translateX(5px);\n\ttransition: font-size 0.2s ease 0.2s, transform 0.2s ease 0.2s;\n\tvertical-align: middle;\n\tfont-size: 22px;\n}\n",{"version":3,"sources":["businessResources.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4fA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"businessResources.vue","sourceRoot":"src\\views\\locationResources\\components","sourcesContent":["<template>\r\n\t<div class=\"layout\">\r\n\t\t<Layout :style=\"{height:'100%'}\">\r\n\t\t\t<Sider ref=\"side1\" :width='180'>\r\n\t\t\t\t<sider-menu />\r\n\t\t\t</Sider>\r\n\t\t\t<Content>\r\n\t\t\t\t<Header :style=\"{padding: 0}\" class=\"layout-header-bar\">\r\n\t\t\t\t\t<Breadcrumb>\r\n\t\t\t\t\t\t<Icon :class=\"rotateIcon\" :style=\"{margin: '0 5px'}\" type=\"md-menu\" size=\"25\"></Icon>\r\n\t\t\t\t\t\t<BreadcrumbItem v-for=\"(item,idx) in $route.matched\" :key=\"idx\" :to=\"(item.path)\">{{item.name}}\r\n\t\t\t\t\t\t</BreadcrumbItem>\r\n\t\t\t\t\t</Breadcrumb>\r\n\t\t\t\t</Header>\r\n\t\t\t\t<div style=\"width: 1300px; margin: 0 auto;margin-top: 30px;border: 1px solid #dcdee2\">\r\n\t\t\t\t\t<Tabs>\r\n\t\t\t\t\t\t<TabPane label=\"商业\">\r\n\t\t\t\t\t\t\t<div id=\"map1\"\r\n\t\t\t\t\t\t\t\tstyle=\"width:100%;height: 100%;border: 1px solid #dcdee2; position: absolute;\">\r\n\t\t\t\t\t\t\t\t<smallMapView></smallMapView>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</TabPane>\r\n\t\t\t\t\t\t<TabPane label=\"服务区\">\r\n\t\t\t\t\t\t\t<div id=\"map2\" style=\"width:100%;height: 100%;position: absolute;background-color: #FCF9F2\">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tstyle=\"position: relative;float: right; width: 250px;top: 420px;background-color: #FCF9F2;padding: 10px;opacity: 0.8\">\r\n\t\t\t\t\t\t\t\t<Col span=\"20\">\r\n\t\t\t\t\t\t\t\t<Slider v-model=\"break1\" max=\"500\" show-input input-size=\"small\" @on-change=\"getArea\">\r\n\t\t\t\t\t\t\t\t</Slider>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col span=\"4\">\r\n\t\t\t\t\t\t\t\t<p style=\"margin: 7px\">米</p>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col span=\"20\">\r\n\t\t\t\t\t\t\t\t<Slider v-model=\"break2\" max=\"1000\" show-input input-size=\"small\" @on-change=\"getArea\">\r\n\t\t\t\t\t\t\t\t</Slider>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col span=\"4\">\r\n\t\t\t\t\t\t\t\t<p style=\"margin: 7px\">米</p>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col span=\"20\">\r\n\t\t\t\t\t\t\t\t<Slider v-model=\"break3\" max=\"1500\" show-input input-size=\"small\" @on-change=\"getArea\">\r\n\t\t\t\t\t\t\t\t</Slider>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col span=\"4\">\r\n\t\t\t\t\t\t\t\t<p style=\"margin: 7px\">米</p>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</TabPane>\r\n\t\t\t\t\t\t<TabPane label=\"缓冲区\">\r\n\t\t\t\t\t\t\t<div id=\"map3\"\r\n\t\t\t\t\t\t\t\tstyle=\"width:100%;height: 800px;position: absolute;background-color: #FCF9F2\"></div>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tstyle=\"position: relative;float: right; width: 250px;margin: 10px;padding-top: 500px;z-index: 9999\">\r\n\t\t\t\t\t\t\t\t<Col span=\"2\">\r\n\t\t\t\t\t\t\t\t<p style=\"margin: 7px\">0</p>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col span=\"18\">\r\n\t\t\t\t\t\t\t\t<Slider v-model=\"value1\" max=\"1500\" show-input input-size=\"small\" @on-change=\"getDis\">\r\n\t\t\t\t\t\t\t\t</Slider>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col span=\"4\">\r\n\t\t\t\t\t\t\t\t<p style=\"margin: 7px\">米</p>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</TabPane>\r\n\t\t\t\t\t\t<TabPane label=\"可达性\">\r\n\t\t\t\t\t\t\t<div class=\"map4\">\r\n\t\t\t\t\t\t\t\t<Table :columns=\"columns1\" stripe :data=\"data1\" height=\"550\"></Table>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div style=\"padding-top: 50px;position: relative;float: right; z-index: 9999;\">\r\n\t\t\t\t\t\t\t\t<CheckboxGroup>\r\n\t\t\t\t\t\t\t\t\t<Checkbox label=\"引力模型\"></Checkbox>\r\n\t\t\t\t\t\t\t\t\t<br>\r\n\t\t\t\t\t\t\t\t\t<Checkbox label=\"引力模型\"></Checkbox>\r\n\t\t\t\t\t\t\t\t\t<br>\r\n\t\t\t\t\t\t\t\t\t<Checkbox label=\"两步移动\"></Checkbox>\r\n\t\t\t\t\t\t\t\t\t<br>\r\n\t\t\t\t\t\t\t\t\t<Checkbox label=\"两步移动\"></Checkbox>\r\n\t\t\t\t\t\t\t\t</CheckboxGroup>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</TabPane>\r\n\t\t\t\t\t</Tabs>\r\n\t\t\t\t</div>\r\n\t\t\t</Content>\r\n\t\t</Layout>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport SiderMenu from \"@/views/main/siderMenu\";\r\n\timport smallMapView from \"@/map/components/smallMapView\";\r\n\timport serverArea from \"@/map/components/serverArea\";\r\n\timport esriLoader from \"esri-loader\";\r\n\timport {\r\n\t\tMapAPI\r\n\t} from \"@/core/config/const\";\r\n\timport Register from \"@/map/api/register\";\r\n\timport Server from \"@/core/server\";\r\n\timport {\r\n\t\tservices\r\n\t} from \"@/core/config/services\";\r\n\timport measureArea from \"@/map/components/measureArea\";\r\n\timport measureLength from \"@/map/components/measureLength\";\r\n\timport MapToolsView from \"@/map/components/MapToolsView\";\r\n\timport GDrawSketch from \"@/map/api/4+/GDrawSketch\";\r\n\timport GConvertGeometry from \"@/map/api/js/convert/GConvertGeometry\";\r\n\timport GMapSymbol from \"@/map/api/js/GMapSymbol\";\r\n\timport housePoint from \"@/vuex/store\";\r\n\r\n\texport default {\r\n\t\tcreated() {\r\n\t\t\tServer.get({\r\n\t\t\t\turl: services.getEA,\r\n\t\t\t\tparams: {}\r\n\t\t\t}).then(rsp => {\r\n\t\t\t\tvar _this = this;\r\n\t\t\t\tdebugger;\r\n\t\t\t\tif (rsp.status === 1) {\r\n\t\t\t\t\t_this.data1 = rsp.data;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tvalue1: 500,\r\n\t\t\t\tbreak1: 300,\r\n\t\t\t\tbreak2: 800,\r\n\t\t\t\tbreak3: 1200,\r\n\t\t\t\tcolumns1: [{\r\n\t\t\t\t\t\ttitle: \"小区\",\r\n\t\t\t\t\t\tkey: \"houseName\",\r\n\t\t\t\t\t\talign: \"center\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: \"小区到教育资源可达性\",\r\n\t\t\t\t\t\tkey: \"accessibilityLevel\",\r\n\t\t\t\t\t\talign: \"center\"\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tdata1: []\r\n\t\t\t};\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.addLayer2();\r\n\t\t\tthis.addLayer3();\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\taddLayer2() {\r\n\t\t\t\tesriLoader\r\n\t\t\t\t\t.loadScript({\r\n\t\t\t\t\t\turl: MapAPI.js,\r\n\t\t\t\t\t\tcss: MapAPI.css\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(r => {\r\n\t\t\t\t\t\tesriLoader\r\n\t\t\t\t\t\t\t.loadModules([\r\n\t\t\t\t\t\t\t\t\"esri/config\",\r\n\t\t\t\t\t\t\t\t\"esri/Map\",\r\n\t\t\t\t\t\t\t\t\"esri/layers/GroupLayer\",\r\n\t\t\t\t\t\t\t\t\"esri/Basemap\",\r\n\t\t\t\t\t\t\t\t\"esri/views/MapView\",\r\n\t\t\t\t\t\t\t\t\"esri/layers/MapImageLayer\",\r\n\t\t\t\t\t\t\t\t\"esri/layers/TileLayer\",\r\n\t\t\t\t\t\t\t\t\"esri/tasks/ServiceAreaTask\",\r\n\t\t\t\t\t\t\t\t\"esri/layers/FeatureLayer\",\r\n\t\t\t\t\t\t\t\t\"esri/tasks/support/DataLayer\",\r\n\t\t\t\t\t\t\t\t\"esri/tasks/support/ServiceAreaParameters\",\r\n\t\t\t\t\t\t\t\t\"esri/tasks/support/ServiceAreaSolveResult\",\r\n\t\t\t\t\t\t\t\t\"esri/symbols/SimpleLineSymbol\",\r\n\t\t\t\t\t\t\t\t\"esri/symbols/SimpleFillSymbol\",\r\n\t\t\t\t\t\t\t\t\"esri/Color\",\r\n\t\t\t\t\t\t\t\t\"esri/layers/GraphicsLayer\",\r\n\t\t\t\t\t\t\t\t\"esri/geometry/Extent\",\r\n\t\t\t\t\t\t\t\t\"esri/widgets/LayerList\",\r\n\t\t\t\t\t\t\t\t\"esri/Graphic\",\r\n\t\t\t\t\t\t\t\t\"esri/tasks/support/FeatureSet\",\r\n\t\t\t\t\t\t\t\t\"dojo/on\"\r\n\t\t\t\t\t\t\t])\r\n\t\t\t\t\t\t\t.then(\r\n\t\t\t\t\t\t\t\t([\r\n\t\t\t\t\t\t\t\t\tesriConfig,\r\n\t\t\t\t\t\t\t\t\tMap,\r\n\t\t\t\t\t\t\t\t\tGroupLayer,\r\n\t\t\t\t\t\t\t\t\tBasemap,\r\n\t\t\t\t\t\t\t\t\tMapView,\r\n\t\t\t\t\t\t\t\t\tMapImageLayer,\r\n\t\t\t\t\t\t\t\t\tTileLayer,\r\n\t\t\t\t\t\t\t\t\tServiceAreaTask,\r\n\t\t\t\t\t\t\t\t\tFeatureLayer,\r\n\t\t\t\t\t\t\t\t\tDataLayer,\r\n\t\t\t\t\t\t\t\t\tServiceAreaParameters,\r\n\t\t\t\t\t\t\t\t\tServiceAreaSolveResult,\r\n\t\t\t\t\t\t\t\t\tSimpleLineSymbol,\r\n\t\t\t\t\t\t\t\t\tSimpleFillSymbol,\r\n\t\t\t\t\t\t\t\t\tColor,\r\n\t\t\t\t\t\t\t\t\tGraphicsLayer,\r\n\t\t\t\t\t\t\t\t\tExtent,\r\n\t\t\t\t\t\t\t\t\tLayerList,\r\n\t\t\t\t\t\t\t\t\tGraphic,\r\n\t\t\t\t\t\t\t\t\tFeatureSet,\r\n\t\t\t\t\t\t\t\t\tdom,\r\n\t\t\t\t\t\t\t\t\ton\r\n\t\t\t\t\t\t\t\t]) => {\r\n\t\t\t\t\t\t\t\t\tesriConfig.request.corsEnabledServers.push(\r\n\t\t\t\t\t\t\t\t\t\t\"http://122.112.216.247:6080\"\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\tvar activeWidget = null;\r\n\r\n\t\t\t\t\t\t\t\t\tvar tilelayer = new TileLayer({\r\n\t\t\t\t\t\t\t\t\t\turl: \"http://122.112.216.247:6080/arcgis/rest/services/Servers/Map/MapServer\"\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tvar layer = new FeatureLayer({\r\n\t\t\t\t\t\t\t\t\t\turl: \"http://122.112.216.247:6080/arcgis/rest/services/serverTest/MapServer/8\"\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tthis.baseLayer = tilelayer;\r\n\r\n\t\t\t\t\t\t\t\t\tvar baseMap = new Basemap({\r\n\t\t\t\t\t\t\t\t\t\tbaseLayers: [tilelayer]\r\n\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t\tvar map = new Map({\r\n\t\t\t\t\t\t\t\t\t\tbasemap: baseMap,\r\n\t\t\t\t\t\t\t\t\t\tlayers: [tilelayer, layer]\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tthis.map = map;\r\n\t\t\t\t\t\t\t\t\tthis.mapview = new MapView({\r\n\t\t\t\t\t\t\t\t\t\tcontainer: \"map2\",\r\n\t\t\t\t\t\t\t\t\t\tmap: map\r\n\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t\tthis.mapview.ui.remove([\"attribution\", \"zoom\"]);\r\n\t\t\t\t\t\t\t\t\tvar view = this.mapview;\r\n\t\t\t\t\t\t\t\t\tvar stops = new DataLayer();\r\n\t\t\t\t\t\t\t\t\tstops.geometry = view.extent;\r\n\t\t\t\t\t\t\t\t\tstops.name = \"Hospitals\";\r\n\t\t\t\t\t\t\t\t\tconsole.log(map);\r\n\t\t\t\t\t\t\t\t\t// var houseSymbol = GMapSymbol.gethousePointSymbol({});\r\n\t\t\t\t\t\t\t\t\t// this.houseSymbol = houseSymbol;\r\n\t\t\t\t\t\t\t\t\t// var stopSymbol = {\r\n\t\t\t\t\t\t\t\t\t//   type: \"simple-marker\",\r\n\t\t\t\t\t\t\t\t\t//   style: \"cross\",\r\n\t\t\t\t\t\t\t\t\t//   size: 15,\r\n\t\t\t\t\t\t\t\t\t//   outline: {\r\n\t\t\t\t\t\t\t\t\t//     width: 4\r\n\t\t\t\t\t\t\t\t\t//   }\r\n\t\t\t\t\t\t\t\t\t// };\r\n\t\t\t\t\t\t\t\t\t// this.stopSymbol = stopSymbol;\r\n\t\t\t\t\t\t\t\t\t// var routeSymbol = {\r\n\t\t\t\t\t\t\t\t\t//   type: \"simple-line\",\r\n\r\n\t\t\t\t\t\t\t\t\t//   color: [82, 152, 255, 1],\r\n\t\t\t\t\t\t\t\t\t//   width: 5\r\n\t\t\t\t\t\t\t\t\t// };\r\n\t\t\t\t\t\t\t\t\t// this.routeSymbol = routeSymbol;\r\n\t\t\t\t\t\t\t\t\tvar serverParams = new ServiceAreaParameters({\r\n\t\t\t\t\t\t\t\t\t\tfacilities: {\r\n\t\t\t\t\t\t\t\t\t\t\ttype: \"layer\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayerName: \"Hospitals\"\r\n\t\t\t\t\t\t\t\t\t\t\t// where: \"BEDS > 100\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tdefaultBreaks: [this.break1, this.break2, this.break3]\r\n\t\t\t\t\t\t\t\t\t\t// outSpatialReference: {\r\n\t\t\t\t\t\t\t\t\t\t//   wkid: 3857\r\n\t\t\t\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t\tvar serviceAreaTask = new ServiceAreaTask({\r\n\t\t\t\t\t\t\t\t\t\turl: \"http://122.112.216.247:6080/arcgis/rest/services/serverTest/NAServer/ServiceArea\"\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tserviceAreaTask.solve(serverParams).then(\r\n\t\t\t\t\t\t\t\t\t\tsolveResult => {\r\n\t\t\t\t\t\t\t\t\t\t\t// console.log(solveResult.serviceAreaPolygons);\r\n\t\t\t\t\t\t\t\t\t\t\tvar AreaPolygons = solveResult.serviceAreaPolygons;\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(AreaPolygons);\r\n\t\t\t\t\t\t\t\t\t\t\tvar polygonSymbol = new SimpleFillSymbol(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"solid\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tnew SimpleLineSymbol(\"solid\", new Color([232, 104, 80])),\r\n\t\t\t\t\t\t\t\t\t\t\t\tnew Color([232, 104, 80, 0.25])\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\tAreaPolygons.forEach((AreaPolygons, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t// var symbol = GMapSymbol.getSymbol(geometry);\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar graphics = [];\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar graphic = new Graphic({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tgeometry: AreaPolygons.geometry,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsymbol: polygonSymbol\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\tgraphics.push(graphic);\r\n\t\t\t\t\t\t\t\t\t\t\t\tview.graphics.addMany(graphics);\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t// AreaPolygons.forEach(function(e) {\r\n\t\t\t\t\t\t\t\t\t\t\t//   var polygonSymbol = new SimpleFillSymbol(\r\n\t\t\t\t\t\t\t\t\t\t\t//     \"solid\",\r\n\t\t\t\t\t\t\t\t\t\t\t//     new SimpleLineSymbol(\r\n\t\t\t\t\t\t\t\t\t\t\t//       \"solid\",\r\n\t\t\t\t\t\t\t\t\t\t\t//       new Color([232, 104, 80])\r\n\t\t\t\t\t\t\t\t\t\t\t//     ),\r\n\t\t\t\t\t\t\t\t\t\t\t//     new Color([232, 104, 80, 0.25])\r\n\t\t\t\t\t\t\t\t\t\t\t//   );\r\n\t\t\t\t\t\t\t\t\t\t\t//   e.setSymbol(polygonSymbol);\r\n\t\t\t\t\t\t\t\t\t\t\t//   console.log(e);\r\n\t\t\t\t\t\t\t\t\t\t\t//   debugger;\r\n\t\t\t\t\t\t\t\t\t\t\t//   // var graphic = new Graphic({\r\n\t\t\t\t\t\t\t\t\t\t\t//   //   geometry: e\r\n\t\t\t\t\t\t\t\t\t\t\t//   // });\r\n\t\t\t\t\t\t\t\t\t\t\t//   // graphic.setSymbol(polygonSymbol);\r\n\t\t\t\t\t\t\t\t\t\t\t//   map.graphics.add(graphic);\r\n\t\t\t\t\t\t\t\t\t\t\t//   console.log(map);\r\n\t\t\t\t\t\t\t\t\t\t\t// });\r\n\t\t\t\t\t\t\t\t\t\t\t// AreaPolygons.forEach(\r\n\t\t\t\t\t\t\t\t\t\t\t//   solveResult.serviceAreaPolygons,\r\n\t\t\t\t\t\t\t\t\t\t\t//   function(serviceArea) {\r\n\t\t\t\t\t\t\t\t\t\t\t//     debugger;\r\n\t\t\t\t\t\t\t\t\t\t\t//     serviceArea.setSymbol(polygonSymbol);\r\n\t\t\t\t\t\t\t\t\t\t\t//     this.map.graphics.add(serviceArea);\r\n\t\t\t\t\t\t\t\t\t\t\t//   }\r\n\t\t\t\t\t\t\t\t\t\t\t// );\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tfunction(err) {\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(err.message);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t\t\t// onemap.pubsub.publish(\"drawPolygonByGeoJson\", {\r\n\t\t\t\t\t\t\t\t\t//   list: this.serverPolygon,\r\n\t\t\t\t\t\t\t\t\t//   extent: true\r\n\t\t\t\t\t\t\t\t\t// });\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t// this.routeTask = routeTask;\r\n\t\t\t\t\t\t// var ext = String(this.defaultMapExtent).split(\",\");\r\n\t\t\t\t\t\t// if (ext.length > 3) {\r\n\t\t\t\t\t\t//   console.log(\"extent 配置有误\");\r\n\t\t\t\t\t\t//   return false;\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t// var zoom = parseInt(ext[2]);\r\n\t\t\t\t\t\t// var center = {\r\n\t\t\t\t\t\t//   x: parseFloat(ext[0]),\r\n\t\t\t\t\t\t//   y: parseFloat(ext[1]),\r\n\t\t\t\t\t\t//   spatialReference: this.spatialReference\r\n\t\t\t\t\t\t// };\r\n\r\n\t\t\t\t\t\t// view.when(function() {\r\n\t\t\t\t\t\t//   var layerList = new LayerList({\r\n\t\t\t\t\t\t//     view: view\r\n\t\t\t\t\t\t//   });\r\n\t\t\t\t\t\t//   view.ui.add(layerList, \"top-right\");\r\n\t\t\t\t\t\t// });\r\n\t\t\t\t\t\t// this.mapview.initExtent = {\r\n\t\t\t\t\t\t//   center: center,\r\n\t\t\t\t\t\t//   zoom: zoom\r\n\t\t\t\t\t\t// };\r\n\t\t\t\t\t\twindow.mapview = this.mapview;\r\n\t\t\t\t\t\t// callback(this.mapview);\r\n\t\t\t\t\t\tthis.IsMapToolsView = true;\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetArea() {\r\n\t\t\t\tthis.addLayer2();\r\n\t\t\t},\r\n\t\t\tgetDis() {\r\n\t\t\t\tthis.addLayer3();\r\n\t\t\t},\r\n\t\t\taddLayer3() {\r\n\t\t\t\tesriLoader\r\n\t\t\t\t\t.loadScript({\r\n\t\t\t\t\t\turl: MapAPI.js,\r\n\t\t\t\t\t\tcss: MapAPI.css\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(r => {\r\n\t\t\t\t\t\tesriLoader\r\n\t\t\t\t\t\t\t.loadModules([\r\n\t\t\t\t\t\t\t\t\"esri/Map\",\r\n\t\t\t\t\t\t\t\t\"esri/Basemap\",\r\n\t\t\t\t\t\t\t\t\"esri/views/MapView\",\r\n\t\t\t\t\t\t\t\t\"esri/layers/MapImageLayer\",\r\n\t\t\t\t\t\t\t\t\"esri/layers/TileLayer\",\r\n\t\t\t\t\t\t\t\t\"esri/tasks/support/LinearUnit\",\r\n\t\t\t\t\t\t\t\t\"esri/layers/FeatureLayer\",\r\n\t\t\t\t\t\t\t\t\"esri/tasks/QueryTask\",\r\n\t\t\t\t\t\t\t\t\"esri/tasks/support/Query\",\r\n\t\t\t\t\t\t\t\t\"esri/tasks/Geoprocessor\",\r\n\t\t\t\t\t\t\t\t\"esri/tasks/support/FeatureSet\"\r\n\t\t\t\t\t\t\t])\r\n\t\t\t\t\t\t\t.then(\r\n\t\t\t\t\t\t\t\t([\r\n\t\t\t\t\t\t\t\t\tMap,\r\n\t\t\t\t\t\t\t\t\tBasemap,\r\n\t\t\t\t\t\t\t\t\tMapView,\r\n\t\t\t\t\t\t\t\t\tMapImageLayer,\r\n\t\t\t\t\t\t\t\t\tTileLayer,\r\n\t\t\t\t\t\t\t\t\tLinearUnit,\r\n\t\t\t\t\t\t\t\t\tFeatureLayer,\r\n\t\t\t\t\t\t\t\t\tQueryTask,\r\n\t\t\t\t\t\t\t\t\tQuery,\r\n\t\t\t\t\t\t\t\t\tGeoprocessor,\r\n\t\t\t\t\t\t\t\t\tdom,\r\n\t\t\t\t\t\t\t\t\ton\r\n\t\t\t\t\t\t\t\t]) => {\r\n\t\t\t\t\t\t\t\t\tvar activeWidget = null;\r\n\r\n\t\t\t\t\t\t\t\t\t// var street = new MapImageLayer({\r\n\t\t\t\t\t\t\t\t\t//   url:\r\n\t\t\t\t\t\t\t\t\t//     \"http://122.112.216.247:6080/arcgis/rest/services/Server/MAP/MapServer\"\r\n\t\t\t\t\t\t\t\t\t// });\r\n\t\t\t\t\t\t\t\t\tvar street = new TileLayer({\r\n\t\t\t\t\t\t\t\t\t\turl: \"http://122.112.216.247:6080/arcgis/rest/services/Servers/Map/MapServer\"\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tvar dis = new LinearUnit({\r\n\t\t\t\t\t\t\t\t\t\tdistance: this.value1,\r\n\t\t\t\t\t\t\t\t\t\tunits: \"esriMeters\"\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tthis.distance = dis;\r\n\t\t\t\t\t\t\t\t\tvar baseMap = new Basemap({\r\n\t\t\t\t\t\t\t\t\t\tbaseLayers: [street]\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tvar map = new Map({\r\n\t\t\t\t\t\t\t\t\t\tbasemap: baseMap\r\n\t\t\t\t\t\t\t\t\t\t// layers: [layer]\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tthis.myMap = map;\r\n\r\n\t\t\t\t\t\t\t\t\tthis.mapViewL = new MapView({\r\n\t\t\t\t\t\t\t\t\t\tcontainer: \"map3\",\r\n\t\t\t\t\t\t\t\t\t\tmap: map\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tvar gwrPOint =\r\n\t\t\t\t\t\t\t\t\t\t\"http://122.112.216.247:6080/arcgis/rest/services/Servers/gwrfeature/MapServer/0\";\r\n\r\n\t\t\t\t\t\t\t\t\tvar queryTask = new QueryTask({\r\n\t\t\t\t\t\t\t\t\t\turl: gwrPOint\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tvar query = new Query();\r\n\t\t\t\t\t\t\t\t\tquery.returnGeometry = true;\r\n\t\t\t\t\t\t\t\t\tquery.outFields = [\"*\"];\r\n\t\t\t\t\t\t\t\t\tquery.where = \"PRICE>='3946'\";\r\n\t\t\t\t\t\t\t\t\t// queryTask.execute(query, this.doGP);\r\n\t\t\t\t\t\t\t\t\t// queryTask.execute(query).then(function(results) {\r\n\t\t\t\t\t\t\t\t\t//   this.doGP(results);\r\n\t\t\t\t\t\t\t\t\t// });\r\n\r\n\t\t\t\t\t\t\t\t\tqueryTask.execute(query).then(this.doGP);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tdoGP(featureSet) {\r\n\t\t\t\tvar gpUrl =\r\n\t\t\t\t\t\"http://122.112.216.247:6080/arcgis/rest/services/Servers/buffer/GPServer/buffer\";\r\n\t\t\t\tmapApi.esriApi.GetGeoprocessor().then(Geoprocessor => {\r\n\t\t\t\t\tvar _this = this;\r\n\t\t\t\t\tvar Kriging_GP = new Geoprocessor(gpUrl);\r\n\t\t\t\t\tvar parms = {\r\n\t\t\t\t\t\tSDE_DJGWR: featureSet,\r\n\t\t\t\t\t\tDistance__value_or_field_: this.distance\r\n\t\t\t\t\t};\r\n\t\t\t\t\tKriging_GP.submitJob(parms).then(jobinfo => {\r\n\t\t\t\t\t\tif (jobinfo.jobStatus == \"job-succeeded\") {\r\n\t\t\t\t\t\t\tKriging_GP.getResultData(\r\n\t\t\t\t\t\t\t\tjobinfo.jobId,\r\n\t\t\t\t\t\t\t\t\"Output_Feature_Class\"\r\n\t\t\t\t\t\t\t).then(function(results) {\r\n\t\t\t\t\t\t\t\tconsole.log(\"projected points: \", results.value);\r\n\t\t\t\t\t\t\t\tvar GwrPoint = results.value.features;\r\n\t\t\t\t\t\t\t\tvar polygonSymbol = {\r\n\t\t\t\t\t\t\t\t\ttype: \"simple-fill\", // autocasts as new SimpleFillSymbol()\r\n\t\t\t\t\t\t\t\t\tcolor: [51, 51, 204, 0.3],\r\n\t\t\t\t\t\t\t\t\tstyle: \"solid\",\r\n\t\t\t\t\t\t\t\t\toutline: {\r\n\t\t\t\t\t\t\t\t\t\t// autocasts as new SimpleLineSymbol()\r\n\t\t\t\t\t\t\t\t\t\tcolor: \"blue\",\r\n\t\t\t\t\t\t\t\t\t\twidth: 0.5\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\tGwrPoint.forEach((GwrPoint, index) => {\r\n\t\t\t\t\t\t\t\t\tmapApi.esriApi.GetGraphic().then(Graphic => {\r\n\t\t\t\t\t\t\t\t\t\tlet graphics = [];\r\n\t\t\t\t\t\t\t\t\t\tlet graphic = new Graphic({\r\n\t\t\t\t\t\t\t\t\t\t\tgeometry: GwrPoint.geometry,\r\n\t\t\t\t\t\t\t\t\t\t\tsymbol: polygonSymbol\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tgraphics.push(graphic);\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(graphics);\r\n\t\t\t\t\t\t\t\t\t\t_this.mapViewL.graphics.addMany(graphics);\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\tconsole.log(GwrPoints);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\t//   Kriging_GP.submitJob(params).then(this.gpJobComplete);\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tSiderMenu,\r\n\t\t\tsmallMapView,\r\n\t\t\tserverArea\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n\t.ivu-tabs-tabpane {\r\n\t\theight: 550px;\r\n\t}\r\n\r\n\t.ivu-tabs-bar {\r\n\t\tmargin-bottom: 0;\r\n\t}\r\n\r\n\t#tab {\r\n\t\twidth: 80%;\r\n\t\tborder: 1px solid #dcdee2;\r\n\t\tmargin: 0 auto;\r\n\t}\r\n\r\n\t#tab h3 {\r\n\t\tmargin: 0;\r\n\t\tpadding: 0;\r\n\t\tfont-size: 14px;\r\n\t\tfloat: left;\r\n\t\tright: 5px;\r\n\t\twidth: 60px;\r\n\t\theight: 24px;\r\n\t\tline-height: 24px;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t#tab div {\r\n\t\tclear: both;\r\n\t\tfont-size: 14px;\r\n\t\t/*padding: 20px 0 0 20px;*/\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\t#tab h3.active {\r\n\t\t/*background: #cccc00;*/\r\n\t}\r\n\r\n\t#tab div.content {\r\n\t\tdisplay: block;\r\n\t\t/*background: #cccc00;*/\r\n\t}\r\n\r\n\t.layout {\r\n\t\t//   border: 1px solid #d7dde4;\r\n\t\tbackground: #f5f7f9;\r\n\t\tposition: relative;\r\n\t\tborder-radius: 4px;\r\n\t\toverflow-y: hidden;\r\n\t\theight: 1000px;\r\n\t}\r\n\r\n\t.layout-header-bar {\r\n\t\tbackground: #fff;\r\n\t\tbox-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);\r\n\t}\r\n\r\n\t.layout-logo-left {\r\n\t\twidth: 90%;\r\n\t\theight: 30px;\r\n\t\tbackground: #5b6270;\r\n\t\tborder-radius: 3px;\r\n\t\tmargin: 15px auto;\r\n\t}\r\n\r\n\t.menu-icon {\r\n\t\ttransition: all 0.3s;\r\n\t}\r\n\r\n\t.rotate-icon {\r\n\t\ttransform: rotate(-90deg);\r\n\t}\r\n\r\n\t.menu-item span {\r\n\t\tdisplay: inline-block;\r\n\t\toverflow: hidden;\r\n\t\twidth: 69px;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t\tvertical-align: bottom;\r\n\t\ttransition: width 0.2s ease 0.2s;\r\n\t}\r\n\r\n\t.menu-item i {\r\n\t\ttransform: translateX(0px);\r\n\t\ttransition: font-size 0.2s ease, transform 0.2s ease;\r\n\t\tvertical-align: middle;\r\n\t\tfont-size: 16px;\r\n\t}\r\n\r\n\t.collapsed-menu span {\r\n\t\twidth: 0px;\r\n\t\ttransition: width 0.2s ease;\r\n\t}\r\n\r\n\t.collapsed-menu i {\r\n\t\ttransform: translateX(5px);\r\n\t\ttransition: font-size 0.2s ease 0.2s, transform 0.2s ease 0.2s;\r\n\t\tvertical-align: middle;\r\n\t\tfont-size: 22px;\r\n\t}\r\n</style>\n"]}]}