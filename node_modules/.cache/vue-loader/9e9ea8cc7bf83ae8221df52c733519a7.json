{"remainingRequest":"C:\\Users\\asus\\Desktop\\GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\asus\\Desktop\\GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\src\\views\\modelAnalysis\\priceForecast.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\Users\\asus\\Desktop\\GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\src\\views\\modelAnalysis\\priceForecast.vue","mtime":1563098587000},{"path":"C:\\Users\\asus\\Desktop\\GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\asus\\Desktop\\GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\asus\\Desktop\\GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\asus\\Desktop\\GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1580901136398},{"path":"C:\\Users\\asus\\Desktop\\GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.layout-header-bar {\n  background: #fff;\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);\n}\n",{"version":3,"sources":["priceForecast.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyRA;AACA;AACA;AACA","file":"priceForecast.vue","sourceRoot":"src\\views\\modelAnalysis","sourcesContent":["<template>\n  <layout :style=\"{height:'100%'}\">\n    <Sider ref=\"side1\" :width='180'>\n      <sider-menu/>\n    </Sider>\n    <Content>\n      <Header :style=\"{padding: 0}\" class=\"layout-header-bar\">\n        <Breadcrumb>\n          <Icon :style=\"{margin: '0 5px'}\" type=\"md-menu\" size=\"25\"></Icon>\n          <BreadcrumbItem v-for=\"(item,idx) in $route.matched\" :key=\"idx\" :to=\"(item.path)\">{{item.name}}</BreadcrumbItem>\n        </Breadcrumb>\n      </Header>\n      <div style=\" margin: 0 auto;margin-top: 5px;width:1300px;\">\n        <Button type=\"primary\" @click=\"impor\" style=\"margin-bottom:3px\">导入数据</Button>\n        <Table :columns=\"columns1\" :data=\"data1\" @on-select=\"handleChange\"></Table>\n        <!-- <Page :total=\"dataCount1\" :page-size=\"pageSize1\" show-total show-elevator/> -->\n      </div>\n      <div style=\" margin: 0 auto;margin-top: 5px;width:1300px;height:670px\">\n        <gwRmap></gwRmap>\n      </div>\n      <router-view/>\n\n    </Content>\n    <Modal v-model=\"modal1\" @on-ok=\"ok\" :width=\"800\" title=\"选择需要预测的小区数据\">\n      <Table stripe ref=\"selection\" :columns=\"columns2\" :data=\"data2\" @on-select=\"handleChange\"></Table>\n    </Modal>\n  </layout>\n\n</template>\n<script>\nimport SiderMenu from \"@/views/main/siderMenu\";\nimport axios from \"axios\";\nimport Server from \"@/core/server\";\nimport { services } from \"@/core/config/services\";\nimport esriLoader from \"esri-loader\";\nimport { MapAPI } from \"@/core/config/const\";\nimport { constants } from \"fs\";\nimport gwr from \"@/vuex/store\";\nimport gwRmap from \"@/map/components/gwRmap\";\nexport default {\n  data() {\n    return {\n      modal1: false,\n      isPopup: true,\n      housePoint: \"\",\n      columns1: [\n        {\n          title: \"预测小区\",\n          key: \"name\",\n          align: \"center\",\n          width: 100,\n          fixed: \"left\"\n        },\n        {\n          title: \"相似小区\",\n          key: \"foreName\",\n          align: \"center\",\n          width: 100,\n          fixed: \"left\"\n        },\n        {\n          title: \"地址\",\n          key: \"address\",\n          align: \"center\",\n          width: 200,\n          fixed: \"left\"\n        },\n        {\n          title: \"房屋类型\",\n          key: \"type\",\n          align: \"center\",\n          width: 150,\n          fixed: \"left\"\n        },\n        {\n          title: \"是否在售\",\n          key: \"buildingCharact\",\n          align: \"center\",\n          width: 150,\n          fixed: \"left\"\n        },\n        {\n          title: \"GWR\",\n          align: \"center\",\n          children: [\n            {\n              title: \"地价\",\n              key: \"houseDj\",\n              align: \"center\",\n              width: 100\n            },\n            {\n              title: \"容积率\",\n              key: \"houseRjl\",\n              align: \"center\",\n              width: 100\n            },\n            {\n              title: \"绿化率\",\n              key: \"houseLhl\",\n              align: \"center\",\n              width: 100\n            },\n            {\n              title: \"学区\",\n              key: \"schoolCut\",\n              align: \"center\",\n              width: 100\n            },\n            {\n              title: \"商场\",\n              key: \"market\",\n              align: \"center\",\n              width: 100\n            },\n            {\n              title: \"公交站\",\n              key: \"station\",\n              align: \"center\",\n              width: 100\n            },\n            {\n              title: \"公园\",\n              key: \"park\",\n              align: \"center\",\n              width: 100\n            }\n          ]\n        },\n        {\n          title: \"预测价格\",\n          key: \"price\",\n          align: \"center\",\n          fixed: \"right\",\n          width: 150\n        }\n      ],\n      data1: [],\n      columns2: [\n        {\n          type: \"selection\",\n          width: 60,\n          align: \"center\"\n        },\n        {\n          title: \"小区\",\n          key: \"name\",\n          align: \"center\"\n        },\n        {\n          title: \"地址\",\n          key: \"address\",\n          align: \"center\"\n        },\n        {\n          title: \"房屋类型\",\n          key: \"type\",\n          align: \"center\"\n        },\n        {\n          title: \"是否在售\",\n          key: \"buildingCharact\",\n          align: \"center\"\n        }\n      ],\n      data2: [],\n      data3: [],\n      newdata: \"\",\n      newdata1: \"\",\n      gwrPoint: \"\"\n    };\n  },\n  created() {\n    var optionss = localStorage.getItem(\"gwrPoint\");\n    var gwrPoint = JSON.parse(optionss);\n    this.gwrPoint = gwrPoint;\n  },\n  methods: {\n    impor() {\n      this.modal1 = true;\n      debugger;\n      Server.get({\n        url: services.houseSelect,\n        params: {}\n      }).then(rsp => {\n        var _this = this;\n        if (rsp.status === 1) {\n          _this.data2 = rsp.data;\n        }\n      });\n    },\n    handleChange(selection, row) {\n      var _this = this;\n      _this.data3 = selection;\n      var pushData = [];\n      for (let i = 0; i < _this.data3.length; i++)\n        pushData.push(_this.data3[i].name);\n      _this.newdata = pushData.join(\",\");\n      debugger;\n    },\n    ok() {\n      debugger;\n      var _this = this;\n      //   Server.get({\n      //     url: services.housePrice,\n      //     params: {\n      //       houseName: _this.newdata\n      //     }\n      //   }).then(rsp => {\n      //     var _this = this;\n      //     var arr1 = [];\n      //     var gwrPoint = _this.gwrPoint;\n      //     if (rsp.status === 1) {\n      //       debugger;\n      //       _this.housePoint = rsp.data;\n      //       this.showGraphics();\n      //       gwrPoint.forEach(itemData => {\n      //         rsp.data.forEach((itemArr, index) => {\n      //           if (itemArr.objectId === itemData.attributes.OBJECTID) {\n      //             arr1.push(\n      //               itemArr.name1,\n      //               itemData.attributes.C1_DJ,\n      //               itemData.attributes.C2_RJL,\n      //               itemData.attributes.C3_LHL,\n      //               itemData.attributes.C4_SCH,\n      //               itemData.attributes.C5_SMAR,\n      //               itemData.attributes.C6_BUS,\n      //               itemData.attributes.C7_PARK\n      //             );\n      //             _this.newdata1 = arr1.join(\",\");\n      //             console.log(_this.newdata1);\n      //             debugger;\n      //           }\n      //         });\n      //       });\n      //     }\n      //     Server.get({\n      //       url: services.houseShow,\n      //       params: {\n      //         houseValue: _this.newdata1\n      //       }\n      //     }).then(rsp => {\n      //       debugger;\n      //       var _this = this;\n      //       _this.data1 = rsp.data;\n      //     });\n      //   });\n      // },\n      Server.get({\n        url: services.houseShow,\n        params: {\n          houseName: _this.newdata\n        }\n      }).then(rsp => {\n        debugger;\n        var _this = this;\n        _this.data1 = rsp.data;\n        _this.housePoint = rsp.data;\n        _this.showGraphics();\n      });\n    },\n    showGraphics() {\n      console.log(this.housePoint);\n      onemap.pubsub.publish(\"drawforeHouseWKT\", {\n        list: this.housePoint,\n        popup: this.isPopup\n      });\n      onemap.pubsub.publish(\"drawHouseGWRByList\", {\n        list: this.housePoint,\n        popup: this.isPopup\n        // pan: this.isPan\n      });\n    }\n  },\n  components: {\n    SiderMenu,\n    gwRmap\n  }\n};\n</script>\n<style>\n.layout-header-bar {\n  background: #fff;\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);\n}\n</style>\n\n"]}]}