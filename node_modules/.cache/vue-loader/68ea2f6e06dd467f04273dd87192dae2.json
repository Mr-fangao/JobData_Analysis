{"remainingRequest":"E:\\00 毕业论文\\04 系统代码\\C30 开发源代码\\前端\\jobData_Analysis前端\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\00 毕业论文\\04 系统代码\\C30 开发源代码\\前端\\jobData_Analysis前端\\src\\views\\infoSearch\\inforCount\\buffer.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"E:\\00 毕业论文\\04 系统代码\\C30 开发源代码\\前端\\jobData_Analysis前端\\src\\views\\infoSearch\\inforCount\\buffer.vue","mtime":1585385294809},{"path":"E:\\00 毕业论文\\04 系统代码\\C30 开发源代码\\前端\\jobData_Analysis前端\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"E:\\00 毕业论文\\04 系统代码\\C30 开发源代码\\前端\\jobData_Analysis前端\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\00 毕业论文\\04 系统代码\\C30 开发源代码\\前端\\jobData_Analysis前端\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\00 毕业论文\\04 系统代码\\C30 开发源代码\\前端\\jobData_Analysis前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1580901136398},{"path":"E:\\00 毕业论文\\04 系统代码\\C30 开发源代码\\前端\\jobData_Analysis前端\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* .ivu-input {\n    display: inline-block;\n    width: 80%;\n    height: 32px;\n    line-height: 1.5;\n    padding: 4px 7px;\n    font-size: 12px;\n    border: 1px solid #dcdee2;\n    border-radius: 4px;\n    color: #515a6e;\n    background-color: #fff;\n    background-image: none;\n    position: relative;\n    cursor: text;\n    transition: border .2s ease-in-out,background .2s ease-in-out,box-shadow .2s ease-in-out;\n} */\n",{"version":3,"sources":["buffer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"buffer.vue","sourceRoot":"src\\views\\infoSearch\\inforCount","sourcesContent":["<template>\n  <Modal v-model=\"dialog2\" :mask-closable=\"false\" width=\"400\" title=\"缓冲区查询\" draggable>\n    <Form :label-width=\"60\">\n      <FormItem label=\"半径：\" prop=\"zoning\" :width=\"80\">\n        <div style=\"width:260px ;display:inline-block\">\n          <Input v-model=\"distance\" placeholder clearable></Input>\n        </div>\n        <span style=\"width:20px;margin-left:15px\">千米</span>\n      </FormItem>\n      <FormItem label=\"选点：\" prop=\"zoning\">\n        <Button shape=\"circle\" title=\"自定义选点\" @click=\"createPoint\">\n          <span>\n            <Icon type=\"ios-pin-outline\" size=\"17\" />\n          </span>\n        </Button>\n      </FormItem>\n    </Form>\n    <div slot=\"footer\">\n      <Button type=\"primary\" size=\"large\" long @click=\"getHouse\">查询</Button>\n    </div>\n  </Modal>\n</template>\n <script>\nimport Server from \"@/core/server\";\nimport { services } from \"@/core/config/services\";\nimport GDrawSketch from \"@/map/api/4+/GDrawSketch\";\nimport GDrawbuffer from \"@/map/api/4+/GDrawBuffer\";\nimport GConvertGeometry from \"@/map/api/js/convert/GConvertGeometry\";\nexport default {\n  created() {\n    this.$root.Bus.$on(\"eventSelectBuffer\", () => {\n      this.dialog2 = true;\n    });\n  },\n  data() {\n    return {\n      dialog2: false,\n      house: \"\",\n      isExtent: true,\n      isPopup: true,\n      isPan: true,\n      list: \"\",\n      distance: \"\"\n    };\n  },\n  methods: {\n    getHouse() {\n      debugger;\n      Server.post({\n        url: services.getHouse,\n        params: {\n          housePolygon: this.house\n        }\n      }).then(rsp => {\n        if (rsp.status === 1) {\n          this.list = rsp.data;\n          this.showGraphics();\n          this.$Message.success(\"查询成功\");\n          // sessionStorage.setItem(\"userInfo\", JSON.stringify(this.user))\n        } else {\n          this.$Message.error(rsp.message);\n        }\n      });\n    },\n    createPoint() {\n      new GDrawbuffer(window.mapview).then(gDraw => {\n        this.gDraw = gDraw;\n        this.gDraw.enableCreatePoint(this.distance, buffer => {\n          this.house = window.mapApi.convert.toWKTByGeometry.ToWKT(buffer);\n          console.log(buffer.centroid.latitude);\n          console.log(buffer.centroid.longitude);\n          console.log(buffer.centroid.x);\n          console.log(buffer.centroid.y);\n        });\n        // console.log(shape1);\n        // var buffer = this.gDraw.enableCreatePoint(this.distance);\n        // console.log(buffer);\n        // console.log(this.gDraw);\n        // this.gDraw.on(\"draw-complete\", e => {\n        //   // let shape = mapApi.convert.toWKTByGeometry.ToWKT(e.geometry);\n        //   // this.shape = shape;\n        //   // console.log(this.shape);\n        //   // parent.onemap.pubsub.publish(\"drawPolygon\", shape);\n        // });\n      });\n    },\n    showGraphics() {\n      //render graphic\n\n      if (this.list === 0) return;\n      onemap.pubsub.publish(\"drawHouseByList\", {\n        list: this.list,\n        popup: this.isPopup,\n        pan: this.isPan\n      });\n    }\n  },\n  beforeDestroy() {\n    this.$root.Bus.$off(\"eventSelectBuffer\");\n  }\n};\n</script>\n<style >\n/* .ivu-input {\n    display: inline-block;\n    width: 80%;\n    height: 32px;\n    line-height: 1.5;\n    padding: 4px 7px;\n    font-size: 12px;\n    border: 1px solid #dcdee2;\n    border-radius: 4px;\n    color: #515a6e;\n    background-color: #fff;\n    background-image: none;\n    position: relative;\n    cursor: text;\n    transition: border .2s ease-in-out,background .2s ease-in-out,box-shadow .2s ease-in-out;\n} */\n</style>\n\n "]}]}