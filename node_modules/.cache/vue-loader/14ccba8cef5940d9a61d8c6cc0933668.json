{"remainingRequest":"D:\\graduate\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\graduate\\src\\views\\recommendation\\components\\housingPreference.vue?vue&type=style&index=0&id=e7959c6a&lang=less&scoped=true&","dependencies":[{"path":"D:\\graduate\\src\\views\\recommendation\\components\\housingPreference.vue","mtime":1585540686697},{"path":"D:\\graduate\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\graduate\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\graduate\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\graduate\\node_modules\\less-loader\\dist\\cjs.js","mtime":1580901133496},{"path":"D:\\graduate\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1580901136398},{"path":"D:\\graduate\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*.userMessage.span{*/\n    /*margin-left: 20px;*/\n/*}*/\n/*.ivu-form-item-content {*/\n    /*position: relative;*/\n    /*line-height: 32px;*/\n    /*font-size: 14px;*/\n/*}*/\n/*.ivu-form .ivu-form-item-label {*/\n    /*text-align: right;*/\n    /*vertical-align: middle;*/\n    /*float: left;*/\n    /*font-size: 14px;*/\n    /*color: #515a6e;*/\n    /*line-height: 1;*/\n    /*padding: 10px 12px 10px 0;*/\n    /*box-sizing: border-box;*/\n/*}*/\n.ivu-tabs-bar {\n    margin-bottom: 0;\n}\n\n.ivu-form-item {\n    margin-bottom: 0;\n}\n",{"version":3,"sources":["housingPreference.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"housingPreference.vue","sourceRoot":"src\\views\\recommendation\\components","sourcesContent":["<template>\r\n    <Layout>\r\n        <Content>\r\n            <div  style=\"margin: 0 auto;width: 95%;\">\r\n                <!--<TabPane label=\"基于用户推荐\">-->\r\n                    <Card>\r\n                        <span style=\"margin: 15px\">昵称:</span>\r\n                        <span>{{this.user}}</span>\r\n                        <span style=\"margin: 15px\">年龄:</span>\r\n                        <span>{{this.userage}}</span>\r\n                        <span style=\"margin: 15px\">资金:</span>\r\n                        <span>{{this.money}}</span>\r\n                        <span style=\"margin: 15px\">教育程度:</span>\r\n                        <span>{{this.educations}}</span>\r\n                        <span style=\"margin: 15px\">用户类型:</span>\r\n                        <span>{{this.userInfo.roleName}}</span>\r\n                        <span style=\"margin: 15px\">注册时间:</span>\r\n                        <span>{{this.userInfo.createTime}}</span>\r\n                        <router-link to=\"/personal\">\r\n                        <Button style=\"margin-right: 20px;margin-left: 20px\">更新基本信息</Button>\r\n                        </router-link>\r\n                        <router-link to=\"/personalcenter\">\r\n                        <Button style=\"margin-right: 20px\">查看收藏小区</Button>\r\n                        </router-link>\r\n                    </Card>\r\n                    <Card>\r\n                        <Row :gutter=\"30\">\r\n                            <div v-for=\"(value,index) in information1\" :key=\"index\">\r\n                                <Col span=\"8\">\r\n                                    <Card style=\"padding: 0;\">\r\n                                        <div style=\"text-align:center\">\r\n                                            <img @click=\"getInfo(index,value)\" style=\"width: 320px;height: 230px\"\r\n                                                 v-bind:src=\"value.image\" alt=\"\">\r\n                                            <div style=\"overflow: hidden\">\r\n                                                <h2 style=\"float: left;font-size: 15px\">{{value.name}}</h2>\r\n                                                <img v-if=\"value.collected == '0'\" :src=uncollect alt=\"\" title=\"收藏\"\r\n                                                     @click=\"Collection(index,value)\"\r\n                                                     style=\"width: 15px;height: 15px;margin-top: 7px;margin-left: 15px;float: left\">\r\n                                                <img v-else-if=\"value.collected == '1'\" :src=collect alt=\"\" title=\"取消收藏\"\r\n                                                     @click=\"Collection(index,value)\"\r\n                                                     style=\"width: 15px;height: 15px;margin-top: 7px;margin-left: 15px;float: left\">\r\n                                                <span style=\"float: right\">{{value.price}}元/㎡</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </Card>\r\n                                </Col>\r\n                            </div>\r\n                        </Row>\r\n                    </Card>\r\n                    <card>\r\n                        <div>\r\n                            <div v-for=\"(value,index) in information2\" :key=\"index\">\r\n                                <div @click=\"location(index,value)\" style=\"border-bottom:1px solid #999\">\r\n                                    <Row>\r\n                                        <Col span=\"7\">\r\n                                            <div class=\"left mend_img\">\r\n                                                <img style=\"width: 250px;height: 150px;margin-top: 20px;margin-bottom: 10px\"\r\n                                                     v-bind:src=\"value.image\"/>\r\n                                            </div>\r\n                                        </Col>\r\n                                        <Col span=\"17\">\r\n                                            <div class=\"left name\" style=\"margin-top: 35px\">\r\n                                                <div style=\"margin-top: 25px;float: right;margin-right: 10%\">\r\n                                                    <span style=\"color: red;font-weight: bold;\">均价：{{value.price}}元/㎡</span>\r\n                                                    <p style=\"margin-top: 5px;font-size: 13px\">\r\n                                                        <span>楼层高度：{{value.houseHeight}}</span>\r\n                                                    </p>\r\n                                                    <p style=\"margin-top: 5px;font-size: 13px\">\r\n                                                        <span>销售情况：{{value.isSelling}}</span>\r\n                                                    </p>\r\n                                                    <p style=\"margin-top: 5px;font-size: 13px\">\r\n                                                        <span>停车位：{{value.parkingSpace}}个</span>\r\n                                                    </p>\r\n                                                </div>\r\n                                                <h2 style=\"display:inline-block;font-size: 15px\">{{value.name}}</h2>\r\n                                                <img v-if=\"value.collected == '0'\" :src=uncollect alt=\"\" title=\"收藏\"\r\n                                                     @click=\"Collection(index,value)\" id=\"index\"\r\n                                                     style=\"width: 15px;height: 15px;margin-left: 20px\">\r\n                                                <img v-else-if=\"value.collected == '1'\" :src=collect alt=\"\" title=\"取消收藏\"\r\n                                                     @click=\"Collection(index,value)\"\r\n                                                     style=\"width: 15px;height: 15px;margin-left: 20px\">\r\n\r\n                                                <p style=\"margin-top: 5px;font-size: 13px\">\r\n                                                    <span>价格说明：</span>在{{value.minPrice}}元/㎡ ~ {{value.maxPrice}}元/㎡之间\r\n                                                </p>\r\n                                                <p style=\"margin-top: 5px;font-size: 13px\">\r\n                                                    <span>物业类型：</span>{{value.houseType}}</p>\r\n                                                <p style=\"margin-top: 5px;font-size: 13px\">\r\n                                                    <span>地址：</span>{{value.address}}</p>\r\n                                                <p style=\"margin-top: 5px\">\r\n                                                    <a @click=\"getInfo(index,value)\"\r\n                                                       style=\"font-size: 10px\">查看小区详情>></a>\r\n                                                </p>\r\n                                            </div>\r\n                                        </Col>\r\n                                    </Row>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </card>\r\n                <!--</TabPane>-->\r\n                <!--<TabPane label=\"基于住宅推荐\">-->\r\n                    <!--<Card>-->\r\n                        <!--<div>-->\r\n                            <!--<Input v-model=\"value6\" placeholder=\"请输入小区名\" style=\"width: 200px;margin: 10px;\" />-->\r\n                            <!--<Button type=\"primary\" @click=\"getSmiarly\" class=\"submit\">确定</Button>-->\r\n                        <!--</div>-->\r\n                    <!--</Card>-->\r\n                    <!--<div>-->\r\n                        <!--<Row :gutter=\"30\">-->\r\n                            <!--<div v-for=\"(value,index) in BaseOnHouses\">-->\r\n                                <!--<Col span=\"8\">-->\r\n                                    <!--<Card style=\"padding: 0;\">-->\r\n                                        <!--<div style=\"text-align:center\">-->\r\n                                            <!--<img @click=\"getInfo(index,value)\" style=\"width: 320px;height: 230px\"-->\r\n                                                 <!--v-bind:src=\"value.image\" alt=\"\">-->\r\n                                            <!--<div style=\"overflow: hidden\">-->\r\n                                                <!--<h2 style=\"float: left;font-size: 16px\">{{value.name}}</h2>-->\r\n                                                <!--<img v-if=\"value.collected == '0'\" :src=uncollect alt=\"\" title=\"收藏\"-->\r\n                                                     <!--@click=\"Collection(index,value)\"-->\r\n                                                     <!--style=\"width: 15px;height: 15px;margin-top: 7px;margin-left: 15px;float: left\">-->\r\n                                                <!--<img v-else-if=\"value.collected == '1'\" :src=collect alt=\"\" title=\"取消收藏\"-->\r\n                                                     <!--@click=\"Collection(index,value)\"-->\r\n                                                     <!--style=\"width: 15px;height: 15px;margin-top: 7px;margin-left: 15px;float: left\">-->\r\n                                                <!--<span style=\"float: right\">{{value.price}}元/㎡</span>-->\r\n                                            <!--</div>-->\r\n                                        <!--</div>-->\r\n                                    <!--</Card>-->\r\n                                <!--</Col>-->\r\n                            <!--</div>-->\r\n                        <!--</Row>-->\r\n                    <!--</div>-->\r\n                <!--</TabPane>-->\r\n            </div>\r\n        </Content>\r\n    </Layout>\r\n</template>\r\n<script>\r\n    import Server from \"@/core/server\";\r\n    import {services} from \"@/core/config/services\";\r\n    import houseInfoId from \"@/vuex/store\";\r\n    import dataRap from \"@/vuex/store\";\r\n    import aroundInfo from \"@/vuex/store\";\r\n    import housePoint from \"@/vuex/store\";\r\n\r\n    export default {\r\n        computed: {},\r\n        data() {\r\n            return {\r\n                distance: \"1000\",\r\n                value6:'南台新苑安',\r\n                information2: [],\r\n                information1: [],\r\n                houseName: \"\",\r\n                collect: require(`.././../../assets/img/collect.png`),\r\n                uncollect: require(`.././../../assets/img/uncollect.png`),\r\n                userInfo: [],\r\n                userage: [],\r\n                money: [],\r\n                educations: [],\r\n                age: [\r\n                    {\r\n                        value: \"1\",\r\n                        label: \"25岁以下\"\r\n                    },\r\n                    {\r\n                        value: \"2\",\r\n                        label: \"26-30岁\"\r\n                    },\r\n                    {\r\n                        value: \"3\",\r\n                        label: \"31-35岁\"\r\n                    },\r\n                    {\r\n                        value: \"4\",\r\n                        label: \"36-40岁\"\r\n                    },\r\n                    {\r\n                        value: \"5\",\r\n                        label: \"41-45岁\"\r\n                    },\r\n                    {\r\n                        value: \"6\",\r\n                        label: \"46-50岁\"\r\n                    },\r\n                    {\r\n                        value: \"7\",\r\n                        label: \"51-55岁\"\r\n                    },\r\n                    {\r\n                        value: \"8\",\r\n                        label: \"51-55岁\"\r\n                    },\r\n                    {\r\n                        value: \"9\",\r\n                        label: \"60岁以上\"\r\n                    }\r\n                ],\r\n                capital: [\r\n                    {\r\n                        value: \"1\",\r\n                        label: \"1w以下\"\r\n                    },\r\n                    {\r\n                        value: \"2\",\r\n                        label: \"1w-3w\"\r\n                    },\r\n                    {\r\n                        value: \"3\",\r\n                        label: \"3w-5w\"\r\n                    },\r\n                    {\r\n                        value: \"4\",\r\n                        label: \"5w-10w\"\r\n                    },\r\n                    {\r\n                        value: \"5\",\r\n                        label: \"10w-20w\"\r\n                    },\r\n                    {\r\n                        value: \"6\",\r\n                        label: \"20w-50w\"\r\n                    },\r\n                    {\r\n                        value: \"7\",\r\n                        label: \"80w-150w\"\r\n                    },\r\n                    {\r\n                        value: \"8\",\r\n                        label: \"80w-150w\"\r\n                    },\r\n                    {\r\n                        value: \"9\",\r\n                        label: \"150w以上\"\r\n                    }\r\n                ],\r\n                education: [\r\n                    {\r\n                        value: \"1\",\r\n                        label: \"小学及以下\"\r\n                    },\r\n                    {\r\n                        value: \"2\",\r\n                        label: \"初中\"\r\n                    },\r\n                    {\r\n                        value: \"3\",\r\n                        label: \"高中\"\r\n                    },\r\n                    {\r\n                        value: \"4\",\r\n                        label: \"中专\"\r\n                    },\r\n                    {\r\n                        value: \"5\",\r\n                        label: \"大专\"\r\n                    },\r\n                    {\r\n                        value: \"6\",\r\n                        label: \"本科\"\r\n                    },\r\n                    {\r\n                        value: \"7\",\r\n                        label: \"硕士\"\r\n                    },\r\n                    {\r\n                        value: \"8\",\r\n                        label: \"博士\"\r\n                    },\r\n                    {\r\n                        value: \"9\",\r\n                        label: \"博士以上\"\r\n                    }\r\n                ],\r\n                user: \"\",\r\n                BaseOnHouses: []\r\n            };\r\n        },\r\n        mounted() {\r\n            this.getdata();\r\n            this.getInfos();\r\n            this.getSmiarly();\r\n        },\r\n        methods: {\r\n            getSmiarly() {\r\n                var this_ = this;\r\n                var userId = JSON.parse(sessionStorage.getItem(\"userId\"));\r\n                Server.get({\r\n                    url: services.recommendedBaseOnHouse,\r\n                    params: {\r\n                        houseName:this.value6,\r\n                        userId: userId\r\n                    }\r\n                }).then(function (rsp) {\r\n                    if (rsp.status === 1) {\r\n                        console.log(rsp);\r\n                        this_.BaseOnHouses = rsp.data;\r\n                        console.log(this.BaseOnHouses);\r\n                    }\r\n                });\r\n            },\r\n            getInfos() {\r\n                var this_ = this;\r\n                var user = JSON.parse(sessionStorage.getItem(\"userAccount\"));\r\n                this.user = user;\r\n                var userId = JSON.parse(sessionStorage.getItem(\"userId\"));\r\n                Server.get({\r\n                    url: services.getInfo,\r\n                    params: {\r\n                        username: user,\r\n                        userId: userId\r\n                    }\r\n                }).then(rsp => {\r\n                    this.userInfo = rsp.data;\r\n                    debugger\r\n                    // this.userage = rsp.data.userEducationLevel;\r\n                    for (let i = 1; i < 9; i++) {\r\n\r\n                        if (this.userInfo.age == i) {\r\n                            this.userage = this.age[i - 1].label;\r\n                        }\r\n                    }\r\n                    for (let i = 1; i <= 9; i++) {\r\n                        if (this.userInfo.userMoney == i) {\r\n                            this.money = this.capital[i - 1].label;\r\n                        }\r\n                    }\r\n                    for (let i = 0; i < 9; i++) {\r\n                        if (this.userInfo.userEducationLevel == i) {\r\n                            this.educations = this.education[i - 1].label;\r\n                        }\r\n                    }\r\n                });\r\n            },\r\n            getInfo(index, value) {\r\n                debugger;\r\n                this.houseName = value.name;\r\n                this.houseId = value.houseId;\r\n                this.houseShape = value.Shape;\r\n                housePoint.commit(\"housePoint\", this.houseShape);\r\n                Server.get({\r\n                    url: services.compareHouseDetails,\r\n                    params: {\r\n                        houseId: this.houseId\r\n                    }\r\n                }).then(rsp => {\r\n                    if (rsp.status === 1) {\r\n                        houseInfoId.commit(\"houseInfoId\", rsp);\r\n                    }\r\n                }).then(\r\n                    Server.get({\r\n                        url: services.road,\r\n                        params: {\r\n                            name: value.name,\r\n                            tableName: \"BUSSTATION\",\r\n                            distance:this.distance\r\n                        }\r\n                    }).then(rsp => {\r\n                        debugger;\r\n                        var _this = this;\r\n                        if (rsp.status === 1) {\r\n                            aroundInfo.commit(\"aroundInfo\", rsp);\r\n                            aroundInfo.commit(\"housueName\", this.houseName);\r\n                            this.$router.push(\"/houseinfo\");\r\n                        }\r\n                    })\r\n                );\r\n            },\r\n            getdata() {\r\n                debugger;\r\n                var information = JSON.parse(sessionStorage.getItem(\"information2\"));\r\n                this.information2 = information.slice(3, information.length);\r\n                this.information1.push(information[0], information[1], information[2]);\r\n            },\r\n            Collection(index, value) {\r\n                debugger;\r\n                var userId = JSON.parse(sessionStorage.getItem(\"userId\"));\r\n                if (value.collected === 0) {\r\n                    this.houseName = value.name;\r\n                    this.houseId = value.houseId;\r\n                    Server.get({\r\n                        url: services.addCollectHouse,\r\n                        params: {\r\n                            userId: userId,\r\n                            houseName: this.houseName\r\n                        }\r\n                    }).then(rsp => {\r\n                        this.$Message.success(rsp.message);\r\n                        value.collected = 1;\r\n                    });\r\n                } else if (value.collected === 1) {\r\n                    this.houseName = value.name;\r\n                    this.$Modal.confirm({\r\n                        title: \"提示\",\r\n                        content: \"是否取消收藏?\",\r\n                        onOk: () => {\r\n                            Server.get({\r\n                                url: services.delCollectHouse,\r\n                                params: {\r\n                                    userId: userId,\r\n                                    houseName: this.houseName\r\n                                }\r\n                            }).then(rsp => {\r\n                                if (rsp.status == 1) {\r\n                                    this.$Message.success(rsp.message);\r\n                                    value.collected = 0;\r\n                                } else {\r\n                                    this.$Message.error(rsp.message);\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    };\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    /*.userMessage.span{*/\r\n        /*margin-left: 20px;*/\r\n    /*}*/\r\n    /*.ivu-form-item-content {*/\r\n        /*position: relative;*/\r\n        /*line-height: 32px;*/\r\n        /*font-size: 14px;*/\r\n    /*}*/\r\n    /*.ivu-form .ivu-form-item-label {*/\r\n        /*text-align: right;*/\r\n        /*vertical-align: middle;*/\r\n        /*float: left;*/\r\n        /*font-size: 14px;*/\r\n        /*color: #515a6e;*/\r\n        /*line-height: 1;*/\r\n        /*padding: 10px 12px 10px 0;*/\r\n        /*box-sizing: border-box;*/\r\n    /*}*/\r\n    .ivu-tabs-bar {\r\n        margin-bottom: 0;\r\n    }\r\n\r\n    .ivu-form-item {\r\n        margin-bottom: 0;\r\n    }\r\n</style>\r\n"]}]}