{"remainingRequest":"E:\\04 GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\node_modules\\babel-loader\\lib\\index.js!E:\\04 GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\04 GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\src\\map\\components\\smallMapView.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\04 GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\src\\map\\components\\smallMapView.vue","mtime":1589100036098},{"path":"E:\\04 GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1580901136398},{"path":"E:\\04 GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\04 GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\nimport _slicedToArray from \"E:\\\\04 GIS\\u76F8\\u5173\\u6BD4\\u8D5B\\\\01 GIS\\u7701\\u8D5B(\\u4E2D\\u671F\\u68C0\\u67E5+\\u6536\\u5C3E)\\\\04 \\u7CFB\\u7EDF\\u8FD0\\u884C\\u4EE3\\u7801\\\\Code\\\\\\u524D\\u7AEF\\\\node_modules\\\\@babel\\\\runtime/helpers/builtin/es6/slicedToArray\";\n//\n//\n//\n//\n//\n//\n//\n//\nimport esriLoader from \"esri-loader\";\nimport { MapAPI } from \"@/core/config/const\";\nimport Register from \"@/map/api/register\";\nimport Server from \"@/core/server\";\nimport { services } from \"@/core/config/services\";\nimport measureArea from \"@/map/components/measureArea\";\nimport measureLength from \"@/map/components/measureLength\";\nimport MapToolsView from \"@/map/components/MapToolsView\";\nimport GDrawSketch from \"@/map/api/4+/GDrawSketch\";\nimport GConvertGeometry from \"@/map/api/js/convert/GConvertGeometry\";\nexport default {\n  data: function data() {\n    return {\n      visible: false,\n      isShow: false,\n      shape: \"\",\n      txt_input: \"\",\n      list: [],\n      dialog: false,\n      pageSize: 10,\n      txt_select: \"\",\n      data: [],\n      baseLayer: \"\",\n      street: \"\",\n      isExtent: true,\n      isPopup: true,\n      isPan: true,\n      defaultMapExtent: \"13175030.812,3804452.901,2\",\n      spatialReference: \"\",\n      toolsUrl: \"js/json/common_tools.json\",\n      mapTileLayerLayers: \"\",\n      TileLayerStreets: \"\",\n      MapImageLayer: \"\",\n      mapview: null,\n      IsMapToolsView: false\n    };\n  },\n  computed: {\n    height: function height() {\n      return document.body.clientHeight - 200;\n    }\n  },\n  watch: {\n    data: function data() {\n      this.onPageChange(1);\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.spatialReference = \"\";\n    this.addLayer(function (mapView) {\n      _this.mapLoaded(mapView);\n    });\n    this.register(); // setTimeout(() => {\n    //   this.showGraphics();\n    // }, 600);\n  },\n  methods: {\n    switch3d: function switch3d() {\n      this.$router.push(\"/3dmap\");\n    },\n    register: function register() {\n      var _this2 = this;\n\n      //接收外部结果\n      onemap.pubsub.subscribe(\"showQuickSearchResult\", function (arg) {\n        _this2.isExtent = false;\n        _this2.isPan = false;\n        _this2.isPopup = arg.isPopup || true;\n        _this2.data = arg.list;\n        _this2.visible = true;\n      });\n      onemap.pubsub.subscribe(\"hideQuickSearchResult\", function (arg) {\n        _this2.visible = false;\n        _this2.data = [];\n      }); //clear\n\n      onemap.pubsub.subscribe(\"clear\", function (arg) {\n        _this2.visible = false;\n        _this2.data = [];\n      });\n    },\n    mapLoaded: function mapLoaded(mapView) {\n      new Register(mapView).mapEvent().mapAPI().parentMapAPI();\n\n      if (this.isIQuery) {\n        new GIQuery({\n          mapView: mapView,\n          isPopup: this.isIPopup\n        }).toggle();\n      }\n    },\n    onToggleLayer: function onToggleLayer() {\n      debugger;\n\n      if (document.getElementsByClassName) {\n        var target = document.getElementsByClassName(\"esri-layer-list\");\n        var targetName = target[0];\n\n        if (targetName.style.display == \"block\") {\n          targetName.style.display = \"none\";\n        } else {\n          targetName.style.display = \"block\";\n        }\n      }\n    },\n    addLayer: function addLayer(callback) {\n      var _this3 = this;\n\n      esriLoader.loadScript({\n        url: MapAPI.js,\n        css: MapAPI.css\n      }).then(function (r) {\n        esriLoader.loadModules([\"esri/config\", \"esri/Map\", \"esri/layers/GroupLayer\", \"esri/Basemap\", \"esri/views/MapView\", \"esri/layers/MapImageLayer\", \"esri/layers/TileLayer\", \"esri/geometry/Extent\", \"esri/widgets/LayerList\"]).then(function (_ref) {\n          var _ref2 = _slicedToArray(_ref, 11),\n              esriConfig = _ref2[0],\n              Map = _ref2[1],\n              GroupLayer = _ref2[2],\n              Basemap = _ref2[3],\n              MapView = _ref2[4],\n              MapImageLayer = _ref2[5],\n              TileLayer = _ref2[6],\n              Extent = _ref2[7],\n              LayerList = _ref2[8],\n              dom = _ref2[9],\n              on = _ref2[10];\n\n          esriConfig.request.corsEnabledServers.push(\"192.168.1.102/\");\n          var activeWidget = null; // var layer = new MapImageLayer({\n          //   url:\n          //     \"http://122.112.216.247:6080/arcgis/rest/services/Servers/Map/MapServer\"\n          // });\n\n          var layer = new TileLayer({\n            url: \"http://122.112.216.247:6080/arcgis/rest/services/Servers/Map/MapServer\"\n          });\n          _this3.baseLayer = layer; // var street = new TileLayer({\n          //   url:\n          //     \"\thttps://localhost:6443/arcgis/rest/services/ChuZhou/ChuZhouYX/MapServer\",\n          //   visible: false\n          // });\n          // this.street = street;\n\n          var USALayer = new TileLayer({\n            url: \"\t\thttp://122.112.216.247:6080/arcgis/rest/services/Servers/中学学区/MapServer\",\n            title: \"中学学区\",\n            visible: false\n          });\n          var censusLayer = new TileLayer({\n            url: \"http://122.112.216.247:6080/arcgis/rest/services/Servers/小学学区/MapServer\",\n            title: \"小学学区\",\n            visible: false\n          });\n          var baseMap = new Basemap({\n            baseLayers: [layer]\n          });\n          var demographicGroupLayer = new GroupLayer({\n            title: \"专题图层\",\n            visible: true,\n            visibilityMode: \"independent\",\n            layers: [USALayer, censusLayer],\n            opacity: 0.75\n          });\n          var map = new Map({\n            // basemap: baseMap,\n            basemap: baseMap,\n            layers: [demographicGroupLayer]\n          });\n          var ext = String(_this3.defaultMapExtent).split(\",\");\n\n          if (ext.length > 3) {\n            console.log(\"extent 配置有误\");\n            return false;\n          }\n\n          var zoom = parseInt(ext[2]);\n          var center = {\n            x: parseFloat(ext[0]),\n            y: parseFloat(ext[1]),\n            spatialReference: _this3.spatialReference\n          };\n          _this3.mapview = new MapView({\n            container: \"viewDiv\",\n            map: map,\n            zoom: zoom,\n            center: center\n          });\n\n          _this3.mapview.ui.remove([\"attribution\", \"zoom\"]);\n\n          var view = _this3.mapview;\n          view.when(function () {\n            var layerList = new LayerList({\n              view: view\n            });\n            view.ui.add(layerList, \"top-right\");\n          });\n          _this3.mapview.initExtent = {\n            center: center,\n            zoom: zoom\n          };\n          window.mapview = _this3.mapview;\n          callback(_this3.mapview);\n          _this3.IsMapToolsView = true;\n        });\n      });\n    },\n    switchbasemap: function switchbasemap() {\n      if (this.baseLayer.visible) {\n        this.baseLayer.visible = false;\n        this.street.visible = true;\n      } else {\n        this.baseLayer.visible = true;\n        this.street.visible = false;\n      }\n    },\n    watchLayer: function watchLayer() {}\n  },\n  components: {\n    measureArea: measureArea,\n    measureLength: measureLength,\n    MapToolsView: MapToolsView\n  }\n};",{"version":3,"sources":["smallMapView.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <div id=\"viewDiv\" region=\"center\">\r\n      <div class=\"smallTools\">\r\n        <MapToolsView :mapView=\"mapview\" v-if=\"IsMapToolsView\" :url=\"toolsUrl\"></MapToolsView>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template><script>\r\nimport esriLoader from \"esri-loader\";\r\nimport { MapAPI } from \"@/core/config/const\";\r\nimport Register from \"@/map/api/register\";\r\nimport Server from \"@/core/server\";\r\nimport { services } from \"@/core/config/services\";\r\nimport measureArea from \"@/map/components/measureArea\";\r\nimport measureLength from \"@/map/components/measureLength\";\r\nimport MapToolsView from \"@/map/components/MapToolsView\";\r\nimport GDrawSketch from \"@/map/api/4+/GDrawSketch\";\r\nimport GConvertGeometry from \"@/map/api/js/convert/GConvertGeometry\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      visible: false,\r\n      isShow: false,\r\n      shape: \"\",\r\n      txt_input: \"\",\r\n      list: [],\r\n      dialog: false,\r\n      pageSize: 10,\r\n      txt_select: \"\",\r\n      data: [],\r\n      baseLayer: \"\",\r\n      street: \"\",\r\n      isExtent: true,\r\n      isPopup: true,\r\n      isPan: true,\r\n      defaultMapExtent: \"13175030.812,3804452.901,2\",\r\n      spatialReference: \"\",\r\n      toolsUrl: \"js/json/common_tools.json\",\r\n      mapTileLayerLayers: \"\",\r\n      TileLayerStreets: \"\",\r\n      MapImageLayer: \"\",\r\n      mapview: null,\r\n      IsMapToolsView: false\r\n    };\r\n  },\r\n  computed: {\r\n    height() {\r\n      return document.body.clientHeight - 200;\r\n    }\r\n  },\r\n  watch: {\r\n    data() {\r\n      this.onPageChange(1);\r\n    }\r\n  },\r\n  mounted() {\r\n    this.spatialReference = \"\";\r\n    this.addLayer(mapView => {\r\n      this.mapLoaded(mapView);\r\n    });\r\n    this.register();\r\n    // setTimeout(() => {\r\n    //   this.showGraphics();\r\n    // }, 600);\r\n  },\r\n  methods: {\r\n    switch3d() {\r\n      this.$router.push(\"/3dmap\");\r\n    },\r\n    register() {\r\n      //接收外部结果\r\n      onemap.pubsub.subscribe(\"showQuickSearchResult\", arg => {\r\n        this.isExtent = false;\r\n        this.isPan = false;\r\n        this.isPopup = arg.isPopup || true;\r\n        this.data = arg.list;\r\n        this.visible = true;\r\n      });\r\n      onemap.pubsub.subscribe(\"hideQuickSearchResult\", arg => {\r\n        this.visible = false;\r\n        this.data = [];\r\n      });\r\n\r\n      //clear\r\n      onemap.pubsub.subscribe(\"clear\", arg => {\r\n        this.visible = false;\r\n        this.data = [];\r\n      });\r\n    },\r\n    mapLoaded(mapView) {\r\n      new Register(mapView)\r\n        .mapEvent()\r\n        .mapAPI()\r\n        .parentMapAPI();\r\n      if (this.isIQuery) {\r\n        new GIQuery({\r\n          mapView: mapView,\r\n          isPopup: this.isIPopup\r\n        }).toggle();\r\n      }\r\n    },\r\n    onToggleLayer() {\r\n      debugger;\r\n      if (document.getElementsByClassName) {\r\n        var target = document.getElementsByClassName(\"esri-layer-list\");\r\n        var targetName = target[0];\r\n        if (targetName.style.display == \"block\") {\r\n          targetName.style.display = \"none\";\r\n        } else {\r\n          targetName.style.display = \"block\";\r\n        }\r\n      }\r\n    },\r\n\r\n    addLayer(callback) {\r\n      esriLoader\r\n        .loadScript({\r\n          url: MapAPI.js,\r\n          css: MapAPI.css\r\n        })\r\n        .then(r => {\r\n          esriLoader\r\n            .loadModules([\r\n              \"esri/config\",\r\n              \"esri/Map\",\r\n              \"esri/layers/GroupLayer\",\r\n              \"esri/Basemap\",\r\n              \"esri/views/MapView\",\r\n              \"esri/layers/MapImageLayer\",\r\n              \"esri/layers/TileLayer\",\r\n              \"esri/geometry/Extent\",\r\n              \"esri/widgets/LayerList\"\r\n            ])\r\n            .then(\r\n              ([\r\n                esriConfig,\r\n                Map,\r\n                GroupLayer,\r\n                Basemap,\r\n                MapView,\r\n                MapImageLayer,\r\n                TileLayer,\r\n                Extent,\r\n                LayerList,\r\n                dom,\r\n                on\r\n              ]) => {\r\n                esriConfig.request.corsEnabledServers.push(\"192.168.1.102/\");\r\n\r\n                var activeWidget = null;\r\n                // var layer = new MapImageLayer({\r\n                //   url:\r\n                //     \"http://122.112.216.247:6080/arcgis/rest/services/Servers/Map/MapServer\"\r\n                // });\r\n                var layer = new TileLayer({\r\n                  url:\r\n                    \"http://122.112.216.247:6080/arcgis/rest/services/Servers/Map/MapServer\"\r\n                });\r\n                this.baseLayer = layer;\r\n                // var street = new TileLayer({\r\n                //   url:\r\n                //     \"\thttps://localhost:6443/arcgis/rest/services/ChuZhou/ChuZhouYX/MapServer\",\r\n\r\n                //   visible: false\r\n                // });\r\n\r\n                // this.street = street;\r\n                var USALayer = new TileLayer({\r\n                  url:\r\n                    \"\t\thttp://122.112.216.247:6080/arcgis/rest/services/Servers/中学学区/MapServer\",\r\n                  title: \"中学学区\",\r\n                  visible: false\r\n                });\r\n\r\n                var censusLayer = new TileLayer({\r\n                  url:\r\n                    \"http://122.112.216.247:6080/arcgis/rest/services/Servers/小学学区/MapServer\",\r\n                  title: \"小学学区\",\r\n                  visible: false\r\n                });\r\n                var baseMap = new Basemap({\r\n                  baseLayers: [layer]\r\n                });\r\n                var demographicGroupLayer = new GroupLayer({\r\n                  title: \"专题图层\",\r\n                  visible: true,\r\n                  visibilityMode: \"independent\",\r\n                  layers: [USALayer, censusLayer],\r\n                  opacity: 0.75\r\n                });\r\n\r\n                var map = new Map({\r\n                  // basemap: baseMap,\r\n                  basemap: baseMap,\r\n                  layers: [demographicGroupLayer]\r\n                });\r\n                var ext = String(this.defaultMapExtent).split(\",\");\r\n                if (ext.length > 3) {\r\n                  console.log(\"extent 配置有误\");\r\n                  return false;\r\n                }\r\n                var zoom = parseInt(ext[2]);\r\n                var center = {\r\n                  x: parseFloat(ext[0]),\r\n                  y: parseFloat(ext[1]),\r\n                  spatialReference: this.spatialReference\r\n                };\r\n                this.mapview = new MapView({\r\n                  container: \"viewDiv\",\r\n                  map: map,\r\n                  zoom: zoom,\r\n                  center: center\r\n                });\r\n\r\n                this.mapview.ui.remove([\"attribution\", \"zoom\"]);\r\n                var view = this.mapview;\r\n                view.when(function() {\r\n                  var layerList = new LayerList({\r\n                    view: view\r\n                  });\r\n                  view.ui.add(layerList, \"top-right\");\r\n                });\r\n\r\n                this.mapview.initExtent = {\r\n                  center: center,\r\n                  zoom: zoom\r\n                };\r\n                window.mapview = this.mapview;\r\n                callback(this.mapview);\r\n                this.IsMapToolsView = true;\r\n              }\r\n            );\r\n        });\r\n    },\r\n    switchbasemap() {\r\n      if (this.baseLayer.visible) {\r\n        this.baseLayer.visible = false;\r\n        this.street.visible = true;\r\n      } else {\r\n        this.baseLayer.visible = true;\r\n        this.street.visible = false;\r\n      }\r\n    },\r\n    watchLayer() {}\r\n  },\r\n  components: {\r\n    measureArea,\r\n    measureLength,\r\n    MapToolsView\r\n  }\r\n};\r\n</script>\r\n\r\n<style >\r\n.esri-layer-list {\r\n  display: block;\r\n}\r\n.esri-component esri-layer-list esri-widget esri-widget--panel {\r\n  display: block;\r\n  margin-right: 0px;\r\n  max-height: 240px;\r\n  width: 210px;\r\n  /* margin-left: px; */\r\n  margin-top: 0px;\r\n}\r\n#viewDiv {\r\n  /* padding: 0;\r\n    position: absolute;\r\n    height: 100%;\r\n    width: 100%; */\r\n  background: #fcf9f2;\r\n}\r\n\r\n.main .container-fluid {\r\n  padding: 0 0px;\r\n}\r\n.breadcrumb {\r\n  position: relative;\r\n  margin-bottom: 0.01rem;\r\n  border-bottom: 1px solid #cfd8dc;\r\n}\r\n#layerToggle {\r\n  top: 20px;\r\n  right: 20px;\r\n  position: absolute;\r\n  z-index: 99;\r\n  background-color: white;\r\n  border-radius: 8px;\r\n  padding: 10px;\r\n  opacity: 0.75;\r\n}\r\n.baidu {\r\n  position: absolute;\r\n  right: 0;\r\n  top: 115px;\r\n}\r\n\r\n.list-wrapper {\r\n  padding: 10px;\r\n  overflow-y: auto;\r\n}\r\n</style>"],"sourceRoot":"src\\map\\components"}]}