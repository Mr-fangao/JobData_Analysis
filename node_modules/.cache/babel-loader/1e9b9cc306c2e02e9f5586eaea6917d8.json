{"remainingRequest":"E:\\00 毕业论文\\04 系统代码\\C30 开发源代码\\前端\\jobData_Analysis前端\\node_modules\\babel-loader\\lib\\index.js!E:\\00 毕业论文\\04 系统代码\\C30 开发源代码\\前端\\jobData_Analysis前端\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\00 毕业论文\\04 系统代码\\C30 开发源代码\\前端\\jobData_Analysis前端\\src\\views\\infoSearch\\inforCount\\buffer.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\00 毕业论文\\04 系统代码\\C30 开发源代码\\前端\\jobData_Analysis前端\\src\\views\\infoSearch\\inforCount\\buffer.vue","mtime":1585385294809},{"path":"E:\\00 毕业论文\\04 系统代码\\C30 开发源代码\\前端\\jobData_Analysis前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1580901136398},{"path":"E:\\00 毕业论文\\04 系统代码\\C30 开发源代码\\前端\\jobData_Analysis前端\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\00 毕业论文\\04 系统代码\\C30 开发源代码\\前端\\jobData_Analysis前端\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Server from \"@/core/server\";\nimport { services } from \"@/core/config/services\";\nimport GDrawSketch from \"@/map/api/4+/GDrawSketch\";\nimport GDrawbuffer from \"@/map/api/4+/GDrawBuffer\";\nimport GConvertGeometry from \"@/map/api/js/convert/GConvertGeometry\";\nexport default {\n  created: function created() {\n    var _this = this;\n\n    this.$root.Bus.$on(\"eventSelectBuffer\", function () {\n      _this.dialog2 = true;\n    });\n  },\n  data: function data() {\n    return {\n      dialog2: false,\n      house: \"\",\n      isExtent: true,\n      isPopup: true,\n      isPan: true,\n      list: \"\",\n      distance: \"\"\n    };\n  },\n  methods: {\n    getHouse: function getHouse() {\n      var _this2 = this;\n\n      debugger;\n      Server.post({\n        url: services.getHouse,\n        params: {\n          housePolygon: this.house\n        }\n      }).then(function (rsp) {\n        if (rsp.status === 1) {\n          _this2.list = rsp.data;\n\n          _this2.showGraphics();\n\n          _this2.$Message.success(\"查询成功\"); // sessionStorage.setItem(\"userInfo\", JSON.stringify(this.user))\n\n        } else {\n          _this2.$Message.error(rsp.message);\n        }\n      });\n    },\n    createPoint: function createPoint() {\n      var _this3 = this;\n\n      new GDrawbuffer(window.mapview).then(function (gDraw) {\n        _this3.gDraw = gDraw;\n\n        _this3.gDraw.enableCreatePoint(_this3.distance, function (buffer) {\n          _this3.house = window.mapApi.convert.toWKTByGeometry.ToWKT(buffer);\n          console.log(buffer.centroid.latitude);\n          console.log(buffer.centroid.longitude);\n          console.log(buffer.centroid.x);\n          console.log(buffer.centroid.y);\n        }); // console.log(shape1);\n        // var buffer = this.gDraw.enableCreatePoint(this.distance);\n        // console.log(buffer);\n        // console.log(this.gDraw);\n        // this.gDraw.on(\"draw-complete\", e => {\n        //   // let shape = mapApi.convert.toWKTByGeometry.ToWKT(e.geometry);\n        //   // this.shape = shape;\n        //   // console.log(this.shape);\n        //   // parent.onemap.pubsub.publish(\"drawPolygon\", shape);\n        // });\n\n      });\n    },\n    showGraphics: function showGraphics() {\n      //render graphic\n      if (this.list === 0) return;\n      onemap.pubsub.publish(\"drawHouseByList\", {\n        list: this.list,\n        popup: this.isPopup,\n        pan: this.isPan\n      });\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.$root.Bus.$off(\"eventSelectBuffer\");\n  }\n};",{"version":3,"sources":["buffer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAuBA,OAAA,MAAA,MAAA,eAAA;AACA,SAAA,QAAA,QAAA,wBAAA;AACA,OAAA,WAAA,MAAA,0BAAA;AACA,OAAA,WAAA,MAAA,0BAAA;AACA,OAAA,gBAAA,MAAA,uCAAA;AACA,eAAA;AACA,SADA,qBACA;AAAA;;AACA,SAAA,KAAA,CAAA,GAAA,CAAA,GAAA,CAAA,mBAAA,EAAA,YAAA;AACA,YAAA,OAAA,GAAA,IAAA;AACA,KAFA;AAGA,GALA;AAMA,MANA,kBAMA;AACA,WAAA;AACA,eAAA,KADA;AAEA,aAAA,EAFA;AAGA,gBAAA,IAHA;AAIA,eAAA,IAJA;AAKA,aAAA,IALA;AAMA,YAAA,EANA;AAOA,gBAAA;AAPA,KAAA;AASA,GAhBA;AAiBA,WAAA;AACA,YADA,sBACA;AAAA;;AACA;AACA,aAAA,IAAA,CAAA;AACA,aAAA,SAAA,QADA;AAEA,gBAAA;AACA,wBAAA,KAAA;AADA;AAFA,OAAA,EAKA,IALA,CAKA,eAAA;AACA,YAAA,IAAA,MAAA,KAAA,CAAA,EAAA;AACA,iBAAA,IAAA,GAAA,IAAA,IAAA;;AACA,iBAAA,YAAA;;AACA,iBAAA,QAAA,CAAA,OAAA,CAAA,MAAA,EAHA,CAIA;;AACA,SALA,MAKA;AACA,iBAAA,QAAA,CAAA,KAAA,CAAA,IAAA,OAAA;AACA;AACA,OAdA;AAeA,KAlBA;AAmBA,eAnBA,yBAmBA;AAAA;;AACA,UAAA,WAAA,CAAA,OAAA,OAAA,EAAA,IAAA,CAAA,iBAAA;AACA,eAAA,KAAA,GAAA,KAAA;;AACA,eAAA,KAAA,CAAA,iBAAA,CAAA,OAAA,QAAA,EAAA,kBAAA;AACA,iBAAA,KAAA,GAAA,OAAA,MAAA,CAAA,OAAA,CAAA,eAAA,CAAA,KAAA,CAAA,MAAA,CAAA;AACA,kBAAA,GAAA,CAAA,OAAA,QAAA,CAAA,QAAA;AACA,kBAAA,GAAA,CAAA,OAAA,QAAA,CAAA,SAAA;AACA,kBAAA,GAAA,CAAA,OAAA,QAAA,CAAA,CAAA;AACA,kBAAA,GAAA,CAAA,OAAA,QAAA,CAAA,CAAA;AACA,SANA,EAFA,CASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAnBA;AAoBA,KAxCA;AAyCA,gBAzCA,0BAyCA;AACA;AAEA,UAAA,KAAA,IAAA,KAAA,CAAA,EAAA;AACA,aAAA,MAAA,CAAA,OAAA,CAAA,iBAAA,EAAA;AACA,cAAA,KAAA,IADA;AAEA,eAAA,KAAA,OAFA;AAGA,aAAA,KAAA;AAHA,OAAA;AAKA;AAlDA,GAjBA;AAqEA,eArEA,2BAqEA;AACA,SAAA,KAAA,CAAA,GAAA,CAAA,IAAA,CAAA,mBAAA;AACA;AAvEA,CAAA","sourcesContent":["<template>\n  <Modal v-model=\"dialog2\" :mask-closable=\"false\" width=\"400\" title=\"缓冲区查询\" draggable>\n    <Form :label-width=\"60\">\n      <FormItem label=\"半径：\" prop=\"zoning\" :width=\"80\">\n        <div style=\"width:260px ;display:inline-block\">\n          <Input v-model=\"distance\" placeholder clearable></Input>\n        </div>\n        <span style=\"width:20px;margin-left:15px\">千米</span>\n      </FormItem>\n      <FormItem label=\"选点：\" prop=\"zoning\">\n        <Button shape=\"circle\" title=\"自定义选点\" @click=\"createPoint\">\n          <span>\n            <Icon type=\"ios-pin-outline\" size=\"17\" />\n          </span>\n        </Button>\n      </FormItem>\n    </Form>\n    <div slot=\"footer\">\n      <Button type=\"primary\" size=\"large\" long @click=\"getHouse\">查询</Button>\n    </div>\n  </Modal>\n</template>\n <script>\nimport Server from \"@/core/server\";\nimport { services } from \"@/core/config/services\";\nimport GDrawSketch from \"@/map/api/4+/GDrawSketch\";\nimport GDrawbuffer from \"@/map/api/4+/GDrawBuffer\";\nimport GConvertGeometry from \"@/map/api/js/convert/GConvertGeometry\";\nexport default {\n  created() {\n    this.$root.Bus.$on(\"eventSelectBuffer\", () => {\n      this.dialog2 = true;\n    });\n  },\n  data() {\n    return {\n      dialog2: false,\n      house: \"\",\n      isExtent: true,\n      isPopup: true,\n      isPan: true,\n      list: \"\",\n      distance: \"\"\n    };\n  },\n  methods: {\n    getHouse() {\n      debugger;\n      Server.post({\n        url: services.getHouse,\n        params: {\n          housePolygon: this.house\n        }\n      }).then(rsp => {\n        if (rsp.status === 1) {\n          this.list = rsp.data;\n          this.showGraphics();\n          this.$Message.success(\"查询成功\");\n          // sessionStorage.setItem(\"userInfo\", JSON.stringify(this.user))\n        } else {\n          this.$Message.error(rsp.message);\n        }\n      });\n    },\n    createPoint() {\n      new GDrawbuffer(window.mapview).then(gDraw => {\n        this.gDraw = gDraw;\n        this.gDraw.enableCreatePoint(this.distance, buffer => {\n          this.house = window.mapApi.convert.toWKTByGeometry.ToWKT(buffer);\n          console.log(buffer.centroid.latitude);\n          console.log(buffer.centroid.longitude);\n          console.log(buffer.centroid.x);\n          console.log(buffer.centroid.y);\n        });\n        // console.log(shape1);\n        // var buffer = this.gDraw.enableCreatePoint(this.distance);\n        // console.log(buffer);\n        // console.log(this.gDraw);\n        // this.gDraw.on(\"draw-complete\", e => {\n        //   // let shape = mapApi.convert.toWKTByGeometry.ToWKT(e.geometry);\n        //   // this.shape = shape;\n        //   // console.log(this.shape);\n        //   // parent.onemap.pubsub.publish(\"drawPolygon\", shape);\n        // });\n      });\n    },\n    showGraphics() {\n      //render graphic\n\n      if (this.list === 0) return;\n      onemap.pubsub.publish(\"drawHouseByList\", {\n        list: this.list,\n        popup: this.isPopup,\n        pan: this.isPan\n      });\n    }\n  },\n  beforeDestroy() {\n    this.$root.Bus.$off(\"eventSelectBuffer\");\n  }\n};\n</script>\n<style >\n/* .ivu-input {\n    display: inline-block;\n    width: 80%;\n    height: 32px;\n    line-height: 1.5;\n    padding: 4px 7px;\n    font-size: 12px;\n    border: 1px solid #dcdee2;\n    border-radius: 4px;\n    color: #515a6e;\n    background-color: #fff;\n    background-image: none;\n    position: relative;\n    cursor: text;\n    transition: border .2s ease-in-out,background .2s ease-in-out,box-shadow .2s ease-in-out;\n} */\n</style>\n\n "],"sourceRoot":"src\\views\\infoSearch\\inforCount"}]}