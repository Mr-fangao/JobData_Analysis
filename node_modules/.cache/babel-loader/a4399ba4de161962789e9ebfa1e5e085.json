{"remainingRequest":"C:\\Users\\asus\\Desktop\\GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\asus\\Desktop\\GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\asus\\Desktop\\GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\src\\views\\login\\js\\login.js","dependencies":[{"path":"C:\\Users\\asus\\Desktop\\GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\src\\views\\login\\js\\login.js","mtime":1583567173003},{"path":"C:\\Users\\asus\\Desktop\\GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1580901136398},{"path":"C:\\Users\\asus\\Desktop\\GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\asus\\Desktop\\GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["/* eslint-disable */\nimport Server from \"@/core/server\";\nimport { services } from \"@/core/config/services\";\nexport var login = {\n  data: function data() {\n    return {\n      userId: \"\",\n      accountName: \"\",\n      user: {\n        userAccount: \"admin\",\n        userPwd: \"123456\",\n        remember: false\n      },\n      rules: {\n        userAccount: [{\n          required: true,\n          message: \"用户名不能为空\",\n          trigger: \"blur\"\n        }],\n        userPwd: [{\n          required: true,\n          message: \"密码不能为空\",\n          trigger: \"blur\"\n        }]\n      },\n      loading: false\n    };\n  },\n  created: function created() {\n    var remember = localStorage.getItem(\"login-remember\") || null;\n\n    if (remember !== null) {\n      this.user.remember = true;\n      var rememberInfo = onemap.utils.base64.decode(remember);\n      var userJson = JSON.parse(rememberInfo);\n      this.user.userAccount = userJson.user;\n      this.user.userPwd = userJson.psd;\n    }\n  },\n  methods: {\n    checkLogin: function checkLogin() {\n      var _this = this;\n\n      var this_ = this;\n      this.loading = true;\n      Server.post({\n        url: services.login,\n        params: {\n          username: this.user.userAccount,\n          password: this.user.userPwd\n        }\n      }).then(function (rsp) {\n        if (rsp.data.status === 1) {\n          this_.userId = rsp.data.userId;\n          _this.accountName = rsp.accountName;\n          var jsonStr = JSON.stringify({\n            user: _this.user.userAccount,\n            psd: _this.user.userPwd\n          });\n\n          if (_this.user.remember === true) {\n            localStorage.setItem(\"login-remember\", onemap.utils.base64.encode(jsonStr));\n          } else {\n            localStorage.removeItem(\"login-remember\");\n          }\n\n          sessionStorage.setItem(\"login-info\", onemap.utils.base64.encode(jsonStr));\n\n          _this.$Message.success(\"登录成功\");\n\n          sessionStorage.setItem(\"userInfo\", JSON.stringify(_this.accountName));\n          sessionStorage.setItem(\"userAccount\", JSON.stringify(_this.user.userAccount));\n          sessionStorage.setItem(\"userId\", JSON.stringify(rsp.data.userId));\n          sessionStorage.setItem(\"nickName\", JSON.stringify(rsp.data.nickName));\n          sessionStorage.setItem(\"userName\", JSON.stringify(rsp.data.userName));\n          sessionStorage.setItem(\"roleId\", JSON.stringify(rsp.data.roleId));\n\n          _this.$router.push({\n            path: \"/menu\"\n          });\n        } else {\n          _this.$Message.error(rsp.message);\n        }\n      }).then(function (rsp) {\n        var userId = JSON.parse(sessionStorage.getItem(\"userId\"));\n        Server.get({\n          url: services.getSimilarUserInfo,\n          params: {\n            userId: userId\n          }\n        }).then(function (rsp) {\n          if (rsp.status === 1) {\n            sessionStorage.setItem(\"information2\", JSON.stringify(rsp.data));\n          }\n        });\n      });\n    }\n  }\n};",{"version":3,"sources":["C:\\Users\\asus\\Desktop\\GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\src\\views\\login\\js\\login.js"],"names":["Server","services","login","data","userId","accountName","user","userAccount","userPwd","remember","rules","required","message","trigger","loading","created","localStorage","getItem","rememberInfo","onemap","utils","base64","decode","userJson","JSON","parse","psd","methods","checkLogin","this_","post","url","params","username","password","then","rsp","status","jsonStr","stringify","setItem","encode","removeItem","sessionStorage","$Message","success","nickName","userName","roleId","$router","push","path","error","get","getSimilarUserInfo"],"mappings":"AAAA;AACA,OAAOA,MAAP,MAAmB,eAAnB;AACA,SACIC,QADJ,QAEO,wBAFP;AAIA,OAAO,IAAMC,QAAQ;AACjBC,MADiB,kBACV;AACH,WAAO;AACHC,cAAQ,EADL;AAEHC,mBAAa,EAFV;AAGHC,YAAM;AACFC,qBAAa,OADX;AAEFC,iBAAS,QAFP;AAGFC,kBAAU;AAHR,OAHH;AAQHC,aAAO;AACHH,qBAAa,CAAC;AACVI,oBAAU,IADA;AAEVC,mBAAS,SAFC;AAGVC,mBAAS;AAHC,SAAD,CADV;AAMHL,iBAAS,CAAC;AACNG,oBAAU,IADJ;AAENC,mBAAS,QAFH;AAGNC,mBAAS;AAHH,SAAD;AANN,OARJ;AAoBHC,eAAS;AApBN,KAAP;AAsBH,GAxBgB;AAyBjBC,SAzBiB,qBAyBP;AACN,QAAIN,WACAO,aAAaC,OAAb,CAAqB,gBAArB,KAA0C,IAD9C;;AAEA,QAAIR,aAAa,IAAjB,EAAuB;AACnB,WAAKH,IAAL,CAAUG,QAAV,GAAqB,IAArB;AACA,UAAIS,eAAeC,OAAOC,KAAP,CAAaC,MAAb,CAAoBC,MAApB,CAA2Bb,QAA3B,CAAnB;AACA,UAAIc,WAAWC,KAAKC,KAAL,CAAWP,YAAX,CAAf;AACA,WAAKZ,IAAL,CAAUC,WAAV,GAAwBgB,SAASjB,IAAjC;AACA,WAAKA,IAAL,CAAUE,OAAV,GAAoBe,SAASG,GAA7B;AACH;AACJ,GAnCgB;AAqCjBC,WAAS;AACLC,cADK,wBACQ;AAAA;;AACT,UAAIC,QAAQ,IAAZ;AACA,WAAKf,OAAL,GAAe,IAAf;AACAd,aAAO8B,IAAP,CAAY;AACRC,aAAK9B,SAASC,KADN;AAER8B,gBAAQ;AACJC,oBAAU,KAAK3B,IAAL,CAAUC,WADhB;AAEJ2B,oBAAU,KAAK5B,IAAL,CAAUE;AAFhB;AAFA,OAAZ,EAMG2B,IANH,CAMQ,eAAO;AACX,YAAIC,IAAIjC,IAAJ,CAASkC,MAAT,KAAoB,CAAxB,EAA2B;AACvBR,gBAAMzB,MAAN,GAAegC,IAAIjC,IAAJ,CAASC,MAAxB;AACA,gBAAKC,WAAL,GAAmB+B,IAAI/B,WAAvB;AACA,cAAIiC,UAAUd,KAAKe,SAAL,CAAe;AACzBjC,kBAAM,MAAKA,IAAL,CAAUC,WADS;AAEzBmB,iBAAK,MAAKpB,IAAL,CAAUE;AAFU,WAAf,CAAd;;AAIA,cAAI,MAAKF,IAAL,CAAUG,QAAV,KAAuB,IAA3B,EAAiC;AAC7BO,yBAAawB,OAAb,CACI,gBADJ,EAEIrB,OAAOC,KAAP,CAAaC,MAAb,CAAoBoB,MAApB,CAA2BH,OAA3B,CAFJ;AAIH,WALD,MAKO;AACHtB,yBAAa0B,UAAb,CAAwB,gBAAxB;AACH;;AACDC,yBAAeH,OAAf,CACI,YADJ,EACkBrB,OAAOC,KAAP,CAAaC,MAAb,CAAoBoB,MAApB,CAA2BH,OAA3B,CADlB;;AAGA,gBAAKM,QAAL,CAAcC,OAAd,CAAsB,MAAtB;;AACAF,yBAAeH,OAAf,CAAuB,UAAvB,EAAmChB,KAAKe,SAAL,CAAe,MAAKlC,WAApB,CAAnC;AACAsC,yBAAeH,OAAf,CAAuB,aAAvB,EAAsChB,KAAKe,SAAL,CAAe,MAAKjC,IAAL,CAAUC,WAAzB,CAAtC;AACAoC,yBAAeH,OAAf,CAAuB,QAAvB,EAAiChB,KAAKe,SAAL,CAAeH,IAAIjC,IAAJ,CAASC,MAAxB,CAAjC;AACAuC,yBAAeH,OAAf,CAAuB,UAAvB,EAAmChB,KAAKe,SAAL,CAAeH,IAAIjC,IAAJ,CAAS2C,QAAxB,CAAnC;AACAH,yBAAeH,OAAf,CAAuB,UAAvB,EAAmChB,KAAKe,SAAL,CAAeH,IAAIjC,IAAJ,CAAS4C,QAAxB,CAAnC;AACAJ,yBAAeH,OAAf,CAAuB,QAAvB,EAAiChB,KAAKe,SAAL,CAAeH,IAAIjC,IAAJ,CAAS6C,MAAxB,CAAjC;;AACA,gBAAKC,OAAL,CAAaC,IAAb,CAAkB;AACdC;AADc,WAAlB;AAGH,SA5BD,MA4BO;AACH,gBAAKP,QAAL,CAAcQ,KAAd,CAAoBhB,IAAIxB,OAAxB;AACH;AACJ,OAtCD,EAsCGuB,IAtCH,CAsCQ,eAAO;AACX,YAAI/B,SAASoB,KAAKC,KAAL,CAAWkB,eAAe1B,OAAf,CAAuB,QAAvB,CAAX,CAAb;AACAjB,eAAOqD,GAAP,CAAW;AACPtB,eAAK9B,SAASqD,kBADP;AAEPtB,kBAAQ;AACJ5B,oBAAQA;AADJ;AAFD,SAAX,EAKG+B,IALH,CAKQ,UAAUC,GAAV,EAAe;AACnB,cAAIA,IAAIC,MAAJ,KAAe,CAAnB,EAAsB;AAClBM,2BAAeH,OAAf,CAAuB,cAAvB,EAAuChB,KAAKe,SAAL,CAAeH,IAAIjC,IAAnB,CAAvC;AACH;AACJ,SATD;AAUH,OAlDD;AAmDH;AAvDI;AArCQ,CAAd","sourcesContent":["/* eslint-disable */\r\nimport Server from \"@/core/server\";\r\nimport {\r\n    services\r\n} from \"@/core/config/services\";\r\n\r\nexport const login = {\r\n    data() {\r\n        return {\r\n            userId: \"\",\r\n            accountName: \"\",\r\n            user: {\r\n                userAccount: \"admin\",\r\n                userPwd: \"123456\",\r\n                remember: false\r\n            },\r\n            rules: {\r\n                userAccount: [{\r\n                    required: true,\r\n                    message: \"用户名不能为空\",\r\n                    trigger: \"blur\"\r\n                }],\r\n                userPwd: [{\r\n                    required: true,\r\n                    message: \"密码不能为空\",\r\n                    trigger: \"blur\"\r\n                }]\r\n            },\r\n            loading: false\r\n        };\r\n    },\r\n    created() {\r\n        let remember =\r\n            localStorage.getItem(\"login-remember\") || null;\r\n        if (remember !== null) {\r\n            this.user.remember = true;\r\n            var rememberInfo = onemap.utils.base64.decode(remember);\r\n            var userJson = JSON.parse(rememberInfo);\r\n            this.user.userAccount = userJson.user;\r\n            this.user.userPwd = userJson.psd;\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        checkLogin() {\r\n            var this_ = this;\r\n            this.loading = true;\r\n            Server.post({\r\n                url: services.login,\r\n                params: {\r\n                    username: this.user.userAccount,\r\n                    password: this.user.userPwd\r\n                }\r\n            }).then(rsp => {\r\n                if (rsp.data.status === 1) {\r\n                    this_.userId = rsp.data.userId;\r\n                    this.accountName = rsp.accountName;\r\n                    var jsonStr = JSON.stringify({\r\n                        user: this.user.userAccount,\r\n                        psd: this.user.userPwd,\r\n                    });\r\n                    if (this.user.remember === true) {\r\n                        localStorage.setItem(\r\n                            \"login-remember\",\r\n                            onemap.utils.base64.encode(jsonStr)\r\n                        );\r\n                    } else {\r\n                        localStorage.removeItem(\"login-remember\");\r\n                    }\r\n                    sessionStorage.setItem(\r\n                        \"login-info\", onemap.utils.base64.encode(jsonStr)\r\n                    );\r\n                    this.$Message.success(\"登录成功\");\r\n                    sessionStorage.setItem(\"userInfo\", JSON.stringify(this.accountName));\r\n                    sessionStorage.setItem(\"userAccount\", JSON.stringify(this.user.userAccount));\r\n                    sessionStorage.setItem(\"userId\", JSON.stringify(rsp.data.userId));\r\n                    sessionStorage.setItem(\"nickName\", JSON.stringify(rsp.data.nickName));\r\n                    sessionStorage.setItem(\"userName\", JSON.stringify(rsp.data.userName));\r\n                    sessionStorage.setItem(\"roleId\", JSON.stringify(rsp.data.roleId));\r\n                    this.$router.push({\r\n                        path: `/menu`\r\n                    });\r\n                } else {\r\n                    this.$Message.error(rsp.message);\r\n                }\r\n            }).then(rsp => {\r\n                var userId = JSON.parse(sessionStorage.getItem(\"userId\"));\r\n                Server.get({\r\n                    url: services.getSimilarUserInfo,\r\n                    params: {\r\n                        userId: userId\r\n                    }\r\n                }).then(function (rsp) {\r\n                    if (rsp.status === 1) {\r\n                        sessionStorage.setItem(\"information2\", JSON.stringify(rsp.data))\r\n                    }\r\n                });\r\n            });\r\n        },\r\n    }\r\n};"]}]}