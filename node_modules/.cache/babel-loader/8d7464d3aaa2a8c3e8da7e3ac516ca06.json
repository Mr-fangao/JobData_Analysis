{"remainingRequest":"C:\\Users\\Administrator\\Documents\\GitHub\\JobData_Analysis\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Documents\\GitHub\\JobData_Analysis\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Documents\\GitHub\\JobData_Analysis\\src\\views\\modelAnalysis\\priceForecast.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Documents\\GitHub\\JobData_Analysis\\src\\views\\modelAnalysis\\priceForecast.vue","mtime":1563098587000},{"path":"C:\\Users\\Administrator\\Documents\\GitHub\\JobData_Analysis\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1633397196896},{"path":"C:\\Users\\Administrator\\Documents\\GitHub\\JobData_Analysis\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Documents\\GitHub\\JobData_Analysis\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport SiderMenu from \"@/views/main/siderMenu\";\nimport axios from \"axios\";\nimport Server from \"@/core/server\";\nimport { services } from \"@/core/config/services\";\nimport esriLoader from \"esri-loader\";\nimport { MapAPI } from \"@/core/config/const\";\nimport { constants } from \"fs\";\nimport gwr from \"@/vuex/store\";\nimport gwRmap from \"@/map/components/gwRmap\";\nexport default {\n  data: function data() {\n    return {\n      modal1: false,\n      isPopup: true,\n      housePoint: \"\",\n      columns1: [{\n        title: \"预测小区\",\n        key: \"name\",\n        align: \"center\",\n        width: 100,\n        fixed: \"left\"\n      }, {\n        title: \"相似小区\",\n        key: \"foreName\",\n        align: \"center\",\n        width: 100,\n        fixed: \"left\"\n      }, {\n        title: \"地址\",\n        key: \"address\",\n        align: \"center\",\n        width: 200,\n        fixed: \"left\"\n      }, {\n        title: \"房屋类型\",\n        key: \"type\",\n        align: \"center\",\n        width: 150,\n        fixed: \"left\"\n      }, {\n        title: \"是否在售\",\n        key: \"buildingCharact\",\n        align: \"center\",\n        width: 150,\n        fixed: \"left\"\n      }, {\n        title: \"GWR\",\n        align: \"center\",\n        children: [{\n          title: \"地价\",\n          key: \"houseDj\",\n          align: \"center\",\n          width: 100\n        }, {\n          title: \"容积率\",\n          key: \"houseRjl\",\n          align: \"center\",\n          width: 100\n        }, {\n          title: \"绿化率\",\n          key: \"houseLhl\",\n          align: \"center\",\n          width: 100\n        }, {\n          title: \"学区\",\n          key: \"schoolCut\",\n          align: \"center\",\n          width: 100\n        }, {\n          title: \"商场\",\n          key: \"market\",\n          align: \"center\",\n          width: 100\n        }, {\n          title: \"公交站\",\n          key: \"station\",\n          align: \"center\",\n          width: 100\n        }, {\n          title: \"公园\",\n          key: \"park\",\n          align: \"center\",\n          width: 100\n        }]\n      }, {\n        title: \"预测价格\",\n        key: \"price\",\n        align: \"center\",\n        fixed: \"right\",\n        width: 150\n      }],\n      data1: [],\n      columns2: [{\n        type: \"selection\",\n        width: 60,\n        align: \"center\"\n      }, {\n        title: \"小区\",\n        key: \"name\",\n        align: \"center\"\n      }, {\n        title: \"地址\",\n        key: \"address\",\n        align: \"center\"\n      }, {\n        title: \"房屋类型\",\n        key: \"type\",\n        align: \"center\"\n      }, {\n        title: \"是否在售\",\n        key: \"buildingCharact\",\n        align: \"center\"\n      }],\n      data2: [],\n      data3: [],\n      newdata: \"\",\n      newdata1: \"\",\n      gwrPoint: \"\"\n    };\n  },\n  created: function created() {\n    var optionss = localStorage.getItem(\"gwrPoint\");\n    var gwrPoint = JSON.parse(optionss);\n    this.gwrPoint = gwrPoint;\n  },\n  methods: {\n    impor: function impor() {\n      var _this2 = this;\n\n      this.modal1 = true;\n      debugger;\n      Server.get({\n        url: services.houseSelect,\n        params: {}\n      }).then(function (rsp) {\n        var _this = _this2;\n\n        if (rsp.status === 1) {\n          _this.data2 = rsp.data;\n        }\n      });\n    },\n    handleChange: function handleChange(selection, row) {\n      var _this = this;\n\n      _this.data3 = selection;\n      var pushData = [];\n\n      for (var i = 0; i < _this.data3.length; i++) {\n        pushData.push(_this.data3[i].name);\n      }\n\n      _this.newdata = pushData.join(\",\");\n      debugger;\n    },\n    ok: function ok() {\n      var _this3 = this;\n\n      debugger;\n\n      var _this = this; //   Server.get({\n      //     url: services.housePrice,\n      //     params: {\n      //       houseName: _this.newdata\n      //     }\n      //   }).then(rsp => {\n      //     var _this = this;\n      //     var arr1 = [];\n      //     var gwrPoint = _this.gwrPoint;\n      //     if (rsp.status === 1) {\n      //       debugger;\n      //       _this.housePoint = rsp.data;\n      //       this.showGraphics();\n      //       gwrPoint.forEach(itemData => {\n      //         rsp.data.forEach((itemArr, index) => {\n      //           if (itemArr.objectId === itemData.attributes.OBJECTID) {\n      //             arr1.push(\n      //               itemArr.name1,\n      //               itemData.attributes.C1_DJ,\n      //               itemData.attributes.C2_RJL,\n      //               itemData.attributes.C3_LHL,\n      //               itemData.attributes.C4_SCH,\n      //               itemData.attributes.C5_SMAR,\n      //               itemData.attributes.C6_BUS,\n      //               itemData.attributes.C7_PARK\n      //             );\n      //             _this.newdata1 = arr1.join(\",\");\n      //             console.log(_this.newdata1);\n      //             debugger;\n      //           }\n      //         });\n      //       });\n      //     }\n      //     Server.get({\n      //       url: services.houseShow,\n      //       params: {\n      //         houseValue: _this.newdata1\n      //       }\n      //     }).then(rsp => {\n      //       debugger;\n      //       var _this = this;\n      //       _this.data1 = rsp.data;\n      //     });\n      //   });\n      // },\n\n\n      Server.get({\n        url: services.houseShow,\n        params: {\n          houseName: _this.newdata\n        }\n      }).then(function (rsp) {\n        debugger;\n        var _this = _this3;\n        _this.data1 = rsp.data;\n        _this.housePoint = rsp.data;\n\n        _this.showGraphics();\n      });\n    },\n    showGraphics: function showGraphics() {\n      console.log(this.housePoint);\n      onemap.pubsub.publish(\"drawforeHouseWKT\", {\n        list: this.housePoint,\n        popup: this.isPopup\n      });\n      onemap.pubsub.publish(\"drawHouseGWRByList\", {\n        list: this.housePoint,\n        popup: this.isPopup // pan: this.isPan\n\n      });\n    }\n  },\n  components: {\n    SiderMenu: SiderMenu,\n    gwRmap: gwRmap\n  }\n};",{"version":3,"sources":["priceForecast.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <layout :style=\"{height:'100%'}\">\n    <Sider ref=\"side1\" :width='180'>\n      <sider-menu/>\n    </Sider>\n    <Content>\n      <Header :style=\"{padding: 0}\" class=\"layout-header-bar\">\n        <Breadcrumb>\n          <Icon :style=\"{margin: '0 5px'}\" type=\"md-menu\" size=\"25\"></Icon>\n          <BreadcrumbItem v-for=\"(item,idx) in $route.matched\" :key=\"idx\" :to=\"(item.path)\">{{item.name}}</BreadcrumbItem>\n        </Breadcrumb>\n      </Header>\n      <div style=\" margin: 0 auto;margin-top: 5px;width:1300px;\">\n        <Button type=\"primary\" @click=\"impor\" style=\"margin-bottom:3px\">导入数据</Button>\n        <Table :columns=\"columns1\" :data=\"data1\" @on-select=\"handleChange\"></Table>\n        <!-- <Page :total=\"dataCount1\" :page-size=\"pageSize1\" show-total show-elevator/> -->\n      </div>\n      <div style=\" margin: 0 auto;margin-top: 5px;width:1300px;height:670px\">\n        <gwRmap></gwRmap>\n      </div>\n      <router-view/>\n\n    </Content>\n    <Modal v-model=\"modal1\" @on-ok=\"ok\" :width=\"800\" title=\"选择需要预测的小区数据\">\n      <Table stripe ref=\"selection\" :columns=\"columns2\" :data=\"data2\" @on-select=\"handleChange\"></Table>\n    </Modal>\n  </layout>\n\n</template>\n<script>\nimport SiderMenu from \"@/views/main/siderMenu\";\nimport axios from \"axios\";\nimport Server from \"@/core/server\";\nimport { services } from \"@/core/config/services\";\nimport esriLoader from \"esri-loader\";\nimport { MapAPI } from \"@/core/config/const\";\nimport { constants } from \"fs\";\nimport gwr from \"@/vuex/store\";\nimport gwRmap from \"@/map/components/gwRmap\";\nexport default {\n  data() {\n    return {\n      modal1: false,\n      isPopup: true,\n      housePoint: \"\",\n      columns1: [\n        {\n          title: \"预测小区\",\n          key: \"name\",\n          align: \"center\",\n          width: 100,\n          fixed: \"left\"\n        },\n        {\n          title: \"相似小区\",\n          key: \"foreName\",\n          align: \"center\",\n          width: 100,\n          fixed: \"left\"\n        },\n        {\n          title: \"地址\",\n          key: \"address\",\n          align: \"center\",\n          width: 200,\n          fixed: \"left\"\n        },\n        {\n          title: \"房屋类型\",\n          key: \"type\",\n          align: \"center\",\n          width: 150,\n          fixed: \"left\"\n        },\n        {\n          title: \"是否在售\",\n          key: \"buildingCharact\",\n          align: \"center\",\n          width: 150,\n          fixed: \"left\"\n        },\n        {\n          title: \"GWR\",\n          align: \"center\",\n          children: [\n            {\n              title: \"地价\",\n              key: \"houseDj\",\n              align: \"center\",\n              width: 100\n            },\n            {\n              title: \"容积率\",\n              key: \"houseRjl\",\n              align: \"center\",\n              width: 100\n            },\n            {\n              title: \"绿化率\",\n              key: \"houseLhl\",\n              align: \"center\",\n              width: 100\n            },\n            {\n              title: \"学区\",\n              key: \"schoolCut\",\n              align: \"center\",\n              width: 100\n            },\n            {\n              title: \"商场\",\n              key: \"market\",\n              align: \"center\",\n              width: 100\n            },\n            {\n              title: \"公交站\",\n              key: \"station\",\n              align: \"center\",\n              width: 100\n            },\n            {\n              title: \"公园\",\n              key: \"park\",\n              align: \"center\",\n              width: 100\n            }\n          ]\n        },\n        {\n          title: \"预测价格\",\n          key: \"price\",\n          align: \"center\",\n          fixed: \"right\",\n          width: 150\n        }\n      ],\n      data1: [],\n      columns2: [\n        {\n          type: \"selection\",\n          width: 60,\n          align: \"center\"\n        },\n        {\n          title: \"小区\",\n          key: \"name\",\n          align: \"center\"\n        },\n        {\n          title: \"地址\",\n          key: \"address\",\n          align: \"center\"\n        },\n        {\n          title: \"房屋类型\",\n          key: \"type\",\n          align: \"center\"\n        },\n        {\n          title: \"是否在售\",\n          key: \"buildingCharact\",\n          align: \"center\"\n        }\n      ],\n      data2: [],\n      data3: [],\n      newdata: \"\",\n      newdata1: \"\",\n      gwrPoint: \"\"\n    };\n  },\n  created() {\n    var optionss = localStorage.getItem(\"gwrPoint\");\n    var gwrPoint = JSON.parse(optionss);\n    this.gwrPoint = gwrPoint;\n  },\n  methods: {\n    impor() {\n      this.modal1 = true;\n      debugger;\n      Server.get({\n        url: services.houseSelect,\n        params: {}\n      }).then(rsp => {\n        var _this = this;\n        if (rsp.status === 1) {\n          _this.data2 = rsp.data;\n        }\n      });\n    },\n    handleChange(selection, row) {\n      var _this = this;\n      _this.data3 = selection;\n      var pushData = [];\n      for (let i = 0; i < _this.data3.length; i++)\n        pushData.push(_this.data3[i].name);\n      _this.newdata = pushData.join(\",\");\n      debugger;\n    },\n    ok() {\n      debugger;\n      var _this = this;\n      //   Server.get({\n      //     url: services.housePrice,\n      //     params: {\n      //       houseName: _this.newdata\n      //     }\n      //   }).then(rsp => {\n      //     var _this = this;\n      //     var arr1 = [];\n      //     var gwrPoint = _this.gwrPoint;\n      //     if (rsp.status === 1) {\n      //       debugger;\n      //       _this.housePoint = rsp.data;\n      //       this.showGraphics();\n      //       gwrPoint.forEach(itemData => {\n      //         rsp.data.forEach((itemArr, index) => {\n      //           if (itemArr.objectId === itemData.attributes.OBJECTID) {\n      //             arr1.push(\n      //               itemArr.name1,\n      //               itemData.attributes.C1_DJ,\n      //               itemData.attributes.C2_RJL,\n      //               itemData.attributes.C3_LHL,\n      //               itemData.attributes.C4_SCH,\n      //               itemData.attributes.C5_SMAR,\n      //               itemData.attributes.C6_BUS,\n      //               itemData.attributes.C7_PARK\n      //             );\n      //             _this.newdata1 = arr1.join(\",\");\n      //             console.log(_this.newdata1);\n      //             debugger;\n      //           }\n      //         });\n      //       });\n      //     }\n      //     Server.get({\n      //       url: services.houseShow,\n      //       params: {\n      //         houseValue: _this.newdata1\n      //       }\n      //     }).then(rsp => {\n      //       debugger;\n      //       var _this = this;\n      //       _this.data1 = rsp.data;\n      //     });\n      //   });\n      // },\n      Server.get({\n        url: services.houseShow,\n        params: {\n          houseName: _this.newdata\n        }\n      }).then(rsp => {\n        debugger;\n        var _this = this;\n        _this.data1 = rsp.data;\n        _this.housePoint = rsp.data;\n        _this.showGraphics();\n      });\n    },\n    showGraphics() {\n      console.log(this.housePoint);\n      onemap.pubsub.publish(\"drawforeHouseWKT\", {\n        list: this.housePoint,\n        popup: this.isPopup\n      });\n      onemap.pubsub.publish(\"drawHouseGWRByList\", {\n        list: this.housePoint,\n        popup: this.isPopup\n        // pan: this.isPan\n      });\n    }\n  },\n  components: {\n    SiderMenu,\n    gwRmap\n  }\n};\n</script>\n<style>\n.layout-header-bar {\n  background: #fff;\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);\n}\n</style>\n\n"],"sourceRoot":"src\\views\\modelAnalysis"}]}