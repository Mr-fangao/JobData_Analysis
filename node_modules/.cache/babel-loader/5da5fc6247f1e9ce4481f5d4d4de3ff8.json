{"remainingRequest":"C:\\Users\\asus\\Desktop\\GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\asus\\Desktop\\GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\asus\\Desktop\\GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\src\\views\\recommendation\\js\\echarts-wordcloud.js","dependencies":[{"path":"C:\\Users\\asus\\Desktop\\GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\src\\views\\recommendation\\js\\echarts-wordcloud.js","mtime":1510578760000},{"path":"C:\\Users\\asus\\Desktop\\GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1580901136398},{"path":"C:\\Users\\asus\\Desktop\\GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\asus\\Desktop\\GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.string.repeat\";\nimport \"core-js/modules/es6.regexp.constructor\";\nimport \"core-js/modules/es6.string.sub\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.typed.float32-array\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.fill\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport _typeof from \"C:\\\\Users\\\\asus\\\\Desktop\\\\GIS\\u76F8\\u5173\\u6BD4\\u8D5B\\\\01 GIS\\u7701\\u8D5B(\\u4E2D\\u671F\\u68C0\\u67E5+\\u6536\\u5C3E)\\\\04 \\u7CFB\\u7EDF\\u8FD0\\u884C\\u4EE3\\u7801\\\\Code\\\\\\u524D\\u7AEF\\\\node_modules\\\\@babel\\\\runtime/helpers/builtin/es6/typeof\";\n\n(function webpackUniversalModuleDefinition(root, factory) {\n  if ((typeof exports === \"undefined\" ? \"undefined\" : _typeof(exports)) === 'object' && (typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === 'object') module.exports = factory(require(\"echarts\"));else if (typeof define === 'function' && define.amd) define([\"echarts\"], factory);else if ((typeof exports === \"undefined\" ? \"undefined\" : _typeof(exports)) === 'object') exports[\"echarts-wordcloud\"] = factory(require(\"echarts\"));else root[\"echarts-wordcloud\"] = factory(root[\"echarts\"]);\n})(this, function (__WEBPACK_EXTERNAL_MODULE_7__) {\n  return (\n    /******/\n    function (modules) {\n      // webpackBootstrap\n\n      /******/\n      // The module cache\n\n      /******/\n      var installedModules = {};\n      /******/\n\n      /******/\n      // The require function\n\n      /******/\n\n      function __webpack_require__(moduleId) {\n        /******/\n\n        /******/\n        // Check if module is in cache\n\n        /******/\n        if (installedModules[moduleId]) {\n          /******/\n          return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/\n        // Create a new module (and put it into the cache)\n\n        /******/\n\n\n        var module = installedModules[moduleId] = {\n          /******/\n          i: moduleId,\n\n          /******/\n          l: false,\n\n          /******/\n          exports: {}\n          /******/\n\n        };\n        /******/\n\n        /******/\n        // Execute the module function\n\n        /******/\n\n        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n\n        /******/\n        // Flag the module as loaded\n\n        /******/\n\n        module.l = true;\n        /******/\n\n        /******/\n        // Return the exports of the module\n\n        /******/\n\n        return module.exports;\n        /******/\n      }\n      /******/\n\n      /******/\n\n      /******/\n      // expose the modules object (__webpack_modules__)\n\n      /******/\n\n\n      __webpack_require__.m = modules;\n      /******/\n\n      /******/\n      // expose the module cache\n\n      /******/\n\n      __webpack_require__.c = installedModules;\n      /******/\n\n      /******/\n      // define getter function for harmony exports\n\n      /******/\n\n      __webpack_require__.d = function (exports, name, getter) {\n        /******/\n        if (!__webpack_require__.o(exports, name)) {\n          /******/\n          Object.defineProperty(exports, name, {\n            /******/\n            configurable: false,\n\n            /******/\n            enumerable: true,\n\n            /******/\n            get: getter\n            /******/\n\n          });\n          /******/\n        }\n        /******/\n\n      };\n      /******/\n\n      /******/\n      // getDefaultExport function for compatibility with non-harmony modules\n\n      /******/\n\n\n      __webpack_require__.n = function (module) {\n        /******/\n        var getter = module && module.__esModule ?\n        /******/\n        function getDefault() {\n          return module['default'];\n        } :\n        /******/\n        function getModuleExports() {\n          return module;\n        };\n        /******/\n\n        __webpack_require__.d(getter, 'a', getter);\n        /******/\n\n\n        return getter;\n        /******/\n      };\n      /******/\n\n      /******/\n      // Object.prototype.hasOwnProperty.call\n\n      /******/\n\n\n      __webpack_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n\n      /******/\n      // __webpack_public_path__\n\n      /******/\n\n\n      __webpack_require__.p = \"\";\n      /******/\n\n      /******/\n      // Load entry module and return exports\n\n      /******/\n\n      return __webpack_require__(__webpack_require__.s = 25);\n      /******/\n    }(\n    /************************************************************************/\n\n    /******/\n    [\n    /* 0 */\n\n    /***/\n    function (module, exports) {\n      /**\n       * @module zrender/core/util\n       */\n      // 用于处理merge时无法遍历Date等对象的问题\n      var BUILTIN_OBJECT = {\n        '[object Function]': 1,\n        '[object RegExp]': 1,\n        '[object Date]': 1,\n        '[object Error]': 1,\n        '[object CanvasGradient]': 1,\n        '[object CanvasPattern]': 1,\n        // For node-canvas\n        '[object Image]': 1,\n        '[object Canvas]': 1\n      };\n      var TYPED_ARRAY = {\n        '[object Int8Array]': 1,\n        '[object Uint8Array]': 1,\n        '[object Uint8ClampedArray]': 1,\n        '[object Int16Array]': 1,\n        '[object Uint16Array]': 1,\n        '[object Int32Array]': 1,\n        '[object Uint32Array]': 1,\n        '[object Float32Array]': 1,\n        '[object Float64Array]': 1\n      };\n      var objToString = Object.prototype.toString;\n      var arrayProto = Array.prototype;\n      var nativeForEach = arrayProto.forEach;\n      var nativeFilter = arrayProto.filter;\n      var nativeSlice = arrayProto.slice;\n      var nativeMap = arrayProto.map;\n      var nativeReduce = arrayProto.reduce; // Avoid assign to an exported variable, for transforming to cjs.\n\n      var methods = {};\n\n      function $override(name, fn) {\n        methods[name] = fn;\n      }\n      /**\n       * Those data types can be cloned:\n       *     Plain object, Array, TypedArray, number, string, null, undefined.\n       * Those data types will be assgined using the orginal data:\n       *     BUILTIN_OBJECT\n       * Instance of user defined class will be cloned to a plain object, without\n       * properties in prototype.\n       * Other data types is not supported (not sure what will happen).\n       *\n       * Caution: do not support clone Date, for performance consideration.\n       * (There might be a large number of date in `series.data`).\n       * So date should not be modified in and out of echarts.\n       *\n       * @param {*} source\n       * @return {*} new\n       */\n\n\n      function clone(source) {\n        if (source == null || _typeof(source) != 'object') {\n          return source;\n        }\n\n        var result = source;\n        var typeStr = objToString.call(source);\n\n        if (typeStr === '[object Array]') {\n          result = [];\n\n          for (var i = 0, len = source.length; i < len; i++) {\n            result[i] = clone(source[i]);\n          }\n        } else if (TYPED_ARRAY[typeStr]) {\n          var Ctor = source.constructor;\n\n          if (source.constructor.from) {\n            result = Ctor.from(source);\n          } else {\n            result = new Ctor(source.length);\n\n            for (var i = 0, len = source.length; i < len; i++) {\n              result[i] = clone(source[i]);\n            }\n          }\n        } else if (!BUILTIN_OBJECT[typeStr] && !isPrimitive(source) && !isDom(source)) {\n          result = {};\n\n          for (var key in source) {\n            if (source.hasOwnProperty(key)) {\n              result[key] = clone(source[key]);\n            }\n          }\n        }\n\n        return result;\n      }\n      /**\n       * @memberOf module:zrender/core/util\n       * @param {*} target\n       * @param {*} source\n       * @param {boolean} [overwrite=false]\n       */\n\n\n      function merge(target, source, overwrite) {\n        // We should escapse that source is string\n        // and enter for ... in ...\n        if (!isObject(source) || !isObject(target)) {\n          return overwrite ? clone(source) : target;\n        }\n\n        for (var key in source) {\n          if (source.hasOwnProperty(key)) {\n            var targetProp = target[key];\n            var sourceProp = source[key];\n\n            if (isObject(sourceProp) && isObject(targetProp) && !isArray(sourceProp) && !isArray(targetProp) && !isDom(sourceProp) && !isDom(targetProp) && !isBuiltInObject(sourceProp) && !isBuiltInObject(targetProp) && !isPrimitive(sourceProp) && !isPrimitive(targetProp)) {\n              // 如果需要递归覆盖，就递归调用merge\n              merge(targetProp, sourceProp, overwrite);\n            } else if (overwrite || !(key in target)) {\n              // 否则只处理overwrite为true，或者在目标对象中没有此属性的情况\n              // NOTE，在 target[key] 不存在的时候也是直接覆盖\n              target[key] = clone(source[key], true);\n            }\n          }\n        }\n\n        return target;\n      }\n      /**\n       * @param {Array} targetAndSources The first item is target, and the rests are source.\n       * @param {boolean} [overwrite=false]\n       * @return {*} target\n       */\n\n\n      function mergeAll(targetAndSources, overwrite) {\n        var result = targetAndSources[0];\n\n        for (var i = 1, len = targetAndSources.length; i < len; i++) {\n          result = merge(result, targetAndSources[i], overwrite);\n        }\n\n        return result;\n      }\n      /**\n       * @param {*} target\n       * @param {*} source\n       * @memberOf module:zrender/core/util\n       */\n\n\n      function extend(target, source) {\n        for (var key in source) {\n          if (source.hasOwnProperty(key)) {\n            target[key] = source[key];\n          }\n        }\n\n        return target;\n      }\n      /**\n       * @param {*} target\n       * @param {*} source\n       * @param {boolean} [overlay=false]\n       * @memberOf module:zrender/core/util\n       */\n\n\n      function defaults(target, source, overlay) {\n        for (var key in source) {\n          if (source.hasOwnProperty(key) && (overlay ? source[key] != null : target[key] == null)) {\n            target[key] = source[key];\n          }\n        }\n\n        return target;\n      }\n\n      var createCanvas = function createCanvas() {\n        return methods.createCanvas();\n      };\n\n      methods.createCanvas = function () {\n        return document.createElement('canvas');\n      }; // FIXME\n\n\n      var _ctx;\n\n      function getContext() {\n        if (!_ctx) {\n          // Use util.createCanvas instead of createCanvas\n          // because createCanvas may be overwritten in different environment\n          _ctx = createCanvas().getContext('2d');\n        }\n\n        return _ctx;\n      }\n      /**\n       * 查询数组中元素的index\n       * @memberOf module:zrender/core/util\n       */\n\n\n      function indexOf(array, value) {\n        if (array) {\n          if (array.indexOf) {\n            return array.indexOf(value);\n          }\n\n          for (var i = 0, len = array.length; i < len; i++) {\n            if (array[i] === value) {\n              return i;\n            }\n          }\n        }\n\n        return -1;\n      }\n      /**\n       * 构造类继承关系\n       *\n       * @memberOf module:zrender/core/util\n       * @param {Function} clazz 源类\n       * @param {Function} baseClazz 基类\n       */\n\n\n      function inherits(clazz, baseClazz) {\n        var clazzPrototype = clazz.prototype;\n\n        function F() {}\n\n        F.prototype = baseClazz.prototype;\n        clazz.prototype = new F();\n\n        for (var prop in clazzPrototype) {\n          clazz.prototype[prop] = clazzPrototype[prop];\n        }\n\n        clazz.prototype.constructor = clazz;\n        clazz.superClass = baseClazz;\n      }\n      /**\n       * @memberOf module:zrender/core/util\n       * @param {Object|Function} target\n       * @param {Object|Function} sorce\n       * @param {boolean} overlay\n       */\n\n\n      function mixin(target, source, overlay) {\n        target = 'prototype' in target ? target.prototype : target;\n        source = 'prototype' in source ? source.prototype : source;\n        defaults(target, source, overlay);\n      }\n      /**\n       * Consider typed array.\n       * @param {Array|TypedArray} data\n       */\n\n\n      function isArrayLike(data) {\n        if (!data) {\n          return;\n        }\n\n        if (typeof data == 'string') {\n          return false;\n        }\n\n        return typeof data.length == 'number';\n      }\n      /**\n       * 数组或对象遍历\n       * @memberOf module:zrender/core/util\n       * @param {Object|Array} obj\n       * @param {Function} cb\n       * @param {*} [context]\n       */\n\n\n      function each(obj, cb, context) {\n        if (!(obj && cb)) {\n          return;\n        }\n\n        if (obj.forEach && obj.forEach === nativeForEach) {\n          obj.forEach(cb, context);\n        } else if (obj.length === +obj.length) {\n          for (var i = 0, len = obj.length; i < len; i++) {\n            cb.call(context, obj[i], i, obj);\n          }\n        } else {\n          for (var key in obj) {\n            if (obj.hasOwnProperty(key)) {\n              cb.call(context, obj[key], key, obj);\n            }\n          }\n        }\n      }\n      /**\n       * 数组映射\n       * @memberOf module:zrender/core/util\n       * @param {Array} obj\n       * @param {Function} cb\n       * @param {*} [context]\n       * @return {Array}\n       */\n\n\n      function map(obj, cb, context) {\n        if (!(obj && cb)) {\n          return;\n        }\n\n        if (obj.map && obj.map === nativeMap) {\n          return obj.map(cb, context);\n        } else {\n          var result = [];\n\n          for (var i = 0, len = obj.length; i < len; i++) {\n            result.push(cb.call(context, obj[i], i, obj));\n          }\n\n          return result;\n        }\n      }\n      /**\n       * @memberOf module:zrender/core/util\n       * @param {Array} obj\n       * @param {Function} cb\n       * @param {Object} [memo]\n       * @param {*} [context]\n       * @return {Array}\n       */\n\n\n      function reduce(obj, cb, memo, context) {\n        if (!(obj && cb)) {\n          return;\n        }\n\n        if (obj.reduce && obj.reduce === nativeReduce) {\n          return obj.reduce(cb, memo, context);\n        } else {\n          for (var i = 0, len = obj.length; i < len; i++) {\n            memo = cb.call(context, memo, obj[i], i, obj);\n          }\n\n          return memo;\n        }\n      }\n      /**\n       * 数组过滤\n       * @memberOf module:zrender/core/util\n       * @param {Array} obj\n       * @param {Function} cb\n       * @param {*} [context]\n       * @return {Array}\n       */\n\n\n      function filter(obj, cb, context) {\n        if (!(obj && cb)) {\n          return;\n        }\n\n        if (obj.filter && obj.filter === nativeFilter) {\n          return obj.filter(cb, context);\n        } else {\n          var result = [];\n\n          for (var i = 0, len = obj.length; i < len; i++) {\n            if (cb.call(context, obj[i], i, obj)) {\n              result.push(obj[i]);\n            }\n          }\n\n          return result;\n        }\n      }\n      /**\n       * 数组项查找\n       * @memberOf module:zrender/core/util\n       * @param {Array} obj\n       * @param {Function} cb\n       * @param {*} [context]\n       * @return {*}\n       */\n\n\n      function find(obj, cb, context) {\n        if (!(obj && cb)) {\n          return;\n        }\n\n        for (var i = 0, len = obj.length; i < len; i++) {\n          if (cb.call(context, obj[i], i, obj)) {\n            return obj[i];\n          }\n        }\n      }\n      /**\n       * @memberOf module:zrender/core/util\n       * @param {Function} func\n       * @param {*} context\n       * @return {Function}\n       */\n\n\n      function bind(func, context) {\n        var args = nativeSlice.call(arguments, 2);\n        return function () {\n          return func.apply(context, args.concat(nativeSlice.call(arguments)));\n        };\n      }\n      /**\n       * @memberOf module:zrender/core/util\n       * @param {Function} func\n       * @return {Function}\n       */\n\n\n      function curry(func) {\n        var args = nativeSlice.call(arguments, 1);\n        return function () {\n          return func.apply(this, args.concat(nativeSlice.call(arguments)));\n        };\n      }\n      /**\n       * @memberOf module:zrender/core/util\n       * @param {*} value\n       * @return {boolean}\n       */\n\n\n      function isArray(value) {\n        return objToString.call(value) === '[object Array]';\n      }\n      /**\n       * @memberOf module:zrender/core/util\n       * @param {*} value\n       * @return {boolean}\n       */\n\n\n      function isFunction(value) {\n        return typeof value === 'function';\n      }\n      /**\n       * @memberOf module:zrender/core/util\n       * @param {*} value\n       * @return {boolean}\n       */\n\n\n      function isString(value) {\n        return objToString.call(value) === '[object String]';\n      }\n      /**\n       * @memberOf module:zrender/core/util\n       * @param {*} value\n       * @return {boolean}\n       */\n\n\n      function isObject(value) {\n        // Avoid a V8 JIT bug in Chrome 19-20.\n        // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n        var type = _typeof(value);\n\n        return type === 'function' || !!value && type == 'object';\n      }\n      /**\n       * @memberOf module:zrender/core/util\n       * @param {*} value\n       * @return {boolean}\n       */\n\n\n      function isBuiltInObject(value) {\n        return !!BUILTIN_OBJECT[objToString.call(value)];\n      }\n      /**\n       * @memberOf module:zrender/core/util\n       * @param {*} value\n       * @return {boolean}\n       */\n\n\n      function isDom(value) {\n        return _typeof(value) === 'object' && typeof value.nodeType === 'number' && _typeof(value.ownerDocument) === 'object';\n      }\n      /**\n       * Whether is exactly NaN. Notice isNaN('a') returns true.\n       * @param {*} value\n       * @return {boolean}\n       */\n\n\n      function eqNaN(value) {\n        return value !== value;\n      }\n      /**\n       * If value1 is not null, then return value1, otherwise judget rest of values.\n       * Low performance.\n       * @memberOf module:zrender/core/util\n       * @return {*} Final value\n       */\n\n\n      function retrieve(values) {\n        for (var i = 0, len = arguments.length; i < len; i++) {\n          if (arguments[i] != null) {\n            return arguments[i];\n          }\n        }\n      }\n\n      function retrieve2(value0, value1) {\n        return value0 != null ? value0 : value1;\n      }\n\n      function retrieve3(value0, value1, value2) {\n        return value0 != null ? value0 : value1 != null ? value1 : value2;\n      }\n      /**\n       * @memberOf module:zrender/core/util\n       * @param {Array} arr\n       * @param {number} startIndex\n       * @param {number} endIndex\n       * @return {Array}\n       */\n\n\n      function slice() {\n        return Function.call.apply(nativeSlice, arguments);\n      }\n      /**\n       * Normalize css liked array configuration\n       * e.g.\n       *  3 => [3, 3, 3, 3]\n       *  [4, 2] => [4, 2, 4, 2]\n       *  [4, 3, 2] => [4, 3, 2, 3]\n       * @param {number|Array.<number>} val\n       * @return {Array.<number>}\n       */\n\n\n      function normalizeCssArray(val) {\n        if (typeof val === 'number') {\n          return [val, val, val, val];\n        }\n\n        var len = val.length;\n\n        if (len === 2) {\n          // vertical | horizontal\n          return [val[0], val[1], val[0], val[1]];\n        } else if (len === 3) {\n          // top | horizontal | bottom\n          return [val[0], val[1], val[2], val[1]];\n        }\n\n        return val;\n      }\n      /**\n       * @memberOf module:zrender/core/util\n       * @param {boolean} condition\n       * @param {string} message\n       */\n\n\n      function assert(condition, message) {\n        if (!condition) {\n          throw new Error(message);\n        }\n      }\n\n      var primitiveKey = '__ec_primitive__';\n      /**\n       * Set an object as primitive to be ignored traversing children in clone or merge\n       */\n\n      function setAsPrimitive(obj) {\n        obj[primitiveKey] = true;\n      }\n\n      function isPrimitive(obj) {\n        return obj[primitiveKey];\n      }\n      /**\n       * @constructor\n       * @param {Object} obj Only apply `ownProperty`.\n       */\n\n\n      function HashMap(obj) {\n        obj && each(obj, function (value, key) {\n          this.set(key, value);\n        }, this);\n      } // Add prefix to avoid conflict with Object.prototype.\n\n\n      var HASH_MAP_PREFIX = '_ec_';\n      var HASH_MAP_PREFIX_LENGTH = 4;\n      HashMap.prototype = {\n        constructor: HashMap,\n        // Do not provide `has` method to avoid defining what is `has`.\n        // (We usually treat `null` and `undefined` as the same, different\n        // from ES6 Map).\n        get: function get(key) {\n          return this[HASH_MAP_PREFIX + key];\n        },\n        set: function set(key, value) {\n          this[HASH_MAP_PREFIX + key] = value; // Comparing with invocation chaining, `return value` is more commonly\n          // used in this case: `var someVal = map.set('a', genVal());`\n\n          return value;\n        },\n        // Although util.each can be performed on this hashMap directly, user\n        // should not use the exposed keys, who are prefixed.\n        each: function each(cb, context) {\n          context !== void 0 && (cb = bind(cb, context));\n\n          for (var prefixedKey in this) {\n            this.hasOwnProperty(prefixedKey) && cb(this[prefixedKey], prefixedKey.slice(HASH_MAP_PREFIX_LENGTH));\n          }\n        },\n        // Do not use this method if performance sensitive.\n        removeKey: function removeKey(key) {\n          delete this[HASH_MAP_PREFIX + key];\n        }\n      };\n\n      function createHashMap(obj) {\n        return new HashMap(obj);\n      }\n\n      function noop() {}\n\n      exports.$override = $override;\n      exports.clone = clone;\n      exports.merge = merge;\n      exports.mergeAll = mergeAll;\n      exports.extend = extend;\n      exports.defaults = defaults;\n      exports.createCanvas = createCanvas;\n      exports.getContext = getContext;\n      exports.indexOf = indexOf;\n      exports.inherits = inherits;\n      exports.mixin = mixin;\n      exports.isArrayLike = isArrayLike;\n      exports.each = each;\n      exports.map = map;\n      exports.reduce = reduce;\n      exports.filter = filter;\n      exports.find = find;\n      exports.bind = bind;\n      exports.curry = curry;\n      exports.isArray = isArray;\n      exports.isFunction = isFunction;\n      exports.isString = isString;\n      exports.isObject = isObject;\n      exports.isBuiltInObject = isBuiltInObject;\n      exports.isDom = isDom;\n      exports.eqNaN = eqNaN;\n      exports.retrieve = retrieve;\n      exports.retrieve2 = retrieve2;\n      exports.retrieve3 = retrieve3;\n      exports.slice = slice;\n      exports.normalizeCssArray = normalizeCssArray;\n      exports.assert = assert;\n      exports.setAsPrimitive = setAsPrimitive;\n      exports.isPrimitive = isPrimitive;\n      exports.createHashMap = createHashMap;\n      exports.noop = noop;\n      /***/\n    },\n    /* 1 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var Displayable = __webpack_require__(12);\n\n      var zrUtil = __webpack_require__(0);\n\n      var PathProxy = __webpack_require__(6);\n\n      var pathContain = __webpack_require__(50);\n\n      var Pattern = __webpack_require__(56);\n\n      var getCanvasPattern = Pattern.prototype.getCanvasPattern;\n      var abs = Math.abs;\n      var pathProxyForDraw = new PathProxy(true);\n      /**\n       * @alias module:zrender/graphic/Path\n       * @extends module:zrender/graphic/Displayable\n       * @constructor\n       * @param {Object} opts\n       */\n\n      function Path(opts) {\n        Displayable.call(this, opts);\n        /**\n         * @type {module:zrender/core/PathProxy}\n         * @readOnly\n         */\n\n        this.path = null;\n      }\n\n      Path.prototype = {\n        constructor: Path,\n        type: 'path',\n        __dirtyPath: true,\n        strokeContainThreshold: 5,\n        brush: function brush(ctx, prevEl) {\n          var style = this.style;\n          var path = this.path || pathProxyForDraw;\n          var hasStroke = style.hasStroke();\n          var hasFill = style.hasFill();\n          var fill = style.fill;\n          var stroke = style.stroke;\n          var hasFillGradient = hasFill && !!fill.colorStops;\n          var hasStrokeGradient = hasStroke && !!stroke.colorStops;\n          var hasFillPattern = hasFill && !!fill.image;\n          var hasStrokePattern = hasStroke && !!stroke.image;\n          style.bind(ctx, this, prevEl);\n          this.setTransform(ctx);\n\n          if (this.__dirty) {\n            var rect; // Update gradient because bounding rect may changed\n\n            if (hasFillGradient) {\n              rect = rect || this.getBoundingRect();\n              this._fillGradient = style.getGradient(ctx, fill, rect);\n            }\n\n            if (hasStrokeGradient) {\n              rect = rect || this.getBoundingRect();\n              this._strokeGradient = style.getGradient(ctx, stroke, rect);\n            }\n          } // Use the gradient or pattern\n\n\n          if (hasFillGradient) {\n            // PENDING If may have affect the state\n            ctx.fillStyle = this._fillGradient;\n          } else if (hasFillPattern) {\n            ctx.fillStyle = getCanvasPattern.call(fill, ctx);\n          }\n\n          if (hasStrokeGradient) {\n            ctx.strokeStyle = this._strokeGradient;\n          } else if (hasStrokePattern) {\n            ctx.strokeStyle = getCanvasPattern.call(stroke, ctx);\n          }\n\n          var lineDash = style.lineDash;\n          var lineDashOffset = style.lineDashOffset;\n          var ctxLineDash = !!ctx.setLineDash; // Update path sx, sy\n\n          var scale = this.getGlobalScale();\n          path.setScale(scale[0], scale[1]); // Proxy context\n          // Rebuild path in following 2 cases\n          // 1. Path is dirty\n          // 2. Path needs javascript implemented lineDash stroking.\n          //    In this case, lineDash information will not be saved in PathProxy\n\n          if (this.__dirtyPath || lineDash && !ctxLineDash && hasStroke) {\n            path.beginPath(ctx); // Setting line dash before build path\n\n            if (lineDash && !ctxLineDash) {\n              path.setLineDash(lineDash);\n              path.setLineDashOffset(lineDashOffset);\n            }\n\n            this.buildPath(path, this.shape, false); // Clear path dirty flag\n\n            if (this.path) {\n              this.__dirtyPath = false;\n            }\n          } else {\n            // Replay path building\n            ctx.beginPath();\n            this.path.rebuildPath(ctx);\n          }\n\n          hasFill && path.fill(ctx);\n\n          if (lineDash && ctxLineDash) {\n            ctx.setLineDash(lineDash);\n            ctx.lineDashOffset = lineDashOffset;\n          }\n\n          hasStroke && path.stroke(ctx);\n\n          if (lineDash && ctxLineDash) {\n            // PENDING\n            // Remove lineDash\n            ctx.setLineDash([]);\n          }\n\n          this.restoreTransform(ctx); // Draw rect text\n\n          if (style.text != null) {\n            this.drawRectText(ctx, this.getBoundingRect());\n          }\n        },\n        // When bundling path, some shape may decide if use moveTo to begin a new subpath or closePath\n        // Like in circle\n        buildPath: function buildPath(ctx, shapeCfg, inBundle) {},\n        createPathProxy: function createPathProxy() {\n          this.path = new PathProxy();\n        },\n        getBoundingRect: function getBoundingRect() {\n          var rect = this._rect;\n          var style = this.style;\n          var needsUpdateRect = !rect;\n\n          if (needsUpdateRect) {\n            var path = this.path;\n\n            if (!path) {\n              // Create path on demand.\n              path = this.path = new PathProxy();\n            }\n\n            if (this.__dirtyPath) {\n              path.beginPath();\n              this.buildPath(path, this.shape, false);\n            }\n\n            rect = path.getBoundingRect();\n          }\n\n          this._rect = rect;\n\n          if (style.hasStroke()) {\n            // Needs update rect with stroke lineWidth when\n            // 1. Element changes scale or lineWidth\n            // 2. Shape is changed\n            var rectWithStroke = this._rectWithStroke || (this._rectWithStroke = rect.clone());\n\n            if (this.__dirty || needsUpdateRect) {\n              rectWithStroke.copy(rect); // FIXME Must after updateTransform\n\n              var w = style.lineWidth; // PENDING, Min line width is needed when line is horizontal or vertical\n\n              var lineScale = style.strokeNoScale ? this.getLineScale() : 1; // Only add extra hover lineWidth when there are no fill\n\n              if (!style.hasFill()) {\n                w = Math.max(w, this.strokeContainThreshold || 4);\n              } // Consider line width\n              // Line scale can't be 0;\n\n\n              if (lineScale > 1e-10) {\n                rectWithStroke.width += w / lineScale;\n                rectWithStroke.height += w / lineScale;\n                rectWithStroke.x -= w / lineScale / 2;\n                rectWithStroke.y -= w / lineScale / 2;\n              }\n            } // Return rect with stroke\n\n\n            return rectWithStroke;\n          }\n\n          return rect;\n        },\n        contain: function contain(x, y) {\n          var localPos = this.transformCoordToLocal(x, y);\n          var rect = this.getBoundingRect();\n          var style = this.style;\n          x = localPos[0];\n          y = localPos[1];\n\n          if (rect.contain(x, y)) {\n            var pathData = this.path.data;\n\n            if (style.hasStroke()) {\n              var lineWidth = style.lineWidth;\n              var lineScale = style.strokeNoScale ? this.getLineScale() : 1; // Line scale can't be 0;\n\n              if (lineScale > 1e-10) {\n                // Only add extra hover lineWidth when there are no fill\n                if (!style.hasFill()) {\n                  lineWidth = Math.max(lineWidth, this.strokeContainThreshold);\n                }\n\n                if (pathContain.containStroke(pathData, lineWidth / lineScale, x, y)) {\n                  return true;\n                }\n              }\n            }\n\n            if (style.hasFill()) {\n              return pathContain.contain(pathData, x, y);\n            }\n          }\n\n          return false;\n        },\n\n        /**\n         * @param  {boolean} dirtyPath\n         */\n        dirty: function dirty(dirtyPath) {\n          if (dirtyPath == null) {\n            dirtyPath = true;\n          } // Only mark dirty, not mark clean\n\n\n          if (dirtyPath) {\n            this.__dirtyPath = dirtyPath;\n            this._rect = null;\n          }\n\n          this.__dirty = true;\n          this.__zr && this.__zr.refresh(); // Used as a clipping path\n\n          if (this.__clipTarget) {\n            this.__clipTarget.dirty();\n          }\n        },\n\n        /**\n         * Alias for animate('shape')\n         * @param {boolean} loop\n         */\n        animateShape: function animateShape(loop) {\n          return this.animate('shape', loop);\n        },\n        // Overwrite attrKV\n        attrKV: function attrKV(key, value) {\n          // FIXME\n          if (key === 'shape') {\n            this.setShape(value);\n            this.__dirtyPath = true;\n            this._rect = null;\n          } else {\n            Displayable.prototype.attrKV.call(this, key, value);\n          }\n        },\n\n        /**\n         * @param {Object|string} key\n         * @param {*} value\n         */\n        setShape: function setShape(key, value) {\n          var shape = this.shape; // Path from string may not have shape\n\n          if (shape) {\n            if (zrUtil.isObject(key)) {\n              for (var name in key) {\n                if (key.hasOwnProperty(name)) {\n                  shape[name] = key[name];\n                }\n              }\n            } else {\n              shape[key] = value;\n            }\n\n            this.dirty(true);\n          }\n\n          return this;\n        },\n        getLineScale: function getLineScale() {\n          var m = this.transform; // Get the line scale.\n          // Determinant of `m` means how much the area is enlarged by the\n          // transformation. So its square root can be used as a scale factor\n          // for width.\n\n          return m && abs(m[0] - 1) > 1e-10 && abs(m[3] - 1) > 1e-10 ? Math.sqrt(abs(m[0] * m[3] - m[2] * m[1])) : 1;\n        }\n      };\n      /**\n       * 扩展一个 Path element, 比如星形，圆等。\n       * Extend a path element\n       * @param {Object} props\n       * @param {string} props.type Path type\n       * @param {Function} props.init Initialize\n       * @param {Function} props.buildPath Overwrite buildPath method\n       * @param {Object} [props.style] Extended default style config\n       * @param {Object} [props.shape] Extended default shape config\n       */\n\n      Path.extend = function (defaults) {\n        var Sub = function Sub(opts) {\n          Path.call(this, opts);\n\n          if (defaults.style) {\n            // Extend default style\n            this.style.extendFrom(defaults.style, false);\n          } // Extend default shape\n\n\n          var defaultShape = defaults.shape;\n\n          if (defaultShape) {\n            this.shape = this.shape || {};\n            var thisShape = this.shape;\n\n            for (var name in defaultShape) {\n              if (!thisShape.hasOwnProperty(name) && defaultShape.hasOwnProperty(name)) {\n                thisShape[name] = defaultShape[name];\n              }\n            }\n          }\n\n          defaults.init && defaults.init.call(this, opts);\n        };\n\n        zrUtil.inherits(Sub, Path); // FIXME 不能 extend position, rotation 等引用对象\n\n        for (var name in defaults) {\n          // Extending prototype values and methods\n          if (name !== 'style' && name !== 'shape') {\n            Sub.prototype[name] = defaults[name];\n          }\n        }\n\n        return Sub;\n      };\n\n      zrUtil.inherits(Path, Displayable);\n      var _default = Path;\n      module.exports = _default;\n      /***/\n    },\n    /* 2 */\n\n    /***/\n    function (module, exports) {\n      var ArrayCtor = typeof Float32Array === 'undefined' ? Array : Float32Array;\n      /**\n       * 创建一个向量\n       * @param {number} [x=0]\n       * @param {number} [y=0]\n       * @return {Vector2}\n       */\n\n      function create(x, y) {\n        var out = new ArrayCtor(2);\n\n        if (x == null) {\n          x = 0;\n        }\n\n        if (y == null) {\n          y = 0;\n        }\n\n        out[0] = x;\n        out[1] = y;\n        return out;\n      }\n      /**\n       * 复制向量数据\n       * @param {Vector2} out\n       * @param {Vector2} v\n       * @return {Vector2}\n       */\n\n\n      function copy(out, v) {\n        out[0] = v[0];\n        out[1] = v[1];\n        return out;\n      }\n      /**\n       * 克隆一个向量\n       * @param {Vector2} v\n       * @return {Vector2}\n       */\n\n\n      function clone(v) {\n        var out = new ArrayCtor(2);\n        out[0] = v[0];\n        out[1] = v[1];\n        return out;\n      }\n      /**\n       * 设置向量的两个项\n       * @param {Vector2} out\n       * @param {number} a\n       * @param {number} b\n       * @return {Vector2} 结果\n       */\n\n\n      function set(out, a, b) {\n        out[0] = a;\n        out[1] = b;\n        return out;\n      }\n      /**\n       * 向量相加\n       * @param {Vector2} out\n       * @param {Vector2} v1\n       * @param {Vector2} v2\n       */\n\n\n      function add(out, v1, v2) {\n        out[0] = v1[0] + v2[0];\n        out[1] = v1[1] + v2[1];\n        return out;\n      }\n      /**\n       * 向量缩放后相加\n       * @param {Vector2} out\n       * @param {Vector2} v1\n       * @param {Vector2} v2\n       * @param {number} a\n       */\n\n\n      function scaleAndAdd(out, v1, v2, a) {\n        out[0] = v1[0] + v2[0] * a;\n        out[1] = v1[1] + v2[1] * a;\n        return out;\n      }\n      /**\n       * 向量相减\n       * @param {Vector2} out\n       * @param {Vector2} v1\n       * @param {Vector2} v2\n       */\n\n\n      function sub(out, v1, v2) {\n        out[0] = v1[0] - v2[0];\n        out[1] = v1[1] - v2[1];\n        return out;\n      }\n      /**\n       * 向量长度\n       * @param {Vector2} v\n       * @return {number}\n       */\n\n\n      function len(v) {\n        return Math.sqrt(lenSquare(v));\n      }\n\n      var length = len; // jshint ignore:line\n\n      /**\n       * 向量长度平方\n       * @param {Vector2} v\n       * @return {number}\n       */\n\n      function lenSquare(v) {\n        return v[0] * v[0] + v[1] * v[1];\n      }\n\n      var lengthSquare = lenSquare;\n      /**\n       * 向量乘法\n       * @param {Vector2} out\n       * @param {Vector2} v1\n       * @param {Vector2} v2\n       */\n\n      function mul(out, v1, v2) {\n        out[0] = v1[0] * v2[0];\n        out[1] = v1[1] * v2[1];\n        return out;\n      }\n      /**\n       * 向量除法\n       * @param {Vector2} out\n       * @param {Vector2} v1\n       * @param {Vector2} v2\n       */\n\n\n      function div(out, v1, v2) {\n        out[0] = v1[0] / v2[0];\n        out[1] = v1[1] / v2[1];\n        return out;\n      }\n      /**\n       * 向量点乘\n       * @param {Vector2} v1\n       * @param {Vector2} v2\n       * @return {number}\n       */\n\n\n      function dot(v1, v2) {\n        return v1[0] * v2[0] + v1[1] * v2[1];\n      }\n      /**\n       * 向量缩放\n       * @param {Vector2} out\n       * @param {Vector2} v\n       * @param {number} s\n       */\n\n\n      function scale(out, v, s) {\n        out[0] = v[0] * s;\n        out[1] = v[1] * s;\n        return out;\n      }\n      /**\n       * 向量归一化\n       * @param {Vector2} out\n       * @param {Vector2} v\n       */\n\n\n      function normalize(out, v) {\n        var d = len(v);\n\n        if (d === 0) {\n          out[0] = 0;\n          out[1] = 0;\n        } else {\n          out[0] = v[0] / d;\n          out[1] = v[1] / d;\n        }\n\n        return out;\n      }\n      /**\n       * 计算向量间距离\n       * @param {Vector2} v1\n       * @param {Vector2} v2\n       * @return {number}\n       */\n\n\n      function distance(v1, v2) {\n        return Math.sqrt((v1[0] - v2[0]) * (v1[0] - v2[0]) + (v1[1] - v2[1]) * (v1[1] - v2[1]));\n      }\n\n      var dist = distance;\n      /**\n       * 向量距离平方\n       * @param {Vector2} v1\n       * @param {Vector2} v2\n       * @return {number}\n       */\n\n      function distanceSquare(v1, v2) {\n        return (v1[0] - v2[0]) * (v1[0] - v2[0]) + (v1[1] - v2[1]) * (v1[1] - v2[1]);\n      }\n\n      var distSquare = distanceSquare;\n      /**\n       * 求负向量\n       * @param {Vector2} out\n       * @param {Vector2} v\n       */\n\n      function negate(out, v) {\n        out[0] = -v[0];\n        out[1] = -v[1];\n        return out;\n      }\n      /**\n       * 插值两个点\n       * @param {Vector2} out\n       * @param {Vector2} v1\n       * @param {Vector2} v2\n       * @param {number} t\n       */\n\n\n      function lerp(out, v1, v2, t) {\n        out[0] = v1[0] + t * (v2[0] - v1[0]);\n        out[1] = v1[1] + t * (v2[1] - v1[1]);\n        return out;\n      }\n      /**\n       * 矩阵左乘向量\n       * @param {Vector2} out\n       * @param {Vector2} v\n       * @param {Vector2} m\n       */\n\n\n      function applyTransform(out, v, m) {\n        var x = v[0];\n        var y = v[1];\n        out[0] = m[0] * x + m[2] * y + m[4];\n        out[1] = m[1] * x + m[3] * y + m[5];\n        return out;\n      }\n      /**\n       * 求两个向量最小值\n       * @param  {Vector2} out\n       * @param  {Vector2} v1\n       * @param  {Vector2} v2\n       */\n\n\n      function min(out, v1, v2) {\n        out[0] = Math.min(v1[0], v2[0]);\n        out[1] = Math.min(v1[1], v2[1]);\n        return out;\n      }\n      /**\n       * 求两个向量最大值\n       * @param  {Vector2} out\n       * @param  {Vector2} v1\n       * @param  {Vector2} v2\n       */\n\n\n      function max(out, v1, v2) {\n        out[0] = Math.max(v1[0], v2[0]);\n        out[1] = Math.max(v1[1], v2[1]);\n        return out;\n      }\n\n      exports.create = create;\n      exports.copy = copy;\n      exports.clone = clone;\n      exports.set = set;\n      exports.add = add;\n      exports.scaleAndAdd = scaleAndAdd;\n      exports.sub = sub;\n      exports.len = len;\n      exports.length = length;\n      exports.lenSquare = lenSquare;\n      exports.lengthSquare = lengthSquare;\n      exports.mul = mul;\n      exports.div = div;\n      exports.dot = dot;\n      exports.scale = scale;\n      exports.normalize = normalize;\n      exports.distance = distance;\n      exports.dist = dist;\n      exports.distanceSquare = distanceSquare;\n      exports.distSquare = distSquare;\n      exports.negate = negate;\n      exports.lerp = lerp;\n      exports.applyTransform = applyTransform;\n      exports.min = min;\n      exports.max = max;\n      /***/\n    },\n    /* 3 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var vec2 = __webpack_require__(2);\n\n      var matrix = __webpack_require__(8);\n      /**\n       * @module echarts/core/BoundingRect\n       */\n\n\n      var v2ApplyTransform = vec2.applyTransform;\n      var mathMin = Math.min;\n      var mathMax = Math.max;\n      /**\n       * @alias module:echarts/core/BoundingRect\n       */\n\n      function BoundingRect(x, y, width, height) {\n        if (width < 0) {\n          x = x + width;\n          width = -width;\n        }\n\n        if (height < 0) {\n          y = y + height;\n          height = -height;\n        }\n        /**\n         * @type {number}\n         */\n\n\n        this.x = x;\n        /**\n         * @type {number}\n         */\n\n        this.y = y;\n        /**\n         * @type {number}\n         */\n\n        this.width = width;\n        /**\n         * @type {number}\n         */\n\n        this.height = height;\n      }\n\n      BoundingRect.prototype = {\n        constructor: BoundingRect,\n\n        /**\n         * @param {module:echarts/core/BoundingRect} other\n         */\n        union: function union(other) {\n          var x = mathMin(other.x, this.x);\n          var y = mathMin(other.y, this.y);\n          this.width = mathMax(other.x + other.width, this.x + this.width) - x;\n          this.height = mathMax(other.y + other.height, this.y + this.height) - y;\n          this.x = x;\n          this.y = y;\n        },\n\n        /**\n         * @param {Array.<number>} m\n         * @methods\n         */\n        applyTransform: function () {\n          var lt = [];\n          var rb = [];\n          var lb = [];\n          var rt = [];\n          return function (m) {\n            // In case usage like this\n            // el.getBoundingRect().applyTransform(el.transform)\n            // And element has no transform\n            if (!m) {\n              return;\n            }\n\n            lt[0] = lb[0] = this.x;\n            lt[1] = rt[1] = this.y;\n            rb[0] = rt[0] = this.x + this.width;\n            rb[1] = lb[1] = this.y + this.height;\n            v2ApplyTransform(lt, lt, m);\n            v2ApplyTransform(rb, rb, m);\n            v2ApplyTransform(lb, lb, m);\n            v2ApplyTransform(rt, rt, m);\n            this.x = mathMin(lt[0], rb[0], lb[0], rt[0]);\n            this.y = mathMin(lt[1], rb[1], lb[1], rt[1]);\n            var maxX = mathMax(lt[0], rb[0], lb[0], rt[0]);\n            var maxY = mathMax(lt[1], rb[1], lb[1], rt[1]);\n            this.width = maxX - this.x;\n            this.height = maxY - this.y;\n          };\n        }(),\n\n        /**\n         * Calculate matrix of transforming from self to target rect\n         * @param  {module:zrender/core/BoundingRect} b\n         * @return {Array.<number>}\n         */\n        calculateTransform: function calculateTransform(b) {\n          var a = this;\n          var sx = b.width / a.width;\n          var sy = b.height / a.height;\n          var m = matrix.create(); // 矩阵右乘\n\n          matrix.translate(m, m, [-a.x, -a.y]);\n          matrix.scale(m, m, [sx, sy]);\n          matrix.translate(m, m, [b.x, b.y]);\n          return m;\n        },\n\n        /**\n         * @param {(module:echarts/core/BoundingRect|Object)} b\n         * @return {boolean}\n         */\n        intersect: function intersect(b) {\n          if (!b) {\n            return false;\n          }\n\n          if (!(b instanceof BoundingRect)) {\n            // Normalize negative width/height.\n            b = BoundingRect.create(b);\n          }\n\n          var a = this;\n          var ax0 = a.x;\n          var ax1 = a.x + a.width;\n          var ay0 = a.y;\n          var ay1 = a.y + a.height;\n          var bx0 = b.x;\n          var bx1 = b.x + b.width;\n          var by0 = b.y;\n          var by1 = b.y + b.height;\n          return !(ax1 < bx0 || bx1 < ax0 || ay1 < by0 || by1 < ay0);\n        },\n        contain: function contain(x, y) {\n          var rect = this;\n          return x >= rect.x && x <= rect.x + rect.width && y >= rect.y && y <= rect.y + rect.height;\n        },\n\n        /**\n         * @return {module:echarts/core/BoundingRect}\n         */\n        clone: function clone() {\n          return new BoundingRect(this.x, this.y, this.width, this.height);\n        },\n\n        /**\n         * Copy from another rect\n         */\n        copy: function copy(other) {\n          this.x = other.x;\n          this.y = other.y;\n          this.width = other.width;\n          this.height = other.height;\n        },\n        plain: function plain() {\n          return {\n            x: this.x,\n            y: this.y,\n            width: this.width,\n            height: this.height\n          };\n        }\n      };\n      /**\n       * @param {Object|module:zrender/core/BoundingRect} rect\n       * @param {number} rect.x\n       * @param {number} rect.y\n       * @param {number} rect.width\n       * @param {number} rect.height\n       * @return {module:zrender/core/BoundingRect}\n       */\n\n      BoundingRect.create = function (rect) {\n        return new BoundingRect(rect.x, rect.y, rect.width, rect.height);\n      };\n\n      var _default = BoundingRect;\n      module.exports = _default;\n      /***/\n    },\n    /* 4 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var _vector = __webpack_require__(2);\n\n      var v2Create = _vector.create;\n      var v2DistSquare = _vector.distSquare;\n      /**\n       * 曲线辅助模块\n       * @module zrender/core/curve\n       * @author pissang(https://www.github.com/pissang)\n       */\n\n      var mathPow = Math.pow;\n      var mathSqrt = Math.sqrt;\n      var EPSILON = 1e-8;\n      var EPSILON_NUMERIC = 1e-4;\n      var THREE_SQRT = mathSqrt(3);\n      var ONE_THIRD = 1 / 3; // 临时变量\n\n      var _v0 = v2Create();\n\n      var _v1 = v2Create();\n\n      var _v2 = v2Create();\n\n      function isAroundZero(val) {\n        return val > -EPSILON && val < EPSILON;\n      }\n\n      function isNotAroundZero(val) {\n        return val > EPSILON || val < -EPSILON;\n      }\n      /**\n       * 计算三次贝塞尔值\n       * @memberOf module:zrender/core/curve\n       * @param  {number} p0\n       * @param  {number} p1\n       * @param  {number} p2\n       * @param  {number} p3\n       * @param  {number} t\n       * @return {number}\n       */\n\n\n      function cubicAt(p0, p1, p2, p3, t) {\n        var onet = 1 - t;\n        return onet * onet * (onet * p0 + 3 * t * p1) + t * t * (t * p3 + 3 * onet * p2);\n      }\n      /**\n       * 计算三次贝塞尔导数值\n       * @memberOf module:zrender/core/curve\n       * @param  {number} p0\n       * @param  {number} p1\n       * @param  {number} p2\n       * @param  {number} p3\n       * @param  {number} t\n       * @return {number}\n       */\n\n\n      function cubicDerivativeAt(p0, p1, p2, p3, t) {\n        var onet = 1 - t;\n        return 3 * (((p1 - p0) * onet + 2 * (p2 - p1) * t) * onet + (p3 - p2) * t * t);\n      }\n      /**\n       * 计算三次贝塞尔方程根，使用盛金公式\n       * @memberOf module:zrender/core/curve\n       * @param  {number} p0\n       * @param  {number} p1\n       * @param  {number} p2\n       * @param  {number} p3\n       * @param  {number} val\n       * @param  {Array.<number>} roots\n       * @return {number} 有效根数目\n       */\n\n\n      function cubicRootAt(p0, p1, p2, p3, val, roots) {\n        // Evaluate roots of cubic functions\n        var a = p3 + 3 * (p1 - p2) - p0;\n        var b = 3 * (p2 - p1 * 2 + p0);\n        var c = 3 * (p1 - p0);\n        var d = p0 - val;\n        var A = b * b - 3 * a * c;\n        var B = b * c - 9 * a * d;\n        var C = c * c - 3 * b * d;\n        var n = 0;\n\n        if (isAroundZero(A) && isAroundZero(B)) {\n          if (isAroundZero(b)) {\n            roots[0] = 0;\n          } else {\n            var t1 = -c / b; //t1, t2, t3, b is not zero\n\n            if (t1 >= 0 && t1 <= 1) {\n              roots[n++] = t1;\n            }\n          }\n        } else {\n          var disc = B * B - 4 * A * C;\n\n          if (isAroundZero(disc)) {\n            var K = B / A;\n            var t1 = -b / a + K; // t1, a is not zero\n\n            var t2 = -K / 2; // t2, t3\n\n            if (t1 >= 0 && t1 <= 1) {\n              roots[n++] = t1;\n            }\n\n            if (t2 >= 0 && t2 <= 1) {\n              roots[n++] = t2;\n            }\n          } else if (disc > 0) {\n            var discSqrt = mathSqrt(disc);\n            var Y1 = A * b + 1.5 * a * (-B + discSqrt);\n            var Y2 = A * b + 1.5 * a * (-B - discSqrt);\n\n            if (Y1 < 0) {\n              Y1 = -mathPow(-Y1, ONE_THIRD);\n            } else {\n              Y1 = mathPow(Y1, ONE_THIRD);\n            }\n\n            if (Y2 < 0) {\n              Y2 = -mathPow(-Y2, ONE_THIRD);\n            } else {\n              Y2 = mathPow(Y2, ONE_THIRD);\n            }\n\n            var t1 = (-b - (Y1 + Y2)) / (3 * a);\n\n            if (t1 >= 0 && t1 <= 1) {\n              roots[n++] = t1;\n            }\n          } else {\n            var T = (2 * A * b - 3 * a * B) / (2 * mathSqrt(A * A * A));\n            var theta = Math.acos(T) / 3;\n            var ASqrt = mathSqrt(A);\n            var tmp = Math.cos(theta);\n            var t1 = (-b - 2 * ASqrt * tmp) / (3 * a);\n            var t2 = (-b + ASqrt * (tmp + THREE_SQRT * Math.sin(theta))) / (3 * a);\n            var t3 = (-b + ASqrt * (tmp - THREE_SQRT * Math.sin(theta))) / (3 * a);\n\n            if (t1 >= 0 && t1 <= 1) {\n              roots[n++] = t1;\n            }\n\n            if (t2 >= 0 && t2 <= 1) {\n              roots[n++] = t2;\n            }\n\n            if (t3 >= 0 && t3 <= 1) {\n              roots[n++] = t3;\n            }\n          }\n        }\n\n        return n;\n      }\n      /**\n       * 计算三次贝塞尔方程极限值的位置\n       * @memberOf module:zrender/core/curve\n       * @param  {number} p0\n       * @param  {number} p1\n       * @param  {number} p2\n       * @param  {number} p3\n       * @param  {Array.<number>} extrema\n       * @return {number} 有效数目\n       */\n\n\n      function cubicExtrema(p0, p1, p2, p3, extrema) {\n        var b = 6 * p2 - 12 * p1 + 6 * p0;\n        var a = 9 * p1 + 3 * p3 - 3 * p0 - 9 * p2;\n        var c = 3 * p1 - 3 * p0;\n        var n = 0;\n\n        if (isAroundZero(a)) {\n          if (isNotAroundZero(b)) {\n            var t1 = -c / b;\n\n            if (t1 >= 0 && t1 <= 1) {\n              extrema[n++] = t1;\n            }\n          }\n        } else {\n          var disc = b * b - 4 * a * c;\n\n          if (isAroundZero(disc)) {\n            extrema[0] = -b / (2 * a);\n          } else if (disc > 0) {\n            var discSqrt = mathSqrt(disc);\n            var t1 = (-b + discSqrt) / (2 * a);\n            var t2 = (-b - discSqrt) / (2 * a);\n\n            if (t1 >= 0 && t1 <= 1) {\n              extrema[n++] = t1;\n            }\n\n            if (t2 >= 0 && t2 <= 1) {\n              extrema[n++] = t2;\n            }\n          }\n        }\n\n        return n;\n      }\n      /**\n       * 细分三次贝塞尔曲线\n       * @memberOf module:zrender/core/curve\n       * @param  {number} p0\n       * @param  {number} p1\n       * @param  {number} p2\n       * @param  {number} p3\n       * @param  {number} t\n       * @param  {Array.<number>} out\n       */\n\n\n      function cubicSubdivide(p0, p1, p2, p3, t, out) {\n        var p01 = (p1 - p0) * t + p0;\n        var p12 = (p2 - p1) * t + p1;\n        var p23 = (p3 - p2) * t + p2;\n        var p012 = (p12 - p01) * t + p01;\n        var p123 = (p23 - p12) * t + p12;\n        var p0123 = (p123 - p012) * t + p012; // Seg0\n\n        out[0] = p0;\n        out[1] = p01;\n        out[2] = p012;\n        out[3] = p0123; // Seg1\n\n        out[4] = p0123;\n        out[5] = p123;\n        out[6] = p23;\n        out[7] = p3;\n      }\n      /**\n       * 投射点到三次贝塞尔曲线上，返回投射距离。\n       * 投射点有可能会有一个或者多个，这里只返回其中距离最短的一个。\n       * @param {number} x0\n       * @param {number} y0\n       * @param {number} x1\n       * @param {number} y1\n       * @param {number} x2\n       * @param {number} y2\n       * @param {number} x3\n       * @param {number} y3\n       * @param {number} x\n       * @param {number} y\n       * @param {Array.<number>} [out] 投射点\n       * @return {number}\n       */\n\n\n      function cubicProjectPoint(x0, y0, x1, y1, x2, y2, x3, y3, x, y, out) {\n        // http://pomax.github.io/bezierinfo/#projections\n        var t;\n        var interval = 0.005;\n        var d = Infinity;\n        var prev;\n        var next;\n        var d1;\n        var d2;\n        _v0[0] = x;\n        _v0[1] = y; // 先粗略估计一下可能的最小距离的 t 值\n        // PENDING\n\n        for (var _t = 0; _t < 1; _t += 0.05) {\n          _v1[0] = cubicAt(x0, x1, x2, x3, _t);\n          _v1[1] = cubicAt(y0, y1, y2, y3, _t);\n          d1 = v2DistSquare(_v0, _v1);\n\n          if (d1 < d) {\n            t = _t;\n            d = d1;\n          }\n        }\n\n        d = Infinity; // At most 32 iteration\n\n        for (var i = 0; i < 32; i++) {\n          if (interval < EPSILON_NUMERIC) {\n            break;\n          }\n\n          prev = t - interval;\n          next = t + interval; // t - interval\n\n          _v1[0] = cubicAt(x0, x1, x2, x3, prev);\n          _v1[1] = cubicAt(y0, y1, y2, y3, prev);\n          d1 = v2DistSquare(_v1, _v0);\n\n          if (prev >= 0 && d1 < d) {\n            t = prev;\n            d = d1;\n          } else {\n            // t + interval\n            _v2[0] = cubicAt(x0, x1, x2, x3, next);\n            _v2[1] = cubicAt(y0, y1, y2, y3, next);\n            d2 = v2DistSquare(_v2, _v0);\n\n            if (next <= 1 && d2 < d) {\n              t = next;\n              d = d2;\n            } else {\n              interval *= 0.5;\n            }\n          }\n        } // t\n\n\n        if (out) {\n          out[0] = cubicAt(x0, x1, x2, x3, t);\n          out[1] = cubicAt(y0, y1, y2, y3, t);\n        } // console.log(interval, i);\n\n\n        return mathSqrt(d);\n      }\n      /**\n       * 计算二次方贝塞尔值\n       * @param  {number} p0\n       * @param  {number} p1\n       * @param  {number} p2\n       * @param  {number} t\n       * @return {number}\n       */\n\n\n      function quadraticAt(p0, p1, p2, t) {\n        var onet = 1 - t;\n        return onet * (onet * p0 + 2 * t * p1) + t * t * p2;\n      }\n      /**\n       * 计算二次方贝塞尔导数值\n       * @param  {number} p0\n       * @param  {number} p1\n       * @param  {number} p2\n       * @param  {number} t\n       * @return {number}\n       */\n\n\n      function quadraticDerivativeAt(p0, p1, p2, t) {\n        return 2 * ((1 - t) * (p1 - p0) + t * (p2 - p1));\n      }\n      /**\n       * 计算二次方贝塞尔方程根\n       * @param  {number} p0\n       * @param  {number} p1\n       * @param  {number} p2\n       * @param  {number} t\n       * @param  {Array.<number>} roots\n       * @return {number} 有效根数目\n       */\n\n\n      function quadraticRootAt(p0, p1, p2, val, roots) {\n        var a = p0 - 2 * p1 + p2;\n        var b = 2 * (p1 - p0);\n        var c = p0 - val;\n        var n = 0;\n\n        if (isAroundZero(a)) {\n          if (isNotAroundZero(b)) {\n            var t1 = -c / b;\n\n            if (t1 >= 0 && t1 <= 1) {\n              roots[n++] = t1;\n            }\n          }\n        } else {\n          var disc = b * b - 4 * a * c;\n\n          if (isAroundZero(disc)) {\n            var t1 = -b / (2 * a);\n\n            if (t1 >= 0 && t1 <= 1) {\n              roots[n++] = t1;\n            }\n          } else if (disc > 0) {\n            var discSqrt = mathSqrt(disc);\n            var t1 = (-b + discSqrt) / (2 * a);\n            var t2 = (-b - discSqrt) / (2 * a);\n\n            if (t1 >= 0 && t1 <= 1) {\n              roots[n++] = t1;\n            }\n\n            if (t2 >= 0 && t2 <= 1) {\n              roots[n++] = t2;\n            }\n          }\n        }\n\n        return n;\n      }\n      /**\n       * 计算二次贝塞尔方程极限值\n       * @memberOf module:zrender/core/curve\n       * @param  {number} p0\n       * @param  {number} p1\n       * @param  {number} p2\n       * @return {number}\n       */\n\n\n      function quadraticExtremum(p0, p1, p2) {\n        var divider = p0 + p2 - 2 * p1;\n\n        if (divider === 0) {\n          // p1 is center of p0 and p2\n          return 0.5;\n        } else {\n          return (p0 - p1) / divider;\n        }\n      }\n      /**\n       * 细分二次贝塞尔曲线\n       * @memberOf module:zrender/core/curve\n       * @param  {number} p0\n       * @param  {number} p1\n       * @param  {number} p2\n       * @param  {number} t\n       * @param  {Array.<number>} out\n       */\n\n\n      function quadraticSubdivide(p0, p1, p2, t, out) {\n        var p01 = (p1 - p0) * t + p0;\n        var p12 = (p2 - p1) * t + p1;\n        var p012 = (p12 - p01) * t + p01; // Seg0\n\n        out[0] = p0;\n        out[1] = p01;\n        out[2] = p012; // Seg1\n\n        out[3] = p012;\n        out[4] = p12;\n        out[5] = p2;\n      }\n      /**\n       * 投射点到二次贝塞尔曲线上，返回投射距离。\n       * 投射点有可能会有一个或者多个，这里只返回其中距离最短的一个。\n       * @param {number} x0\n       * @param {number} y0\n       * @param {number} x1\n       * @param {number} y1\n       * @param {number} x2\n       * @param {number} y2\n       * @param {number} x\n       * @param {number} y\n       * @param {Array.<number>} out 投射点\n       * @return {number}\n       */\n\n\n      function quadraticProjectPoint(x0, y0, x1, y1, x2, y2, x, y, out) {\n        // http://pomax.github.io/bezierinfo/#projections\n        var t;\n        var interval = 0.005;\n        var d = Infinity;\n        _v0[0] = x;\n        _v0[1] = y; // 先粗略估计一下可能的最小距离的 t 值\n        // PENDING\n\n        for (var _t = 0; _t < 1; _t += 0.05) {\n          _v1[0] = quadraticAt(x0, x1, x2, _t);\n          _v1[1] = quadraticAt(y0, y1, y2, _t);\n          var d1 = v2DistSquare(_v0, _v1);\n\n          if (d1 < d) {\n            t = _t;\n            d = d1;\n          }\n        }\n\n        d = Infinity; // At most 32 iteration\n\n        for (var i = 0; i < 32; i++) {\n          if (interval < EPSILON_NUMERIC) {\n            break;\n          }\n\n          var prev = t - interval;\n          var next = t + interval; // t - interval\n\n          _v1[0] = quadraticAt(x0, x1, x2, prev);\n          _v1[1] = quadraticAt(y0, y1, y2, prev);\n          var d1 = v2DistSquare(_v1, _v0);\n\n          if (prev >= 0 && d1 < d) {\n            t = prev;\n            d = d1;\n          } else {\n            // t + interval\n            _v2[0] = quadraticAt(x0, x1, x2, next);\n            _v2[1] = quadraticAt(y0, y1, y2, next);\n            var d2 = v2DistSquare(_v2, _v0);\n\n            if (next <= 1 && d2 < d) {\n              t = next;\n              d = d2;\n            } else {\n              interval *= 0.5;\n            }\n          }\n        } // t\n\n\n        if (out) {\n          out[0] = quadraticAt(x0, x1, x2, t);\n          out[1] = quadraticAt(y0, y1, y2, t);\n        } // console.log(interval, i);\n\n\n        return mathSqrt(d);\n      }\n\n      exports.cubicAt = cubicAt;\n      exports.cubicDerivativeAt = cubicDerivativeAt;\n      exports.cubicRootAt = cubicRootAt;\n      exports.cubicExtrema = cubicExtrema;\n      exports.cubicSubdivide = cubicSubdivide;\n      exports.cubicProjectPoint = cubicProjectPoint;\n      exports.quadraticAt = quadraticAt;\n      exports.quadraticDerivativeAt = quadraticDerivativeAt;\n      exports.quadraticRootAt = quadraticRootAt;\n      exports.quadraticExtremum = quadraticExtremum;\n      exports.quadraticSubdivide = quadraticSubdivide;\n      exports.quadraticProjectPoint = quadraticProjectPoint;\n      /***/\n    },\n    /* 5 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var BoundingRect = __webpack_require__(3);\n\n      var imageHelper = __webpack_require__(10);\n\n      var _util = __webpack_require__(0);\n\n      var getContext = _util.getContext;\n      var extend = _util.extend;\n      var retrieve2 = _util.retrieve2;\n      var retrieve3 = _util.retrieve3;\n      var textWidthCache = {};\n      var textWidthCacheCounter = 0;\n      var TEXT_CACHE_MAX = 5000;\n      var STYLE_REG = /\\{([a-zA-Z0-9_]+)\\|([^}]*)\\}/g;\n      var DEFAULT_FONT = '12px sans-serif'; // Avoid assign to an exported variable, for transforming to cjs.\n\n      var methods = {};\n\n      function $override(name, fn) {\n        methods[name] = fn;\n      }\n      /**\n       * @public\n       * @param {string} text\n       * @param {string} font\n       * @return {number} width\n       */\n\n\n      function getWidth(text, font) {\n        font = font || DEFAULT_FONT;\n        var key = text + ':' + font;\n\n        if (textWidthCache[key]) {\n          return textWidthCache[key];\n        }\n\n        var textLines = (text + '').split('\\n');\n        var width = 0;\n\n        for (var i = 0, l = textLines.length; i < l; i++) {\n          // textContain.measureText may be overrided in SVG or VML\n          width = Math.max(measureText(textLines[i], font).width, width);\n        }\n\n        if (textWidthCacheCounter > TEXT_CACHE_MAX) {\n          textWidthCacheCounter = 0;\n          textWidthCache = {};\n        }\n\n        textWidthCacheCounter++;\n        textWidthCache[key] = width;\n        return width;\n      }\n      /**\n       * @public\n       * @param {string} text\n       * @param {string} font\n       * @param {string} [textAlign='left']\n       * @param {string} [textVerticalAlign='top']\n       * @param {Array.<number>} [textPadding]\n       * @param {Object} [rich]\n       * @param {Object} [truncate]\n       * @return {Object} {x, y, width, height, lineHeight}\n       */\n\n\n      function getBoundingRect(text, font, textAlign, textVerticalAlign, textPadding, rich, truncate) {\n        return rich ? getRichTextRect(text, font, textAlign, textVerticalAlign, textPadding, rich, truncate) : getPlainTextRect(text, font, textAlign, textVerticalAlign, textPadding, truncate);\n      }\n\n      function getPlainTextRect(text, font, textAlign, textVerticalAlign, textPadding, truncate) {\n        var contentBlock = parsePlainText(text, font, textPadding, truncate);\n        var outerWidth = getWidth(text, font);\n\n        if (textPadding) {\n          outerWidth += textPadding[1] + textPadding[3];\n        }\n\n        var outerHeight = contentBlock.outerHeight;\n        var x = adjustTextX(0, outerWidth, textAlign);\n        var y = adjustTextY(0, outerHeight, textVerticalAlign);\n        var rect = new BoundingRect(x, y, outerWidth, outerHeight);\n        rect.lineHeight = contentBlock.lineHeight;\n        return rect;\n      }\n\n      function getRichTextRect(text, font, textAlign, textVerticalAlign, textPadding, rich, truncate) {\n        var contentBlock = parseRichText(text, {\n          rich: rich,\n          truncate: truncate,\n          font: font,\n          textAlign: textAlign,\n          textPadding: textPadding\n        });\n        var outerWidth = contentBlock.outerWidth;\n        var outerHeight = contentBlock.outerHeight;\n        var x = adjustTextX(0, outerWidth, textAlign);\n        var y = adjustTextY(0, outerHeight, textVerticalAlign);\n        return new BoundingRect(x, y, outerWidth, outerHeight);\n      }\n      /**\n       * @public\n       * @param {number} x\n       * @param {number} width\n       * @param {string} [textAlign='left']\n       * @return {number} Adjusted x.\n       */\n\n\n      function adjustTextX(x, width, textAlign) {\n        // FIXME Right to left language\n        if (textAlign === 'right') {\n          x -= width;\n        } else if (textAlign === 'center') {\n          x -= width / 2;\n        }\n\n        return x;\n      }\n      /**\n       * @public\n       * @param {number} y\n       * @param {number} height\n       * @param {string} [textVerticalAlign='top']\n       * @return {number} Adjusted y.\n       */\n\n\n      function adjustTextY(y, height, textVerticalAlign) {\n        if (textVerticalAlign === 'middle') {\n          y -= height / 2;\n        } else if (textVerticalAlign === 'bottom') {\n          y -= height;\n        }\n\n        return y;\n      }\n      /**\n       * @public\n       * @param {stirng} textPosition\n       * @param {Object} rect {x, y, width, height}\n       * @param {number} distance\n       * @return {Object} {x, y, textAlign, textVerticalAlign}\n       */\n\n\n      function adjustTextPositionOnRect(textPosition, rect, distance) {\n        var x = rect.x;\n        var y = rect.y;\n        var height = rect.height;\n        var width = rect.width;\n        var halfHeight = height / 2;\n        var textAlign = 'left';\n        var textVerticalAlign = 'top';\n\n        switch (textPosition) {\n          case 'left':\n            x -= distance;\n            y += halfHeight;\n            textAlign = 'right';\n            textVerticalAlign = 'middle';\n            break;\n\n          case 'right':\n            x += distance + width;\n            y += halfHeight;\n            textVerticalAlign = 'middle';\n            break;\n\n          case 'top':\n            x += width / 2;\n            y -= distance;\n            textAlign = 'center';\n            textVerticalAlign = 'bottom';\n            break;\n\n          case 'bottom':\n            x += width / 2;\n            y += height + distance;\n            textAlign = 'center';\n            break;\n\n          case 'inside':\n            x += width / 2;\n            y += halfHeight;\n            textAlign = 'center';\n            textVerticalAlign = 'middle';\n            break;\n\n          case 'insideLeft':\n            x += distance;\n            y += halfHeight;\n            textVerticalAlign = 'middle';\n            break;\n\n          case 'insideRight':\n            x += width - distance;\n            y += halfHeight;\n            textAlign = 'right';\n            textVerticalAlign = 'middle';\n            break;\n\n          case 'insideTop':\n            x += width / 2;\n            y += distance;\n            textAlign = 'center';\n            break;\n\n          case 'insideBottom':\n            x += width / 2;\n            y += height - distance;\n            textAlign = 'center';\n            textVerticalAlign = 'bottom';\n            break;\n\n          case 'insideTopLeft':\n            x += distance;\n            y += distance;\n            break;\n\n          case 'insideTopRight':\n            x += width - distance;\n            y += distance;\n            textAlign = 'right';\n            break;\n\n          case 'insideBottomLeft':\n            x += distance;\n            y += height - distance;\n            textVerticalAlign = 'bottom';\n            break;\n\n          case 'insideBottomRight':\n            x += width - distance;\n            y += height - distance;\n            textAlign = 'right';\n            textVerticalAlign = 'bottom';\n            break;\n        }\n\n        return {\n          x: x,\n          y: y,\n          textAlign: textAlign,\n          textVerticalAlign: textVerticalAlign\n        };\n      }\n      /**\n       * Show ellipsis if overflow.\n       *\n       * @public\n       * @param  {string} text\n       * @param  {string} containerWidth\n       * @param  {string} font\n       * @param  {number} [ellipsis='...']\n       * @param  {Object} [options]\n       * @param  {number} [options.maxIterations=3]\n       * @param  {number} [options.minChar=0] If truncate result are less\n       *                  then minChar, ellipsis will not show, which is\n       *                  better for user hint in some cases.\n       * @param  {number} [options.placeholder=''] When all truncated, use the placeholder.\n       * @return {string}\n       */\n\n\n      function truncateText(text, containerWidth, font, ellipsis, options) {\n        if (!containerWidth) {\n          return '';\n        }\n\n        var textLines = (text + '').split('\\n');\n        options = prepareTruncateOptions(containerWidth, font, ellipsis, options); // FIXME\n        // It is not appropriate that every line has '...' when truncate multiple lines.\n\n        for (var i = 0, len = textLines.length; i < len; i++) {\n          textLines[i] = truncateSingleLine(textLines[i], options);\n        }\n\n        return textLines.join('\\n');\n      }\n\n      function prepareTruncateOptions(containerWidth, font, ellipsis, options) {\n        options = extend({}, options);\n        options.font = font;\n        var ellipsis = retrieve2(ellipsis, '...');\n        options.maxIterations = retrieve2(options.maxIterations, 2);\n        var minChar = options.minChar = retrieve2(options.minChar, 0); // FIXME\n        // Other languages?\n\n        options.cnCharWidth = getWidth('国', font); // FIXME\n        // Consider proportional font?\n\n        var ascCharWidth = options.ascCharWidth = getWidth('a', font);\n        options.placeholder = retrieve2(options.placeholder, ''); // Example 1: minChar: 3, text: 'asdfzxcv', truncate result: 'asdf', but not: 'a...'.\n        // Example 2: minChar: 3, text: '维度', truncate result: '维', but not: '...'.\n\n        var contentWidth = containerWidth = Math.max(0, containerWidth - 1); // Reserve some gap.\n\n        for (var i = 0; i < minChar && contentWidth >= ascCharWidth; i++) {\n          contentWidth -= ascCharWidth;\n        }\n\n        var ellipsisWidth = getWidth(ellipsis);\n\n        if (ellipsisWidth > contentWidth) {\n          ellipsis = '';\n          ellipsisWidth = 0;\n        }\n\n        contentWidth = containerWidth - ellipsisWidth;\n        options.ellipsis = ellipsis;\n        options.ellipsisWidth = ellipsisWidth;\n        options.contentWidth = contentWidth;\n        options.containerWidth = containerWidth;\n        return options;\n      }\n\n      function truncateSingleLine(textLine, options) {\n        var containerWidth = options.containerWidth;\n        var font = options.font;\n        var contentWidth = options.contentWidth;\n\n        if (!containerWidth) {\n          return '';\n        }\n\n        var lineWidth = getWidth(textLine, font);\n\n        if (lineWidth <= containerWidth) {\n          return textLine;\n        }\n\n        for (var j = 0;; j++) {\n          if (lineWidth <= contentWidth || j >= options.maxIterations) {\n            textLine += options.ellipsis;\n            break;\n          }\n\n          var subLength = j === 0 ? estimateLength(textLine, contentWidth, options.ascCharWidth, options.cnCharWidth) : lineWidth > 0 ? Math.floor(textLine.length * contentWidth / lineWidth) : 0;\n          textLine = textLine.substr(0, subLength);\n          lineWidth = getWidth(textLine, font);\n        }\n\n        if (textLine === '') {\n          textLine = options.placeholder;\n        }\n\n        return textLine;\n      }\n\n      function estimateLength(text, contentWidth, ascCharWidth, cnCharWidth) {\n        var width = 0;\n        var i = 0;\n\n        for (var len = text.length; i < len && width < contentWidth; i++) {\n          var charCode = text.charCodeAt(i);\n          width += 0 <= charCode && charCode <= 127 ? ascCharWidth : cnCharWidth;\n        }\n\n        return i;\n      }\n      /**\n       * @public\n       * @param {string} font\n       * @return {number} line height\n       */\n\n\n      function getLineHeight(font) {\n        // FIXME A rough approach.\n        return getWidth('国', font);\n      }\n      /**\n       * @public\n       * @param {string} text\n       * @param {string} font\n       * @return {Object} width\n       */\n\n\n      function measureText(text, font) {\n        return methods.measureText(text, font);\n      } // Avoid assign to an exported variable, for transforming to cjs.\n\n\n      methods.measureText = function (text, font) {\n        var ctx = getContext();\n        ctx.font = font || DEFAULT_FONT;\n        return ctx.measureText(text);\n      };\n      /**\n       * @public\n       * @param {string} text\n       * @param {string} font\n       * @param {Object} [truncate]\n       * @return {Object} block: {lineHeight, lines, height, outerHeight}\n       *  Notice: for performance, do not calculate outerWidth util needed.\n       */\n\n\n      function parsePlainText(text, font, padding, truncate) {\n        text != null && (text += '');\n        var lineHeight = getLineHeight(font);\n        var lines = text ? text.split('\\n') : [];\n        var height = lines.length * lineHeight;\n        var outerHeight = height;\n\n        if (padding) {\n          outerHeight += padding[0] + padding[2];\n        }\n\n        if (text && truncate) {\n          var truncOuterHeight = truncate.outerHeight;\n          var truncOuterWidth = truncate.outerWidth;\n\n          if (truncOuterHeight != null && outerHeight > truncOuterHeight) {\n            text = '';\n            lines = [];\n          } else if (truncOuterWidth != null) {\n            var options = prepareTruncateOptions(truncOuterWidth - (padding ? padding[1] + padding[3] : 0), font, truncate.ellipsis, {\n              minChar: truncate.minChar,\n              placeholder: truncate.placeholder\n            }); // FIXME\n            // It is not appropriate that every line has '...' when truncate multiple lines.\n\n            for (var i = 0, len = lines.length; i < len; i++) {\n              lines[i] = truncateSingleLine(lines[i], options);\n            }\n          }\n        }\n\n        return {\n          lines: lines,\n          height: height,\n          outerHeight: outerHeight,\n          lineHeight: lineHeight\n        };\n      }\n      /**\n       * For example: 'some text {a|some text}other text{b|some text}xxx{c|}xxx'\n       * Also consider 'bbbb{a|xxx\\nzzz}xxxx\\naaaa'.\n       *\n       * @public\n       * @param {string} text\n       * @param {Object} style\n       * @return {Object} block\n       * {\n       *      width,\n       *      height,\n       *      lines: [{\n       *          lineHeight,\n       *          width,\n       *          tokens: [[{\n       *              styleName,\n       *              text,\n       *              width,      // include textPadding\n       *              height,     // include textPadding\n       *              textWidth, // pure text width\n       *              textHeight, // pure text height\n       *              lineHeihgt,\n       *              font,\n       *              textAlign,\n       *              textVerticalAlign\n       *          }], [...], ...]\n       *      }, ...]\n       * }\n       * If styleName is undefined, it is plain text.\n       */\n\n\n      function parseRichText(text, style) {\n        var contentBlock = {\n          lines: [],\n          width: 0,\n          height: 0\n        };\n        text != null && (text += '');\n\n        if (!text) {\n          return contentBlock;\n        }\n\n        var lastIndex = STYLE_REG.lastIndex = 0;\n        var result;\n\n        while ((result = STYLE_REG.exec(text)) != null) {\n          var matchedIndex = result.index;\n\n          if (matchedIndex > lastIndex) {\n            pushTokens(contentBlock, text.substring(lastIndex, matchedIndex));\n          }\n\n          pushTokens(contentBlock, result[2], result[1]);\n          lastIndex = STYLE_REG.lastIndex;\n        }\n\n        if (lastIndex < text.length) {\n          pushTokens(contentBlock, text.substring(lastIndex, text.length));\n        }\n\n        var lines = contentBlock.lines;\n        var contentHeight = 0;\n        var contentWidth = 0; // For `textWidth: 100%`\n\n        var pendingList = [];\n        var stlPadding = style.textPadding;\n        var truncate = style.truncate;\n        var truncateWidth = truncate && truncate.outerWidth;\n        var truncateHeight = truncate && truncate.outerHeight;\n\n        if (stlPadding) {\n          truncateWidth != null && (truncateWidth -= stlPadding[1] + stlPadding[3]);\n          truncateHeight != null && (truncateHeight -= stlPadding[0] + stlPadding[2]);\n        } // Calculate layout info of tokens.\n\n\n        for (var i = 0; i < lines.length; i++) {\n          var line = lines[i];\n          var lineHeight = 0;\n          var lineWidth = 0;\n\n          for (var j = 0; j < line.tokens.length; j++) {\n            var token = line.tokens[j];\n            var tokenStyle = token.styleName && style.rich[token.styleName] || {}; // textPadding should not inherit from style.\n\n            var textPadding = token.textPadding = tokenStyle.textPadding; // textFont has been asigned to font by `normalizeStyle`.\n\n            var font = token.font = tokenStyle.font || style.font; // textHeight can be used when textVerticalAlign is specified in token.\n\n            var tokenHeight = token.textHeight = retrieve2( // textHeight should not be inherited, consider it can be specified\n            // as box height of the block.\n            tokenStyle.textHeight, getLineHeight(font));\n            textPadding && (tokenHeight += textPadding[0] + textPadding[2]);\n            token.height = tokenHeight;\n            token.lineHeight = retrieve3(tokenStyle.textLineHeight, style.textLineHeight, tokenHeight);\n            token.textAlign = tokenStyle && tokenStyle.textAlign || style.textAlign;\n            token.textVerticalAlign = tokenStyle && tokenStyle.textVerticalAlign || 'middle';\n\n            if (truncateHeight != null && contentHeight + token.lineHeight > truncateHeight) {\n              return {\n                lines: [],\n                width: 0,\n                height: 0\n              };\n            }\n\n            token.textWidth = getWidth(token.text, font);\n            var tokenWidth = tokenStyle.textWidth;\n            var tokenWidthNotSpecified = tokenWidth == null || tokenWidth === 'auto'; // Percent width, can be `100%`, can be used in drawing separate\n            // line when box width is needed to be auto.\n\n            if (typeof tokenWidth === 'string' && tokenWidth.charAt(tokenWidth.length - 1) === '%') {\n              token.percentWidth = tokenWidth;\n              pendingList.push(token);\n              tokenWidth = 0; // Do not truncate in this case, because there is no user case\n              // and it is too complicated.\n            } else {\n              if (tokenWidthNotSpecified) {\n                tokenWidth = token.textWidth; // FIXME: If image is not loaded and textWidth is not specified, calling\n                // `getBoundingRect()` will not get correct result.\n\n                var textBackgroundColor = tokenStyle.textBackgroundColor;\n                var bgImg = textBackgroundColor && textBackgroundColor.image; // Use cases:\n                // (1) If image is not loaded, it will be loaded at render phase and call\n                // `dirty()` and `textBackgroundColor.image` will be replaced with the loaded\n                // image, and then the right size will be calculated here at the next tick.\n                // See `graphic/helper/text.js`.\n                // (2) If image loaded, and `textBackgroundColor.image` is image src string,\n                // use `imageHelper.findExistImage` to find cached image.\n                // `imageHelper.findExistImage` will always be called here before\n                // `imageHelper.createOrUpdateImage` in `graphic/helper/text.js#renderRichText`\n                // which ensures that image will not be rendered before correct size calcualted.\n\n                if (bgImg) {\n                  bgImg = imageHelper.findExistImage(bgImg);\n\n                  if (imageHelper.isImageReady(bgImg)) {\n                    tokenWidth = Math.max(tokenWidth, bgImg.width * tokenHeight / bgImg.height);\n                  }\n                }\n              }\n\n              var paddingW = textPadding ? textPadding[1] + textPadding[3] : 0;\n              tokenWidth += paddingW;\n              var remianTruncWidth = truncateWidth != null ? truncateWidth - lineWidth : null;\n\n              if (remianTruncWidth != null && remianTruncWidth < tokenWidth) {\n                if (!tokenWidthNotSpecified || remianTruncWidth < paddingW) {\n                  token.text = '';\n                  token.textWidth = tokenWidth = 0;\n                } else {\n                  token.text = truncateText(token.text, remianTruncWidth - paddingW, font, truncate.ellipsis, {\n                    minChar: truncate.minChar\n                  });\n                  token.textWidth = getWidth(token.text, font);\n                  tokenWidth = token.textWidth + paddingW;\n                }\n              }\n            }\n\n            lineWidth += token.width = tokenWidth;\n            tokenStyle && (lineHeight = Math.max(lineHeight, token.lineHeight));\n          }\n\n          line.width = lineWidth;\n          line.lineHeight = lineHeight;\n          contentHeight += lineHeight;\n          contentWidth = Math.max(contentWidth, lineWidth);\n        }\n\n        contentBlock.outerWidth = contentBlock.width = retrieve2(style.textWidth, contentWidth);\n        contentBlock.outerHeight = contentBlock.height = retrieve2(style.textHeight, contentHeight);\n\n        if (stlPadding) {\n          contentBlock.outerWidth += stlPadding[1] + stlPadding[3];\n          contentBlock.outerHeight += stlPadding[0] + stlPadding[2];\n        }\n\n        for (var i = 0; i < pendingList.length; i++) {\n          var token = pendingList[i];\n          var percentWidth = token.percentWidth; // Should not base on outerWidth, because token can not be placed out of padding.\n\n          token.width = parseInt(percentWidth, 10) / 100 * contentWidth;\n        }\n\n        return contentBlock;\n      }\n\n      function pushTokens(block, str, styleName) {\n        var isEmptyStr = str === '';\n        var strs = str.split('\\n');\n        var lines = block.lines;\n\n        for (var i = 0; i < strs.length; i++) {\n          var text = strs[i];\n          var token = {\n            styleName: styleName,\n            text: text,\n            isLineHolder: !text && !isEmptyStr\n          }; // The first token should be appended to the last line.\n\n          if (!i) {\n            var tokens = (lines[lines.length - 1] || (lines[0] = {\n              tokens: []\n            })).tokens; // Consider cases:\n            // (1) ''.split('\\n') => ['', '\\n', ''], the '' at the first item\n            // (which is a placeholder) should be replaced by new token.\n            // (2) A image backage, where token likes {a|}.\n            // (3) A redundant '' will affect textAlign in line.\n            // (4) tokens with the same tplName should not be merged, because\n            // they should be displayed in different box (with border and padding).\n\n            var tokensLen = tokens.length;\n            tokensLen === 1 && tokens[0].isLineHolder ? tokens[0] = token : // Consider text is '', only insert when it is the \"lineHolder\" or\n            // \"emptyStr\". Otherwise a redundant '' will affect textAlign in line.\n            (text || !tokensLen || isEmptyStr) && tokens.push(token);\n          } // Other tokens always start a new line.\n          else {\n              // If there is '', insert it as a placeholder.\n              lines.push({\n                tokens: [token]\n              });\n            }\n        }\n      }\n\n      function makeFont(style) {\n        // FIXME in node-canvas fontWeight is before fontStyle\n        // Use `fontSize` `fontFamily` to check whether font properties are defined.\n        return (style.fontSize || style.fontFamily) && [style.fontStyle, style.fontWeight, (style.fontSize || 12) + 'px', // If font properties are defined, `fontFamily` should not be ignored.\n        style.fontFamily || 'sans-serif'].join(' ') || style.textFont || style.font;\n      }\n\n      exports.DEFAULT_FONT = DEFAULT_FONT;\n      exports.$override = $override;\n      exports.getWidth = getWidth;\n      exports.getBoundingRect = getBoundingRect;\n      exports.adjustTextX = adjustTextX;\n      exports.adjustTextY = adjustTextY;\n      exports.adjustTextPositionOnRect = adjustTextPositionOnRect;\n      exports.truncateText = truncateText;\n      exports.getLineHeight = getLineHeight;\n      exports.measureText = measureText;\n      exports.parsePlainText = parsePlainText;\n      exports.parseRichText = parseRichText;\n      exports.makeFont = makeFont;\n      /***/\n    },\n    /* 6 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var curve = __webpack_require__(4);\n\n      var vec2 = __webpack_require__(2);\n\n      var bbox = __webpack_require__(49);\n\n      var BoundingRect = __webpack_require__(3);\n\n      var _config = __webpack_require__(19);\n\n      var dpr = _config.devicePixelRatio;\n      /**\n       * Path 代理，可以在`buildPath`中用于替代`ctx`, 会保存每个path操作的命令到pathCommands属性中\n       * 可以用于 isInsidePath 判断以及获取boundingRect\n       *\n       * @module zrender/core/PathProxy\n       * @author Yi Shen (http://www.github.com/pissang)\n       */\n      // TODO getTotalLength, getPointAtLength\n\n      var CMD = {\n        M: 1,\n        L: 2,\n        C: 3,\n        Q: 4,\n        A: 5,\n        Z: 6,\n        // Rect\n        R: 7\n      }; // var CMD_MEM_SIZE = {\n      //     M: 3,\n      //     L: 3,\n      //     C: 7,\n      //     Q: 5,\n      //     A: 9,\n      //     R: 5,\n      //     Z: 1\n      // };\n\n      var min = [];\n      var max = [];\n      var min2 = [];\n      var max2 = [];\n      var mathMin = Math.min;\n      var mathMax = Math.max;\n      var mathCos = Math.cos;\n      var mathSin = Math.sin;\n      var mathSqrt = Math.sqrt;\n      var mathAbs = Math.abs;\n      var hasTypedArray = typeof Float32Array != 'undefined';\n      /**\n       * @alias module:zrender/core/PathProxy\n       * @constructor\n       */\n\n      var PathProxy = function PathProxy(notSaveData) {\n        this._saveData = !(notSaveData || false);\n\n        if (this._saveData) {\n          /**\n           * Path data. Stored as flat array\n           * @type {Array.<Object>}\n           */\n          this.data = [];\n        }\n\n        this._ctx = null;\n      };\n      /**\n       * 快速计算Path包围盒（并不是最小包围盒）\n       * @return {Object}\n       */\n\n\n      PathProxy.prototype = {\n        constructor: PathProxy,\n        _xi: 0,\n        _yi: 0,\n        _x0: 0,\n        _y0: 0,\n        // Unit x, Unit y. Provide for avoiding drawing that too short line segment\n        _ux: 0,\n        _uy: 0,\n        _len: 0,\n        _lineDash: null,\n        _dashOffset: 0,\n        _dashIdx: 0,\n        _dashSum: 0,\n\n        /**\n         * @readOnly\n         */\n        setScale: function setScale(sx, sy) {\n          this._ux = mathAbs(1 / dpr / sx) || 0;\n          this._uy = mathAbs(1 / dpr / sy) || 0;\n        },\n        getContext: function getContext() {\n          return this._ctx;\n        },\n\n        /**\n         * @param  {CanvasRenderingContext2D} ctx\n         * @return {module:zrender/core/PathProxy}\n         */\n        beginPath: function beginPath(ctx) {\n          this._ctx = ctx;\n          ctx && ctx.beginPath();\n          ctx && (this.dpr = ctx.dpr); // Reset\n\n          if (this._saveData) {\n            this._len = 0;\n          }\n\n          if (this._lineDash) {\n            this._lineDash = null;\n            this._dashOffset = 0;\n          }\n\n          return this;\n        },\n\n        /**\n         * @param  {number} x\n         * @param  {number} y\n         * @return {module:zrender/core/PathProxy}\n         */\n        moveTo: function moveTo(x, y) {\n          this.addData(CMD.M, x, y);\n          this._ctx && this._ctx.moveTo(x, y); // x0, y0, xi, yi 是记录在 _dashedXXXXTo 方法中使用\n          // xi, yi 记录当前点, x0, y0 在 closePath 的时候回到起始点。\n          // 有可能在 beginPath 之后直接调用 lineTo，这时候 x0, y0 需要\n          // 在 lineTo 方法中记录，这里先不考虑这种情况，dashed line 也只在 IE10- 中不支持\n\n          this._x0 = x;\n          this._y0 = y;\n          this._xi = x;\n          this._yi = y;\n          return this;\n        },\n\n        /**\n         * @param  {number} x\n         * @param  {number} y\n         * @return {module:zrender/core/PathProxy}\n         */\n        lineTo: function lineTo(x, y) {\n          var exceedUnit = mathAbs(x - this._xi) > this._ux || mathAbs(y - this._yi) > this._uy // Force draw the first segment\n          || this._len < 5;\n          this.addData(CMD.L, x, y);\n\n          if (this._ctx && exceedUnit) {\n            this._needsDash() ? this._dashedLineTo(x, y) : this._ctx.lineTo(x, y);\n          }\n\n          if (exceedUnit) {\n            this._xi = x;\n            this._yi = y;\n          }\n\n          return this;\n        },\n\n        /**\n         * @param  {number} x1\n         * @param  {number} y1\n         * @param  {number} x2\n         * @param  {number} y2\n         * @param  {number} x3\n         * @param  {number} y3\n         * @return {module:zrender/core/PathProxy}\n         */\n        bezierCurveTo: function bezierCurveTo(x1, y1, x2, y2, x3, y3) {\n          this.addData(CMD.C, x1, y1, x2, y2, x3, y3);\n\n          if (this._ctx) {\n            this._needsDash() ? this._dashedBezierTo(x1, y1, x2, y2, x3, y3) : this._ctx.bezierCurveTo(x1, y1, x2, y2, x3, y3);\n          }\n\n          this._xi = x3;\n          this._yi = y3;\n          return this;\n        },\n\n        /**\n         * @param  {number} x1\n         * @param  {number} y1\n         * @param  {number} x2\n         * @param  {number} y2\n         * @return {module:zrender/core/PathProxy}\n         */\n        quadraticCurveTo: function quadraticCurveTo(x1, y1, x2, y2) {\n          this.addData(CMD.Q, x1, y1, x2, y2);\n\n          if (this._ctx) {\n            this._needsDash() ? this._dashedQuadraticTo(x1, y1, x2, y2) : this._ctx.quadraticCurveTo(x1, y1, x2, y2);\n          }\n\n          this._xi = x2;\n          this._yi = y2;\n          return this;\n        },\n\n        /**\n         * @param  {number} cx\n         * @param  {number} cy\n         * @param  {number} r\n         * @param  {number} startAngle\n         * @param  {number} endAngle\n         * @param  {boolean} anticlockwise\n         * @return {module:zrender/core/PathProxy}\n         */\n        arc: function arc(cx, cy, r, startAngle, endAngle, anticlockwise) {\n          this.addData(CMD.A, cx, cy, r, r, startAngle, endAngle - startAngle, 0, anticlockwise ? 0 : 1);\n          this._ctx && this._ctx.arc(cx, cy, r, startAngle, endAngle, anticlockwise);\n          this._xi = mathCos(endAngle) * r + cx;\n          this._yi = mathSin(endAngle) * r + cx;\n          return this;\n        },\n        // TODO\n        arcTo: function arcTo(x1, y1, x2, y2, radius) {\n          if (this._ctx) {\n            this._ctx.arcTo(x1, y1, x2, y2, radius);\n          }\n\n          return this;\n        },\n        // TODO\n        rect: function rect(x, y, w, h) {\n          this._ctx && this._ctx.rect(x, y, w, h);\n          this.addData(CMD.R, x, y, w, h);\n          return this;\n        },\n\n        /**\n         * @return {module:zrender/core/PathProxy}\n         */\n        closePath: function closePath() {\n          this.addData(CMD.Z);\n          var ctx = this._ctx;\n          var x0 = this._x0;\n          var y0 = this._y0;\n\n          if (ctx) {\n            this._needsDash() && this._dashedLineTo(x0, y0);\n            ctx.closePath();\n          }\n\n          this._xi = x0;\n          this._yi = y0;\n          return this;\n        },\n\n        /**\n         * Context 从外部传入，因为有可能是 rebuildPath 完之后再 fill。\n         * stroke 同样\n         * @param {CanvasRenderingContext2D} ctx\n         * @return {module:zrender/core/PathProxy}\n         */\n        fill: function fill(ctx) {\n          ctx && ctx.fill();\n          this.toStatic();\n        },\n\n        /**\n         * @param {CanvasRenderingContext2D} ctx\n         * @return {module:zrender/core/PathProxy}\n         */\n        stroke: function stroke(ctx) {\n          ctx && ctx.stroke();\n          this.toStatic();\n        },\n\n        /**\n         * 必须在其它绘制命令前调用\n         * Must be invoked before all other path drawing methods\n         * @return {module:zrender/core/PathProxy}\n         */\n        setLineDash: function setLineDash(lineDash) {\n          if (lineDash instanceof Array) {\n            this._lineDash = lineDash;\n            this._dashIdx = 0;\n            var lineDashSum = 0;\n\n            for (var i = 0; i < lineDash.length; i++) {\n              lineDashSum += lineDash[i];\n            }\n\n            this._dashSum = lineDashSum;\n          }\n\n          return this;\n        },\n\n        /**\n         * 必须在其它绘制命令前调用\n         * Must be invoked before all other path drawing methods\n         * @return {module:zrender/core/PathProxy}\n         */\n        setLineDashOffset: function setLineDashOffset(offset) {\n          this._dashOffset = offset;\n          return this;\n        },\n\n        /**\n         *\n         * @return {boolean}\n         */\n        len: function len() {\n          return this._len;\n        },\n\n        /**\n         * 直接设置 Path 数据\n         */\n        setData: function setData(data) {\n          var len = data.length;\n\n          if (!(this.data && this.data.length == len) && hasTypedArray) {\n            this.data = new Float32Array(len);\n          }\n\n          for (var i = 0; i < len; i++) {\n            this.data[i] = data[i];\n          }\n\n          this._len = len;\n        },\n\n        /**\n         * 添加子路径\n         * @param {module:zrender/core/PathProxy|Array.<module:zrender/core/PathProxy>} path\n         */\n        appendPath: function appendPath(path) {\n          if (!(path instanceof Array)) {\n            path = [path];\n          }\n\n          var len = path.length;\n          var appendSize = 0;\n          var offset = this._len;\n\n          for (var i = 0; i < len; i++) {\n            appendSize += path[i].len();\n          }\n\n          if (hasTypedArray && this.data instanceof Float32Array) {\n            this.data = new Float32Array(offset + appendSize);\n          }\n\n          for (var i = 0; i < len; i++) {\n            var appendPathData = path[i].data;\n\n            for (var k = 0; k < appendPathData.length; k++) {\n              this.data[offset++] = appendPathData[k];\n            }\n          }\n\n          this._len = offset;\n        },\n\n        /**\n         * 填充 Path 数据。\n         * 尽量复用而不申明新的数组。大部分图形重绘的指令数据长度都是不变的。\n         */\n        addData: function addData(cmd) {\n          if (!this._saveData) {\n            return;\n          }\n\n          var data = this.data;\n\n          if (this._len + arguments.length > data.length) {\n            // 因为之前的数组已经转换成静态的 Float32Array\n            // 所以不够用时需要扩展一个新的动态数组\n            this._expandData();\n\n            data = this.data;\n          }\n\n          for (var i = 0; i < arguments.length; i++) {\n            data[this._len++] = arguments[i];\n          }\n\n          this._prevCmd = cmd;\n        },\n        _expandData: function _expandData() {\n          // Only if data is Float32Array\n          if (!(this.data instanceof Array)) {\n            var newData = [];\n\n            for (var i = 0; i < this._len; i++) {\n              newData[i] = this.data[i];\n            }\n\n            this.data = newData;\n          }\n        },\n\n        /**\n         * If needs js implemented dashed line\n         * @return {boolean}\n         * @private\n         */\n        _needsDash: function _needsDash() {\n          return this._lineDash;\n        },\n        _dashedLineTo: function _dashedLineTo(x1, y1) {\n          var dashSum = this._dashSum;\n          var offset = this._dashOffset;\n          var lineDash = this._lineDash;\n          var ctx = this._ctx;\n          var x0 = this._xi;\n          var y0 = this._yi;\n          var dx = x1 - x0;\n          var dy = y1 - y0;\n          var dist = mathSqrt(dx * dx + dy * dy);\n          var x = x0;\n          var y = y0;\n          var dash;\n          var nDash = lineDash.length;\n          var idx;\n          dx /= dist;\n          dy /= dist;\n\n          if (offset < 0) {\n            // Convert to positive offset\n            offset = dashSum + offset;\n          }\n\n          offset %= dashSum;\n          x -= offset * dx;\n          y -= offset * dy;\n\n          while (dx > 0 && x <= x1 || dx < 0 && x >= x1 || dx == 0 && (dy > 0 && y <= y1 || dy < 0 && y >= y1)) {\n            idx = this._dashIdx;\n            dash = lineDash[idx];\n            x += dx * dash;\n            y += dy * dash;\n            this._dashIdx = (idx + 1) % nDash; // Skip positive offset\n\n            if (dx > 0 && x < x0 || dx < 0 && x > x0 || dy > 0 && y < y0 || dy < 0 && y > y0) {\n              continue;\n            }\n\n            ctx[idx % 2 ? 'moveTo' : 'lineTo'](dx >= 0 ? mathMin(x, x1) : mathMax(x, x1), dy >= 0 ? mathMin(y, y1) : mathMax(y, y1));\n          } // Offset for next lineTo\n\n\n          dx = x - x1;\n          dy = y - y1;\n          this._dashOffset = -mathSqrt(dx * dx + dy * dy);\n        },\n        // Not accurate dashed line to\n        _dashedBezierTo: function _dashedBezierTo(x1, y1, x2, y2, x3, y3) {\n          var dashSum = this._dashSum;\n          var offset = this._dashOffset;\n          var lineDash = this._lineDash;\n          var ctx = this._ctx;\n          var x0 = this._xi;\n          var y0 = this._yi;\n          var t;\n          var dx;\n          var dy;\n          var cubicAt = curve.cubicAt;\n          var bezierLen = 0;\n          var idx = this._dashIdx;\n          var nDash = lineDash.length;\n          var x;\n          var y;\n          var tmpLen = 0;\n\n          if (offset < 0) {\n            // Convert to positive offset\n            offset = dashSum + offset;\n          }\n\n          offset %= dashSum; // Bezier approx length\n\n          for (t = 0; t < 1; t += 0.1) {\n            dx = cubicAt(x0, x1, x2, x3, t + 0.1) - cubicAt(x0, x1, x2, x3, t);\n            dy = cubicAt(y0, y1, y2, y3, t + 0.1) - cubicAt(y0, y1, y2, y3, t);\n            bezierLen += mathSqrt(dx * dx + dy * dy);\n          } // Find idx after add offset\n\n\n          for (; idx < nDash; idx++) {\n            tmpLen += lineDash[idx];\n\n            if (tmpLen > offset) {\n              break;\n            }\n          }\n\n          t = (tmpLen - offset) / bezierLen;\n\n          while (t <= 1) {\n            x = cubicAt(x0, x1, x2, x3, t);\n            y = cubicAt(y0, y1, y2, y3, t); // Use line to approximate dashed bezier\n            // Bad result if dash is long\n\n            idx % 2 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);\n            t += lineDash[idx] / bezierLen;\n            idx = (idx + 1) % nDash;\n          } // Finish the last segment and calculate the new offset\n\n\n          idx % 2 !== 0 && ctx.lineTo(x3, y3);\n          dx = x3 - x;\n          dy = y3 - y;\n          this._dashOffset = -mathSqrt(dx * dx + dy * dy);\n        },\n        _dashedQuadraticTo: function _dashedQuadraticTo(x1, y1, x2, y2) {\n          // Convert quadratic to cubic using degree elevation\n          var x3 = x2;\n          var y3 = y2;\n          x2 = (x2 + 2 * x1) / 3;\n          y2 = (y2 + 2 * y1) / 3;\n          x1 = (this._xi + 2 * x1) / 3;\n          y1 = (this._yi + 2 * y1) / 3;\n\n          this._dashedBezierTo(x1, y1, x2, y2, x3, y3);\n        },\n\n        /**\n         * 转成静态的 Float32Array 减少堆内存占用\n         * Convert dynamic array to static Float32Array\n         */\n        toStatic: function toStatic() {\n          var data = this.data;\n\n          if (data instanceof Array) {\n            data.length = this._len;\n\n            if (hasTypedArray) {\n              this.data = new Float32Array(data);\n            }\n          }\n        },\n\n        /**\n         * @return {module:zrender/core/BoundingRect}\n         */\n        getBoundingRect: function getBoundingRect() {\n          min[0] = min[1] = min2[0] = min2[1] = Number.MAX_VALUE;\n          max[0] = max[1] = max2[0] = max2[1] = -Number.MAX_VALUE;\n          var data = this.data;\n          var xi = 0;\n          var yi = 0;\n          var x0 = 0;\n          var y0 = 0;\n\n          for (var i = 0; i < data.length;) {\n            var cmd = data[i++];\n\n            if (i == 1) {\n              // 如果第一个命令是 L, C, Q\n              // 则 previous point 同绘制命令的第一个 point\n              //\n              // 第一个命令为 Arc 的情况下会在后面特殊处理\n              xi = data[i];\n              yi = data[i + 1];\n              x0 = xi;\n              y0 = yi;\n            }\n\n            switch (cmd) {\n              case CMD.M:\n                // moveTo 命令重新创建一个新的 subpath, 并且更新新的起点\n                // 在 closePath 的时候使用\n                x0 = data[i++];\n                y0 = data[i++];\n                xi = x0;\n                yi = y0;\n                min2[0] = x0;\n                min2[1] = y0;\n                max2[0] = x0;\n                max2[1] = y0;\n                break;\n\n              case CMD.L:\n                bbox.fromLine(xi, yi, data[i], data[i + 1], min2, max2);\n                xi = data[i++];\n                yi = data[i++];\n                break;\n\n              case CMD.C:\n                bbox.fromCubic(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], min2, max2);\n                xi = data[i++];\n                yi = data[i++];\n                break;\n\n              case CMD.Q:\n                bbox.fromQuadratic(xi, yi, data[i++], data[i++], data[i], data[i + 1], min2, max2);\n                xi = data[i++];\n                yi = data[i++];\n                break;\n\n              case CMD.A:\n                // TODO Arc 判断的开销比较大\n                var cx = data[i++];\n                var cy = data[i++];\n                var rx = data[i++];\n                var ry = data[i++];\n                var startAngle = data[i++];\n                var endAngle = data[i++] + startAngle; // TODO Arc 旋转\n\n                var psi = data[i++];\n                var anticlockwise = 1 - data[i++];\n\n                if (i == 1) {\n                  // 直接使用 arc 命令\n                  // 第一个命令起点还未定义\n                  x0 = mathCos(startAngle) * rx + cx;\n                  y0 = mathSin(startAngle) * ry + cy;\n                }\n\n                bbox.fromArc(cx, cy, rx, ry, startAngle, endAngle, anticlockwise, min2, max2);\n                xi = mathCos(endAngle) * rx + cx;\n                yi = mathSin(endAngle) * ry + cy;\n                break;\n\n              case CMD.R:\n                x0 = xi = data[i++];\n                y0 = yi = data[i++];\n                var width = data[i++];\n                var height = data[i++]; // Use fromLine\n\n                bbox.fromLine(x0, y0, x0 + width, y0 + height, min2, max2);\n                break;\n\n              case CMD.Z:\n                xi = x0;\n                yi = y0;\n                break;\n            } // Union\n\n\n            vec2.min(min, min, min2);\n            vec2.max(max, max, max2);\n          } // No data\n\n\n          if (i === 0) {\n            min[0] = min[1] = max[0] = max[1] = 0;\n          }\n\n          return new BoundingRect(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n        },\n\n        /**\n         * Rebuild path from current data\n         * Rebuild path will not consider javascript implemented line dash.\n         * @param {CanvasRenderingContext2D} ctx\n         */\n        rebuildPath: function rebuildPath(ctx) {\n          var d = this.data;\n          var x0, y0;\n          var xi, yi;\n          var x, y;\n          var ux = this._ux;\n          var uy = this._uy;\n          var len = this._len;\n\n          for (var i = 0; i < len;) {\n            var cmd = d[i++];\n\n            if (i == 1) {\n              // 如果第一个命令是 L, C, Q\n              // 则 previous point 同绘制命令的第一个 point\n              //\n              // 第一个命令为 Arc 的情况下会在后面特殊处理\n              xi = d[i];\n              yi = d[i + 1];\n              x0 = xi;\n              y0 = yi;\n            }\n\n            switch (cmd) {\n              case CMD.M:\n                x0 = xi = d[i++];\n                y0 = yi = d[i++];\n                ctx.moveTo(xi, yi);\n                break;\n\n              case CMD.L:\n                x = d[i++];\n                y = d[i++]; // Not draw too small seg between\n\n                if (mathAbs(x - xi) > ux || mathAbs(y - yi) > uy || i === len - 1) {\n                  ctx.lineTo(x, y);\n                  xi = x;\n                  yi = y;\n                }\n\n                break;\n\n              case CMD.C:\n                ctx.bezierCurveTo(d[i++], d[i++], d[i++], d[i++], d[i++], d[i++]);\n                xi = d[i - 2];\n                yi = d[i - 1];\n                break;\n\n              case CMD.Q:\n                ctx.quadraticCurveTo(d[i++], d[i++], d[i++], d[i++]);\n                xi = d[i - 2];\n                yi = d[i - 1];\n                break;\n\n              case CMD.A:\n                var cx = d[i++];\n                var cy = d[i++];\n                var rx = d[i++];\n                var ry = d[i++];\n                var theta = d[i++];\n                var dTheta = d[i++];\n                var psi = d[i++];\n                var fs = d[i++];\n                var r = rx > ry ? rx : ry;\n                var scaleX = rx > ry ? 1 : rx / ry;\n                var scaleY = rx > ry ? ry / rx : 1;\n                var isEllipse = Math.abs(rx - ry) > 1e-3;\n                var endAngle = theta + dTheta;\n\n                if (isEllipse) {\n                  ctx.translate(cx, cy);\n                  ctx.rotate(psi);\n                  ctx.scale(scaleX, scaleY);\n                  ctx.arc(0, 0, r, theta, endAngle, 1 - fs);\n                  ctx.scale(1 / scaleX, 1 / scaleY);\n                  ctx.rotate(-psi);\n                  ctx.translate(-cx, -cy);\n                } else {\n                  ctx.arc(cx, cy, r, theta, endAngle, 1 - fs);\n                }\n\n                if (i == 1) {\n                  // 直接使用 arc 命令\n                  // 第一个命令起点还未定义\n                  x0 = mathCos(theta) * rx + cx;\n                  y0 = mathSin(theta) * ry + cy;\n                }\n\n                xi = mathCos(endAngle) * rx + cx;\n                yi = mathSin(endAngle) * ry + cy;\n                break;\n\n              case CMD.R:\n                x0 = xi = d[i];\n                y0 = yi = d[i + 1];\n                ctx.rect(d[i++], d[i++], d[i++], d[i++]);\n                break;\n\n              case CMD.Z:\n                ctx.closePath();\n                xi = x0;\n                yi = y0;\n            }\n          }\n        }\n      };\n      PathProxy.CMD = CMD;\n      var _default = PathProxy;\n      module.exports = _default;\n      /***/\n    },\n    /* 7 */\n\n    /***/\n    function (module, exports) {\n      module.exports = __WEBPACK_EXTERNAL_MODULE_7__;\n      /***/\n    },\n    /* 8 */\n\n    /***/\n    function (module, exports) {\n      /**\n       * 3x2矩阵操作类\n       * @exports zrender/tool/matrix\n       */\n      var ArrayCtor = typeof Float32Array === 'undefined' ? Array : Float32Array;\n      /**\n       * 创建一个单位矩阵\n       * @return {Float32Array|Array.<number>}\n       */\n\n      function create() {\n        var out = new ArrayCtor(6);\n        identity(out);\n        return out;\n      }\n      /**\n       * 设置矩阵为单位矩阵\n       * @param {Float32Array|Array.<number>} out\n       */\n\n\n      function identity(out) {\n        out[0] = 1;\n        out[1] = 0;\n        out[2] = 0;\n        out[3] = 1;\n        out[4] = 0;\n        out[5] = 0;\n        return out;\n      }\n      /**\n       * 复制矩阵\n       * @param {Float32Array|Array.<number>} out\n       * @param {Float32Array|Array.<number>} m\n       */\n\n\n      function copy(out, m) {\n        out[0] = m[0];\n        out[1] = m[1];\n        out[2] = m[2];\n        out[3] = m[3];\n        out[4] = m[4];\n        out[5] = m[5];\n        return out;\n      }\n      /**\n       * 矩阵相乘\n       * @param {Float32Array|Array.<number>} out\n       * @param {Float32Array|Array.<number>} m1\n       * @param {Float32Array|Array.<number>} m2\n       */\n\n\n      function mul(out, m1, m2) {\n        // Consider matrix.mul(m, m2, m);\n        // where out is the same as m2.\n        // So use temp variable to escape error.\n        var out0 = m1[0] * m2[0] + m1[2] * m2[1];\n        var out1 = m1[1] * m2[0] + m1[3] * m2[1];\n        var out2 = m1[0] * m2[2] + m1[2] * m2[3];\n        var out3 = m1[1] * m2[2] + m1[3] * m2[3];\n        var out4 = m1[0] * m2[4] + m1[2] * m2[5] + m1[4];\n        var out5 = m1[1] * m2[4] + m1[3] * m2[5] + m1[5];\n        out[0] = out0;\n        out[1] = out1;\n        out[2] = out2;\n        out[3] = out3;\n        out[4] = out4;\n        out[5] = out5;\n        return out;\n      }\n      /**\n       * 平移变换\n       * @param {Float32Array|Array.<number>} out\n       * @param {Float32Array|Array.<number>} a\n       * @param {Float32Array|Array.<number>} v\n       */\n\n\n      function translate(out, a, v) {\n        out[0] = a[0];\n        out[1] = a[1];\n        out[2] = a[2];\n        out[3] = a[3];\n        out[4] = a[4] + v[0];\n        out[5] = a[5] + v[1];\n        return out;\n      }\n      /**\n       * 旋转变换\n       * @param {Float32Array|Array.<number>} out\n       * @param {Float32Array|Array.<number>} a\n       * @param {number} rad\n       */\n\n\n      function rotate(out, a, rad) {\n        var aa = a[0];\n        var ac = a[2];\n        var atx = a[4];\n        var ab = a[1];\n        var ad = a[3];\n        var aty = a[5];\n        var st = Math.sin(rad);\n        var ct = Math.cos(rad);\n        out[0] = aa * ct + ab * st;\n        out[1] = -aa * st + ab * ct;\n        out[2] = ac * ct + ad * st;\n        out[3] = -ac * st + ct * ad;\n        out[4] = ct * atx + st * aty;\n        out[5] = ct * aty - st * atx;\n        return out;\n      }\n      /**\n       * 缩放变换\n       * @param {Float32Array|Array.<number>} out\n       * @param {Float32Array|Array.<number>} a\n       * @param {Float32Array|Array.<number>} v\n       */\n\n\n      function scale(out, a, v) {\n        var vx = v[0];\n        var vy = v[1];\n        out[0] = a[0] * vx;\n        out[1] = a[1] * vy;\n        out[2] = a[2] * vx;\n        out[3] = a[3] * vy;\n        out[4] = a[4] * vx;\n        out[5] = a[5] * vy;\n        return out;\n      }\n      /**\n       * 求逆矩阵\n       * @param {Float32Array|Array.<number>} out\n       * @param {Float32Array|Array.<number>} a\n       */\n\n\n      function invert(out, a) {\n        var aa = a[0];\n        var ac = a[2];\n        var atx = a[4];\n        var ab = a[1];\n        var ad = a[3];\n        var aty = a[5];\n        var det = aa * ad - ab * ac;\n\n        if (!det) {\n          return null;\n        }\n\n        det = 1.0 / det;\n        out[0] = ad * det;\n        out[1] = -ab * det;\n        out[2] = -ac * det;\n        out[3] = aa * det;\n        out[4] = (ac * aty - ad * atx) * det;\n        out[5] = (ab * atx - aa * aty) * det;\n        return out;\n      }\n\n      exports.create = create;\n      exports.identity = identity;\n      exports.copy = copy;\n      exports.mul = mul;\n      exports.translate = translate;\n      exports.rotate = rotate;\n      exports.scale = scale;\n      exports.invert = invert;\n      /***/\n    },\n    /* 9 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var zrUtil = __webpack_require__(0);\n\n      var RADIAN_EPSILON = 1e-4;\n\n      function _trim(str) {\n        return str.replace(/^\\s+/, '').replace(/\\s+$/, '');\n      }\n      /**\n       * Linear mapping a value from domain to range\n       * @memberOf module:echarts/util/number\n       * @param  {(number|Array.<number>)} val\n       * @param  {Array.<number>} domain Domain extent domain[0] can be bigger than domain[1]\n       * @param  {Array.<number>} range  Range extent range[0] can be bigger than range[1]\n       * @param  {boolean} clamp\n       * @return {(number|Array.<number>}\n       */\n\n\n      function linearMap(val, domain, range, clamp) {\n        var subDomain = domain[1] - domain[0];\n        var subRange = range[1] - range[0];\n\n        if (subDomain === 0) {\n          return subRange === 0 ? range[0] : (range[0] + range[1]) / 2;\n        } // Avoid accuracy problem in edge, such as\n        // 146.39 - 62.83 === 83.55999999999999.\n        // See echarts/test/ut/spec/util/number.js#linearMap#accuracyError\n        // It is a little verbose for efficiency considering this method\n        // is a hotspot.\n\n\n        if (clamp) {\n          if (subDomain > 0) {\n            if (val <= domain[0]) {\n              return range[0];\n            } else if (val >= domain[1]) {\n              return range[1];\n            }\n          } else {\n            if (val >= domain[0]) {\n              return range[0];\n            } else if (val <= domain[1]) {\n              return range[1];\n            }\n          }\n        } else {\n          if (val === domain[0]) {\n            return range[0];\n          }\n\n          if (val === domain[1]) {\n            return range[1];\n          }\n        }\n\n        return (val - domain[0]) / subDomain * subRange + range[0];\n      }\n      /**\n       * Convert a percent string to absolute number.\n       * Returns NaN if percent is not a valid string or number\n       * @memberOf module:echarts/util/number\n       * @param {string|number} percent\n       * @param {number} all\n       * @return {number}\n       */\n\n\n      function parsePercent(percent, all) {\n        switch (percent) {\n          case 'center':\n          case 'middle':\n            percent = '50%';\n            break;\n\n          case 'left':\n          case 'top':\n            percent = '0%';\n            break;\n\n          case 'right':\n          case 'bottom':\n            percent = '100%';\n            break;\n        }\n\n        if (typeof percent === 'string') {\n          if (_trim(percent).match(/%$/)) {\n            return parseFloat(percent) / 100 * all;\n          }\n\n          return parseFloat(percent);\n        }\n\n        return percent == null ? NaN : +percent;\n      }\n      /**\n       * (1) Fix rounding error of float numbers.\n       * (2) Support return string to avoid scientific notation like '3.5e-7'.\n       *\n       * @param {number} x\n       * @param {number} [precision]\n       * @param {boolean} [returnStr]\n       * @return {number|string}\n       */\n\n\n      function round(x, precision, returnStr) {\n        if (precision == null) {\n          precision = 10;\n        } // Avoid range error\n\n\n        precision = Math.min(Math.max(0, precision), 20);\n        x = (+x).toFixed(precision);\n        return returnStr ? x : +x;\n      }\n\n      function asc(arr) {\n        arr.sort(function (a, b) {\n          return a - b;\n        });\n        return arr;\n      }\n      /**\n       * Get precision\n       * @param {number} val\n       */\n\n\n      function getPrecision(val) {\n        val = +val;\n\n        if (isNaN(val)) {\n          return 0;\n        } // It is much faster than methods converting number to string as follows\n        //      var tmp = val.toString();\n        //      return tmp.length - 1 - tmp.indexOf('.');\n        // especially when precision is low\n\n\n        var e = 1;\n        var count = 0;\n\n        while (Math.round(val * e) / e !== val) {\n          e *= 10;\n          count++;\n        }\n\n        return count;\n      }\n      /**\n       * @param {string|number} val\n       * @return {number}\n       */\n\n\n      function getPrecisionSafe(val) {\n        var str = val.toString(); // Consider scientific notation: '3.4e-12' '3.4e+12'\n\n        var eIndex = str.indexOf('e');\n\n        if (eIndex > 0) {\n          var precision = +str.slice(eIndex + 1);\n          return precision < 0 ? -precision : 0;\n        } else {\n          var dotIndex = str.indexOf('.');\n          return dotIndex < 0 ? 0 : str.length - 1 - dotIndex;\n        }\n      }\n      /**\n       * Minimal dicernible data precisioin according to a single pixel.\n       *\n       * @param {Array.<number>} dataExtent\n       * @param {Array.<number>} pixelExtent\n       * @return {number} precision\n       */\n\n\n      function getPixelPrecision(dataExtent, pixelExtent) {\n        var log = Math.log;\n        var LN10 = Math.LN10;\n        var dataQuantity = Math.floor(log(dataExtent[1] - dataExtent[0]) / LN10);\n        var sizeQuantity = Math.round(log(Math.abs(pixelExtent[1] - pixelExtent[0])) / LN10); // toFixed() digits argument must be between 0 and 20.\n\n        var precision = Math.min(Math.max(-dataQuantity + sizeQuantity, 0), 20);\n        return !isFinite(precision) ? 20 : precision;\n      }\n      /**\n       * Get a data of given precision, assuring the sum of percentages\n       * in valueList is 1.\n       * The largest remainer method is used.\n       * https://en.wikipedia.org/wiki/Largest_remainder_method\n       *\n       * @param {Array.<number>} valueList a list of all data\n       * @param {number} idx index of the data to be processed in valueList\n       * @param {number} precision integer number showing digits of precision\n       * @return {number} percent ranging from 0 to 100\n       */\n\n\n      function getPercentWithPrecision(valueList, idx, precision) {\n        if (!valueList[idx]) {\n          return 0;\n        }\n\n        var sum = zrUtil.reduce(valueList, function (acc, val) {\n          return acc + (isNaN(val) ? 0 : val);\n        }, 0);\n\n        if (sum === 0) {\n          return 0;\n        }\n\n        var digits = Math.pow(10, precision);\n        var votesPerQuota = zrUtil.map(valueList, function (val) {\n          return (isNaN(val) ? 0 : val) / sum * digits * 100;\n        });\n        var targetSeats = digits * 100;\n        var seats = zrUtil.map(votesPerQuota, function (votes) {\n          // Assign automatic seats.\n          return Math.floor(votes);\n        });\n        var currentSum = zrUtil.reduce(seats, function (acc, val) {\n          return acc + val;\n        }, 0);\n        var remainder = zrUtil.map(votesPerQuota, function (votes, idx) {\n          return votes - seats[idx];\n        }); // Has remainding votes.\n\n        while (currentSum < targetSeats) {\n          // Find next largest remainder.\n          var max = Number.NEGATIVE_INFINITY;\n          var maxId = null;\n\n          for (var i = 0, len = remainder.length; i < len; ++i) {\n            if (remainder[i] > max) {\n              max = remainder[i];\n              maxId = i;\n            }\n          } // Add a vote to max remainder.\n\n\n          ++seats[maxId];\n          remainder[maxId] = 0;\n          ++currentSum;\n        }\n\n        return seats[idx] / digits;\n      } // Number.MAX_SAFE_INTEGER, ie do not support.\n\n\n      var MAX_SAFE_INTEGER = 9007199254740991;\n      /**\n       * To 0 - 2 * PI, considering negative radian.\n       * @param {number} radian\n       * @return {number}\n       */\n\n      function remRadian(radian) {\n        var pi2 = Math.PI * 2;\n        return (radian % pi2 + pi2) % pi2;\n      }\n      /**\n       * @param {type} radian\n       * @return {boolean}\n       */\n\n\n      function isRadianAroundZero(val) {\n        return val > -RADIAN_EPSILON && val < RADIAN_EPSILON;\n      }\n\n      var TIME_REG = /^(?:(\\d{4})(?:[-\\/](\\d{1,2})(?:[-\\/](\\d{1,2})(?:[T ](\\d{1,2})(?::(\\d\\d)(?::(\\d\\d)(?:[.,](\\d+))?)?)?(Z|[\\+\\-]\\d\\d:?\\d\\d)?)?)?)?)?$/; // jshint ignore:line\n\n      /**\n       * @param {string|Date|number} value These values can be accepted:\n       *   + An instance of Date, represent a time in its own time zone.\n       *   + Or string in a subset of ISO 8601, only including:\n       *     + only year, month, date: '2012-03', '2012-03-01', '2012-03-01 05', '2012-03-01 05:06',\n       *     + separated with T or space: '2012-03-01T12:22:33.123', '2012-03-01 12:22:33.123',\n       *     + time zone: '2012-03-01T12:22:33Z', '2012-03-01T12:22:33+8000', '2012-03-01T12:22:33-05:00',\n       *     all of which will be treated as local time if time zone is not specified\n       *     (see <https://momentjs.com/>).\n       *   + Or other string format, including (all of which will be treated as loacal time):\n       *     '2012', '2012-3-1', '2012/3/1', '2012/03/01',\n       *     '2009/6/12 2:00', '2009/6/12 2:05:08', '2009/6/12 2:05:08.123'\n       *   + a timestamp, which represent a time in UTC.\n       * @return {Date} date\n       */\n\n      function parseDate(value) {\n        if (value instanceof Date) {\n          return value;\n        } else if (typeof value === 'string') {\n          // Different browsers parse date in different way, so we parse it manually.\n          // Some other issues:\n          // new Date('1970-01-01') is UTC,\n          // new Date('1970/01/01') and new Date('1970-1-01') is local.\n          // See issue #3623\n          var match = TIME_REG.exec(value);\n\n          if (!match) {\n            // return Invalid Date.\n            return new Date(NaN);\n          } // Use local time when no timezone offset specifed.\n\n\n          if (!match[8]) {\n            // match[n] can only be string or undefined.\n            // But take care of '12' + 1 => '121'.\n            return new Date(+match[1], +(match[2] || 1) - 1, +match[3] || 1, +match[4] || 0, +(match[5] || 0), +match[6] || 0, +match[7] || 0);\n          } // Timezoneoffset of Javascript Date has considered DST (Daylight Saving Time,\n          // https://tc39.github.io/ecma262/#sec-daylight-saving-time-adjustment).\n          // For example, system timezone is set as \"Time Zone: America/Toronto\",\n          // then these code will get different result:\n          // `new Date(1478411999999).getTimezoneOffset();  // get 240`\n          // `new Date(1478412000000).getTimezoneOffset();  // get 300`\n          // So we should not use `new Date`, but use `Date.UTC`.\n          else {\n              var hour = +match[4] || 0;\n\n              if (match[8].toUpperCase() !== 'Z') {\n                hour -= match[8].slice(0, 3);\n              }\n\n              return new Date(Date.UTC(+match[1], +(match[2] || 1) - 1, +match[3] || 1, hour, +(match[5] || 0), +match[6] || 0, +match[7] || 0));\n            }\n        } else if (value == null) {\n          return new Date(NaN);\n        }\n\n        return new Date(Math.round(value));\n      }\n      /**\n       * Quantity of a number. e.g. 0.1, 1, 10, 100\n       *\n       * @param  {number} val\n       * @return {number}\n       */\n\n\n      function quantity(val) {\n        return Math.pow(10, quantityExponent(val));\n      }\n\n      function quantityExponent(val) {\n        return Math.floor(Math.log(val) / Math.LN10);\n      }\n      /**\n       * find a “nice” number approximately equal to x. Round the number if round = true,\n       * take ceiling if round = false. The primary observation is that the “nicest”\n       * numbers in decimal are 1, 2, and 5, and all power-of-ten multiples of these numbers.\n       *\n       * See \"Nice Numbers for Graph Labels\" of Graphic Gems.\n       *\n       * @param  {number} val Non-negative value.\n       * @param  {boolean} round\n       * @return {number}\n       */\n\n\n      function nice(val, round) {\n        var exponent = quantityExponent(val);\n        var exp10 = Math.pow(10, exponent);\n        var f = val / exp10; // 1 <= f < 10\n\n        var nf;\n\n        if (round) {\n          if (f < 1.5) {\n            nf = 1;\n          } else if (f < 2.5) {\n            nf = 2;\n          } else if (f < 4) {\n            nf = 3;\n          } else if (f < 7) {\n            nf = 5;\n          } else {\n            nf = 10;\n          }\n        } else {\n          if (f < 1) {\n            nf = 1;\n          } else if (f < 2) {\n            nf = 2;\n          } else if (f < 3) {\n            nf = 3;\n          } else if (f < 5) {\n            nf = 5;\n          } else {\n            nf = 10;\n          }\n        }\n\n        val = nf * exp10; // Fix 3 * 0.1 === 0.30000000000000004 issue (see IEEE 754).\n        // 20 is the uppper bound of toFixed.\n\n        return exponent >= -20 ? +val.toFixed(exponent < 0 ? -exponent : 0) : val;\n      }\n      /**\n       * Order intervals asc, and split them when overlap.\n       * expect(numberUtil.reformIntervals([\n       *     {interval: [18, 62], close: [1, 1]},\n       *     {interval: [-Infinity, -70], close: [0, 0]},\n       *     {interval: [-70, -26], close: [1, 1]},\n       *     {interval: [-26, 18], close: [1, 1]},\n       *     {interval: [62, 150], close: [1, 1]},\n       *     {interval: [106, 150], close: [1, 1]},\n       *     {interval: [150, Infinity], close: [0, 0]}\n       * ])).toEqual([\n       *     {interval: [-Infinity, -70], close: [0, 0]},\n       *     {interval: [-70, -26], close: [1, 1]},\n       *     {interval: [-26, 18], close: [0, 1]},\n       *     {interval: [18, 62], close: [0, 1]},\n       *     {interval: [62, 150], close: [0, 1]},\n       *     {interval: [150, Infinity], close: [0, 0]}\n       * ]);\n       * @param {Array.<Object>} list, where `close` mean open or close\n       *        of the interval, and Infinity can be used.\n       * @return {Array.<Object>} The origin list, which has been reformed.\n       */\n\n\n      function reformIntervals(list) {\n        list.sort(function (a, b) {\n          return littleThan(a, b, 0) ? -1 : 1;\n        });\n        var curr = -Infinity;\n        var currClose = 1;\n\n        for (var i = 0; i < list.length;) {\n          var interval = list[i].interval;\n          var close = list[i].close;\n\n          for (var lg = 0; lg < 2; lg++) {\n            if (interval[lg] <= curr) {\n              interval[lg] = curr;\n              close[lg] = !lg ? 1 - currClose : 1;\n            }\n\n            curr = interval[lg];\n            currClose = close[lg];\n          }\n\n          if (interval[0] === interval[1] && close[0] * close[1] !== 1) {\n            list.splice(i, 1);\n          } else {\n            i++;\n          }\n        }\n\n        return list;\n\n        function littleThan(a, b, lg) {\n          return a.interval[lg] < b.interval[lg] || a.interval[lg] === b.interval[lg] && (a.close[lg] - b.close[lg] === (!lg ? 1 : -1) || !lg && littleThan(a, b, 1));\n        }\n      }\n      /**\n       * parseFloat NaNs numeric-cast false positives (null|true|false|\"\")\n       * ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n       * subtraction forces infinities to NaN\n       *\n       * @param {*} v\n       * @return {boolean}\n       */\n\n\n      function isNumeric(v) {\n        return v - parseFloat(v) >= 0;\n      }\n\n      exports.linearMap = linearMap;\n      exports.parsePercent = parsePercent;\n      exports.round = round;\n      exports.asc = asc;\n      exports.getPrecision = getPrecision;\n      exports.getPrecisionSafe = getPrecisionSafe;\n      exports.getPixelPrecision = getPixelPrecision;\n      exports.getPercentWithPrecision = getPercentWithPrecision;\n      exports.MAX_SAFE_INTEGER = MAX_SAFE_INTEGER;\n      exports.remRadian = remRadian;\n      exports.isRadianAroundZero = isRadianAroundZero;\n      exports.parseDate = parseDate;\n      exports.quantity = quantity;\n      exports.nice = nice;\n      exports.reformIntervals = reformIntervals;\n      exports.isNumeric = isNumeric;\n      /***/\n    },\n    /* 10 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var LRU = __webpack_require__(14);\n\n      var globalImageCache = new LRU(50);\n      /**\n       * @param {string|HTMLImageElement|HTMLCanvasElement|Canvas} newImageOrSrc\n       * @return {HTMLImageElement|HTMLCanvasElement|Canvas} image\n       */\n\n      function findExistImage(newImageOrSrc) {\n        if (typeof newImageOrSrc === 'string') {\n          var cachedImgObj = globalImageCache.get(newImageOrSrc);\n          return cachedImgObj && cachedImgObj.image;\n        } else {\n          return newImageOrSrc;\n        }\n      }\n      /**\n       * Caution: User should cache loaded images, but not just count on LRU.\n       * Consider if required images more than LRU size, will dead loop occur?\n       *\n       * @param {string|HTMLImageElement|HTMLCanvasElement|Canvas} newImageOrSrc\n       * @param {HTMLImageElement|HTMLCanvasElement|Canvas} image Existent image.\n       * @param {module:zrender/Element} [hostEl] For calling `dirty`.\n       * @param {Function} [cb] params: (image, cbPayload)\n       * @param {Object} [cbPayload] Payload on cb calling.\n       * @return {HTMLImageElement|HTMLCanvasElement|Canvas} image\n       */\n\n\n      function createOrUpdateImage(newImageOrSrc, image, hostEl, cb, cbPayload) {\n        if (!newImageOrSrc) {\n          return image;\n        } else if (typeof newImageOrSrc === 'string') {\n          // Image should not be loaded repeatly.\n          if (image && image.__zrImageSrc === newImageOrSrc || !hostEl) {\n            return image;\n          } // Only when there is no existent image or existent image src\n          // is different, this method is responsible for load.\n\n\n          var cachedImgObj = globalImageCache.get(newImageOrSrc);\n          var pendingWrap = {\n            hostEl: hostEl,\n            cb: cb,\n            cbPayload: cbPayload\n          };\n\n          if (cachedImgObj) {\n            image = cachedImgObj.image;\n            !isImageReady(image) && cachedImgObj.pending.push(pendingWrap);\n          } else {\n            !image && (image = new Image());\n            image.onload = imageOnLoad;\n            globalImageCache.put(newImageOrSrc, image.__cachedImgObj = {\n              image: image,\n              pending: [pendingWrap]\n            });\n            image.src = image.__zrImageSrc = newImageOrSrc;\n          }\n\n          return image;\n        } // newImageOrSrc is an HTMLImageElement or HTMLCanvasElement or Canvas\n        else {\n            return newImageOrSrc;\n          }\n      }\n\n      function imageOnLoad() {\n        var cachedImgObj = this.__cachedImgObj;\n        this.onload = this.__cachedImgObj = null;\n\n        for (var i = 0; i < cachedImgObj.pending.length; i++) {\n          var pendingWrap = cachedImgObj.pending[i];\n          var cb = pendingWrap.cb;\n          cb && cb(this, pendingWrap.cbPayload);\n          pendingWrap.hostEl.dirty();\n        }\n\n        cachedImgObj.pending.length = 0;\n      }\n\n      function isImageReady(image) {\n        return image && image.width && image.height;\n      }\n\n      exports.findExistImage = findExistImage;\n      exports.createOrUpdateImage = createOrUpdateImage;\n      exports.isImageReady = isImageReady;\n      /***/\n    },\n    /* 11 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var zrUtil = __webpack_require__(0); // TODO Parse shadow style\n      // TODO Only shallow path support\n\n\n      function _default(properties) {\n        // Normalize\n        for (var i = 0; i < properties.length; i++) {\n          if (!properties[i][1]) {\n            properties[i][1] = properties[i][0];\n          }\n        }\n\n        return function (model, excludes, includes) {\n          var style = {};\n\n          for (var i = 0; i < properties.length; i++) {\n            var propName = properties[i][1];\n\n            if (excludes && zrUtil.indexOf(excludes, propName) >= 0 || includes && zrUtil.indexOf(includes, propName) < 0) {\n              continue;\n            }\n\n            var val = model.getShallow(propName);\n\n            if (val != null) {\n              style[properties[i][0]] = val;\n            }\n          }\n\n          return style;\n        };\n      }\n\n      module.exports = _default;\n      /***/\n    },\n    /* 12 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var zrUtil = __webpack_require__(0);\n\n      var Style = __webpack_require__(40);\n\n      var Element = __webpack_require__(16);\n\n      var RectText = __webpack_require__(48);\n      /**\n       * 可绘制的图形基类\n       * Base class of all displayable graphic objects\n       * @module zrender/graphic/Displayable\n       */\n\n      /**\n       * @alias module:zrender/graphic/Displayable\n       * @extends module:zrender/Element\n       * @extends module:zrender/graphic/mixin/RectText\n       */\n\n\n      function Displayable(opts) {\n        opts = opts || {};\n        Element.call(this, opts); // Extend properties\n\n        for (var name in opts) {\n          if (opts.hasOwnProperty(name) && name !== 'style') {\n            this[name] = opts[name];\n          }\n        }\n        /**\n         * @type {module:zrender/graphic/Style}\n         */\n\n\n        this.style = new Style(opts.style, this);\n        this._rect = null; // Shapes for cascade clipping.\n\n        this.__clipPaths = []; // FIXME Stateful must be mixined after style is setted\n        // Stateful.call(this, opts);\n      }\n\n      Displayable.prototype = {\n        constructor: Displayable,\n        type: 'displayable',\n\n        /**\n         * Displayable 是否为脏，Painter 中会根据该标记判断是否需要是否需要重新绘制\n         * Dirty flag. From which painter will determine if this displayable object needs brush\n         * @name module:zrender/graphic/Displayable#__dirty\n         * @type {boolean}\n         */\n        __dirty: true,\n\n        /**\n         * 图形是否可见，为true时不绘制图形，但是仍能触发鼠标事件\n         * If ignore drawing of the displayable object. Mouse event will still be triggered\n         * @name module:/zrender/graphic/Displayable#invisible\n         * @type {boolean}\n         * @default false\n         */\n        invisible: false,\n\n        /**\n         * @name module:/zrender/graphic/Displayable#z\n         * @type {number}\n         * @default 0\n         */\n        z: 0,\n\n        /**\n         * @name module:/zrender/graphic/Displayable#z\n         * @type {number}\n         * @default 0\n         */\n        z2: 0,\n\n        /**\n         * z层level，决定绘画在哪层canvas中\n         * @name module:/zrender/graphic/Displayable#zlevel\n         * @type {number}\n         * @default 0\n         */\n        zlevel: 0,\n\n        /**\n         * 是否可拖拽\n         * @name module:/zrender/graphic/Displayable#draggable\n         * @type {boolean}\n         * @default false\n         */\n        draggable: false,\n\n        /**\n         * 是否正在拖拽\n         * @name module:/zrender/graphic/Displayable#draggable\n         * @type {boolean}\n         * @default false\n         */\n        dragging: false,\n\n        /**\n         * 是否相应鼠标事件\n         * @name module:/zrender/graphic/Displayable#silent\n         * @type {boolean}\n         * @default false\n         */\n        silent: false,\n\n        /**\n         * If enable culling\n         * @type {boolean}\n         * @default false\n         */\n        culling: false,\n\n        /**\n         * Mouse cursor when hovered\n         * @name module:/zrender/graphic/Displayable#cursor\n         * @type {string}\n         */\n        cursor: 'pointer',\n\n        /**\n         * If hover area is bounding rect\n         * @name module:/zrender/graphic/Displayable#rectHover\n         * @type {string}\n         */\n        rectHover: false,\n\n        /**\n         * Render the element progressively when the value >= 0,\n         * usefull for large data.\n         * @type {number}\n         */\n        progressive: -1,\n        beforeBrush: function beforeBrush(ctx) {},\n        afterBrush: function afterBrush(ctx) {},\n\n        /**\n         * 图形绘制方法\n         * @param {CanvasRenderingContext2D} ctx\n         */\n        // Interface\n        brush: function brush(ctx, prevEl) {},\n\n        /**\n         * 获取最小包围盒\n         * @return {module:zrender/core/BoundingRect}\n         */\n        // Interface\n        getBoundingRect: function getBoundingRect() {},\n\n        /**\n         * 判断坐标 x, y 是否在图形上\n         * If displayable element contain coord x, y\n         * @param  {number} x\n         * @param  {number} y\n         * @return {boolean}\n         */\n        contain: function contain(x, y) {\n          return this.rectContain(x, y);\n        },\n\n        /**\n         * @param  {Function} cb\n         * @param  {}   context\n         */\n        traverse: function traverse(cb, context) {\n          cb.call(context, this);\n        },\n\n        /**\n         * 判断坐标 x, y 是否在图形的包围盒上\n         * If bounding rect of element contain coord x, y\n         * @param  {number} x\n         * @param  {number} y\n         * @return {boolean}\n         */\n        rectContain: function rectContain(x, y) {\n          var coord = this.transformCoordToLocal(x, y);\n          var rect = this.getBoundingRect();\n          return rect.contain(coord[0], coord[1]);\n        },\n\n        /**\n         * 标记图形元素为脏，并且在下一帧重绘\n         * Mark displayable element dirty and refresh next frame\n         */\n        dirty: function dirty() {\n          this.__dirty = true;\n          this._rect = null;\n          this.__zr && this.__zr.refresh();\n        },\n\n        /**\n         * 图形是否会触发事件\n         * If displayable object binded any event\n         * @return {boolean}\n         */\n        // TODO, 通过 bind 绑定的事件\n        // isSilent: function () {\n        //     return !(\n        //         this.hoverable || this.draggable\n        //         || this.onmousemove || this.onmouseover || this.onmouseout\n        //         || this.onmousedown || this.onmouseup || this.onclick\n        //         || this.ondragenter || this.ondragover || this.ondragleave\n        //         || this.ondrop\n        //     );\n        // },\n\n        /**\n         * Alias for animate('style')\n         * @param {boolean} loop\n         */\n        animateStyle: function animateStyle(loop) {\n          return this.animate('style', loop);\n        },\n        attrKV: function attrKV(key, value) {\n          if (key !== 'style') {\n            Element.prototype.attrKV.call(this, key, value);\n          } else {\n            this.style.set(value);\n          }\n        },\n\n        /**\n         * @param {Object|string} key\n         * @param {*} value\n         */\n        setStyle: function setStyle(key, value) {\n          this.style.set(key, value);\n          this.dirty(false);\n          return this;\n        },\n\n        /**\n         * Use given style object\n         * @param  {Object} obj\n         */\n        useStyle: function useStyle(obj) {\n          this.style = new Style(obj, this);\n          this.dirty(false);\n          return this;\n        }\n      };\n      zrUtil.inherits(Displayable, Element);\n      zrUtil.mixin(Displayable, RectText); // zrUtil.mixin(Displayable, Stateful);\n\n      var _default = Displayable;\n      module.exports = _default;\n      /***/\n    },\n    /* 13 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var zrUtil = __webpack_require__(0);\n\n      var textContain = __webpack_require__(5);\n\n      var numberUtil = __webpack_require__(9);\n      /**\n       * 每三位默认加,格式化\n       * @param {string|number} x\n       * @return {string}\n       */\n\n\n      function addCommas(x) {\n        if (isNaN(x)) {\n          return '-';\n        }\n\n        x = (x + '').split('.');\n        return x[0].replace(/(\\d{1,3})(?=(?:\\d{3})+(?!\\d))/g, '$1,') + (x.length > 1 ? '.' + x[1] : '');\n      }\n      /**\n       * @param {string} str\n       * @param {boolean} [upperCaseFirst=false]\n       * @return {string} str\n       */\n\n\n      function toCamelCase(str, upperCaseFirst) {\n        str = (str || '').toLowerCase().replace(/-(.)/g, function (match, group1) {\n          return group1.toUpperCase();\n        });\n\n        if (upperCaseFirst && str) {\n          str = str.charAt(0).toUpperCase() + str.slice(1);\n        }\n\n        return str;\n      }\n\n      var normalizeCssArray = zrUtil.normalizeCssArray;\n\n      function encodeHTML(source) {\n        return String(source).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;').replace(/'/g, '&#39;');\n      }\n\n      var TPL_VAR_ALIAS = ['a', 'b', 'c', 'd', 'e', 'f', 'g'];\n\n      var wrapVar = function wrapVar(varName, seriesIdx) {\n        return '{' + varName + (seriesIdx == null ? '' : seriesIdx) + '}';\n      };\n      /**\n       * Template formatter\n       * @param {string} tpl\n       * @param {Array.<Object>|Object} paramsList\n       * @param {boolean} [encode=false]\n       * @return {string}\n       */\n\n\n      function formatTpl(tpl, paramsList, encode) {\n        if (!zrUtil.isArray(paramsList)) {\n          paramsList = [paramsList];\n        }\n\n        var seriesLen = paramsList.length;\n\n        if (!seriesLen) {\n          return '';\n        }\n\n        var $vars = paramsList[0].$vars || [];\n\n        for (var i = 0; i < $vars.length; i++) {\n          var alias = TPL_VAR_ALIAS[i];\n          var val = wrapVar(alias, 0);\n          tpl = tpl.replace(wrapVar(alias), encode ? encodeHTML(val) : val);\n        }\n\n        for (var seriesIdx = 0; seriesIdx < seriesLen; seriesIdx++) {\n          for (var k = 0; k < $vars.length; k++) {\n            var val = paramsList[seriesIdx][$vars[k]];\n            tpl = tpl.replace(wrapVar(TPL_VAR_ALIAS[k], seriesIdx), encode ? encodeHTML(val) : val);\n          }\n        }\n\n        return tpl;\n      }\n      /**\n       * simple Template formatter\n       *\n       * @param {string} tpl\n       * @param {Object} param\n       * @param {boolean} [encode=false]\n       * @return {string}\n       */\n\n\n      function formatTplSimple(tpl, param, encode) {\n        zrUtil.each(param, function (value, key) {\n          tpl = tpl.replace('{' + key + '}', encode ? encodeHTML(value) : value);\n        });\n        return tpl;\n      }\n      /**\n       * @param {string} color\n       * @param {string} [extraCssText]\n       * @return {string}\n       */\n\n\n      function getTooltipMarker(color, extraCssText) {\n        return color ? '<span style=\"display:inline-block;margin-right:5px;' + 'border-radius:10px;width:9px;height:9px;background-color:' + encodeHTML(color) + ';' + (extraCssText || '') + '\"></span>' : '';\n      }\n      /**\n       * @param {string} str\n       * @return {string}\n       * @inner\n       */\n\n\n      var s2d = function s2d(str) {\n        return str < 10 ? '0' + str : str;\n      };\n      /**\n       * ISO Date format\n       * @param {string} tpl\n       * @param {number} value\n       * @param {boolean} [isUTC=false] Default in local time.\n       *           see `module:echarts/scale/Time`\n       *           and `module:echarts/util/number#parseDate`.\n       * @inner\n       */\n\n\n      function formatTime(tpl, value, isUTC) {\n        if (tpl === 'week' || tpl === 'month' || tpl === 'quarter' || tpl === 'half-year' || tpl === 'year') {\n          tpl = 'MM-dd\\nyyyy';\n        }\n\n        var date = numberUtil.parseDate(value);\n        var utc = isUTC ? 'UTC' : '';\n        var y = date['get' + utc + 'FullYear']();\n        var M = date['get' + utc + 'Month']() + 1;\n        var d = date['get' + utc + 'Date']();\n        var h = date['get' + utc + 'Hours']();\n        var m = date['get' + utc + 'Minutes']();\n        var s = date['get' + utc + 'Seconds']();\n        tpl = tpl.replace('MM', s2d(M)).replace('M', M).replace('yyyy', y).replace('yy', y % 100).replace('dd', s2d(d)).replace('d', d).replace('hh', s2d(h)).replace('h', h).replace('mm', s2d(m)).replace('m', m).replace('ss', s2d(s)).replace('s', s);\n        return tpl;\n      }\n      /**\n       * Capital first\n       * @param {string} str\n       * @return {string}\n       */\n\n\n      function capitalFirst(str) {\n        return str ? str.charAt(0).toUpperCase() + str.substr(1) : str;\n      }\n\n      var truncateText = textContain.truncateText;\n      var getTextRect = textContain.getBoundingRect;\n      exports.addCommas = addCommas;\n      exports.toCamelCase = toCamelCase;\n      exports.normalizeCssArray = normalizeCssArray;\n      exports.encodeHTML = encodeHTML;\n      exports.formatTpl = formatTpl;\n      exports.formatTplSimple = formatTplSimple;\n      exports.getTooltipMarker = getTooltipMarker;\n      exports.formatTime = formatTime;\n      exports.capitalFirst = capitalFirst;\n      exports.truncateText = truncateText;\n      exports.getTextRect = getTextRect;\n      /***/\n    },\n    /* 14 */\n\n    /***/\n    function (module, exports) {\n      // Simple LRU cache use doubly linked list\n      // @module zrender/core/LRU\n\n      /**\n       * Simple double linked list. Compared with array, it has O(1) remove operation.\n       * @constructor\n       */\n      var LinkedList = function LinkedList() {\n        /**\n         * @type {module:zrender/core/LRU~Entry}\n         */\n        this.head = null;\n        /**\n         * @type {module:zrender/core/LRU~Entry}\n         */\n\n        this.tail = null;\n        this._len = 0;\n      };\n\n      var linkedListProto = LinkedList.prototype;\n      /**\n       * Insert a new value at the tail\n       * @param  {} val\n       * @return {module:zrender/core/LRU~Entry}\n       */\n\n      linkedListProto.insert = function (val) {\n        var entry = new Entry(val);\n        this.insertEntry(entry);\n        return entry;\n      };\n      /**\n       * Insert an entry at the tail\n       * @param  {module:zrender/core/LRU~Entry} entry\n       */\n\n\n      linkedListProto.insertEntry = function (entry) {\n        if (!this.head) {\n          this.head = this.tail = entry;\n        } else {\n          this.tail.next = entry;\n          entry.prev = this.tail;\n          entry.next = null;\n          this.tail = entry;\n        }\n\n        this._len++;\n      };\n      /**\n       * Remove entry.\n       * @param  {module:zrender/core/LRU~Entry} entry\n       */\n\n\n      linkedListProto.remove = function (entry) {\n        var prev = entry.prev;\n        var next = entry.next;\n\n        if (prev) {\n          prev.next = next;\n        } else {\n          // Is head\n          this.head = next;\n        }\n\n        if (next) {\n          next.prev = prev;\n        } else {\n          // Is tail\n          this.tail = prev;\n        }\n\n        entry.next = entry.prev = null;\n        this._len--;\n      };\n      /**\n       * @return {number}\n       */\n\n\n      linkedListProto.len = function () {\n        return this._len;\n      };\n      /**\n       * Clear list\n       */\n\n\n      linkedListProto.clear = function () {\n        this.head = this.tail = null;\n        this._len = 0;\n      };\n      /**\n       * @constructor\n       * @param {} val\n       */\n\n\n      var Entry = function Entry(val) {\n        /**\n         * @type {}\n         */\n        this.value = val;\n        /**\n         * @type {module:zrender/core/LRU~Entry}\n         */\n\n        this.next;\n        /**\n         * @type {module:zrender/core/LRU~Entry}\n         */\n\n        this.prev;\n      };\n      /**\n       * LRU Cache\n       * @constructor\n       * @alias module:zrender/core/LRU\n       */\n\n\n      var LRU = function LRU(maxSize) {\n        this._list = new LinkedList();\n        this._map = {};\n        this._maxSize = maxSize || 10;\n        this._lastRemovedEntry = null;\n      };\n\n      var LRUProto = LRU.prototype;\n      /**\n       * @param  {string} key\n       * @param  {} value\n       * @return {} Removed value\n       */\n\n      LRUProto.put = function (key, value) {\n        var list = this._list;\n        var map = this._map;\n        var removed = null;\n\n        if (map[key] == null) {\n          var len = list.len(); // Reuse last removed entry\n\n          var entry = this._lastRemovedEntry;\n\n          if (len >= this._maxSize && len > 0) {\n            // Remove the least recently used\n            var leastUsedEntry = list.head;\n            list.remove(leastUsedEntry);\n            delete map[leastUsedEntry.key];\n            removed = leastUsedEntry.value;\n            this._lastRemovedEntry = leastUsedEntry;\n          }\n\n          if (entry) {\n            entry.value = value;\n          } else {\n            entry = new Entry(value);\n          }\n\n          entry.key = key;\n          list.insertEntry(entry);\n          map[key] = entry;\n        }\n\n        return removed;\n      };\n      /**\n       * @param  {string} key\n       * @return {}\n       */\n\n\n      LRUProto.get = function (key) {\n        var entry = this._map[key];\n        var list = this._list;\n\n        if (entry != null) {\n          // Put the latest used entry in the tail\n          if (entry !== list.tail) {\n            list.remove(entry);\n            list.insertEntry(entry);\n          }\n\n          return entry.value;\n        }\n      };\n      /**\n       * Clear the cache\n       */\n\n\n      LRUProto.clear = function () {\n        this._list.clear();\n\n        this._map = {};\n      };\n\n      var _default = LRU;\n      module.exports = _default;\n      /***/\n    },\n    /* 15 */\n\n    /***/\n    function (module, exports) {\n      /**\n       * echarts设备环境识别\n       *\n       * @desc echarts基于Canvas，纯Javascript图表库，提供直观，生动，可交互，可个性化定制的数据统计图表。\n       * @author firede[firede@firede.us]\n       * @desc thanks zepto.\n       */\n      var env = {};\n\n      if (typeof navigator === 'undefined') {\n        // In node\n        env = {\n          browser: {},\n          os: {},\n          node: true,\n          // Assume canvas is supported\n          canvasSupported: true,\n          svgSupported: true\n        };\n      } else {\n        env = detect(navigator.userAgent);\n      }\n\n      var _default = env; // Zepto.js\n      // (c) 2010-2013 Thomas Fuchs\n      // Zepto.js may be freely distributed under the MIT license.\n\n      function detect(ua) {\n        var os = {};\n        var browser = {}; // var webkit = ua.match(/Web[kK]it[\\/]{0,1}([\\d.]+)/);\n        // var android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/);\n        // var ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n        // var ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n        // var iphone = !ipad && ua.match(/(iPhone\\sOS)\\s([\\d_]+)/);\n        // var webos = ua.match(/(webOS|hpwOS)[\\s\\/]([\\d.]+)/);\n        // var touchpad = webos && ua.match(/TouchPad/);\n        // var kindle = ua.match(/Kindle\\/([\\d.]+)/);\n        // var silk = ua.match(/Silk\\/([\\d._]+)/);\n        // var blackberry = ua.match(/(BlackBerry).*Version\\/([\\d.]+)/);\n        // var bb10 = ua.match(/(BB10).*Version\\/([\\d.]+)/);\n        // var rimtabletos = ua.match(/(RIM\\sTablet\\sOS)\\s([\\d.]+)/);\n        // var playbook = ua.match(/PlayBook/);\n        // var chrome = ua.match(/Chrome\\/([\\d.]+)/) || ua.match(/CriOS\\/([\\d.]+)/);\n\n        var firefox = ua.match(/Firefox\\/([\\d.]+)/); // var safari = webkit && ua.match(/Mobile\\//) && !chrome;\n        // var webview = ua.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/) && !chrome;\n\n        var ie = ua.match(/MSIE\\s([\\d.]+)/) // IE 11 Trident/7.0; rv:11.0\n        || ua.match(/Trident\\/.+?rv:(([\\d.]+))/);\n        var edge = ua.match(/Edge\\/([\\d.]+)/); // IE 12 and 12+\n\n        var weChat = /micromessenger/i.test(ua); // Todo: clean this up with a better OS/browser seperation:\n        // - discern (more) between multiple browsers on android\n        // - decide if kindle fire in silk mode is android or not\n        // - Firefox on Android doesn't specify the Android version\n        // - possibly devide in os, device and browser hashes\n        // if (browser.webkit = !!webkit) browser.version = webkit[1];\n        // if (android) os.android = true, os.version = android[2];\n        // if (iphone && !ipod) os.ios = os.iphone = true, os.version = iphone[2].replace(/_/g, '.');\n        // if (ipad) os.ios = os.ipad = true, os.version = ipad[2].replace(/_/g, '.');\n        // if (ipod) os.ios = os.ipod = true, os.version = ipod[3] ? ipod[3].replace(/_/g, '.') : null;\n        // if (webos) os.webos = true, os.version = webos[2];\n        // if (touchpad) os.touchpad = true;\n        // if (blackberry) os.blackberry = true, os.version = blackberry[2];\n        // if (bb10) os.bb10 = true, os.version = bb10[2];\n        // if (rimtabletos) os.rimtabletos = true, os.version = rimtabletos[2];\n        // if (playbook) browser.playbook = true;\n        // if (kindle) os.kindle = true, os.version = kindle[1];\n        // if (silk) browser.silk = true, browser.version = silk[1];\n        // if (!silk && os.android && ua.match(/Kindle Fire/)) browser.silk = true;\n        // if (chrome) browser.chrome = true, browser.version = chrome[1];\n\n        if (firefox) {\n          browser.firefox = true;\n          browser.version = firefox[1];\n        } // if (safari && (ua.match(/Safari/) || !!os.ios)) browser.safari = true;\n        // if (webview) browser.webview = true;\n\n\n        if (ie) {\n          browser.ie = true;\n          browser.version = ie[1];\n        }\n\n        if (edge) {\n          browser.edge = true;\n          browser.version = edge[1];\n        } // It is difficult to detect WeChat in Win Phone precisely, because ua can\n        // not be set on win phone. So we do not consider Win Phone.\n\n\n        if (weChat) {\n          browser.weChat = true;\n        } // os.tablet = !!(ipad || playbook || (android && !ua.match(/Mobile/)) ||\n        //     (firefox && ua.match(/Tablet/)) || (ie && !ua.match(/Phone/) && ua.match(/Touch/)));\n        // os.phone  = !!(!os.tablet && !os.ipod && (android || iphone || webos ||\n        //     (chrome && ua.match(/Android/)) || (chrome && ua.match(/CriOS\\/([\\d.]+)/)) ||\n        //     (firefox && ua.match(/Mobile/)) || (ie && ua.match(/Touch/))));\n\n\n        return {\n          browser: browser,\n          os: os,\n          node: false,\n          // 原生canvas支持，改极端点了\n          // canvasSupported : !(browser.ie && parseFloat(browser.version) < 9)\n          canvasSupported: !!document.createElement('canvas').getContext,\n          svgSupported: typeof SVGRect !== 'undefined',\n          // @see <http://stackoverflow.com/questions/4817029/whats-the-best-way-to-detect-a-touch-screen-device-using-javascript>\n          // works on most browsers\n          // IE10/11 does not support touch event, and MS Edge supports them but not by\n          // default, so we dont check navigator.maxTouchPoints for them here.\n          touchEventsSupported: 'ontouchstart' in window && !browser.ie && !browser.edge,\n          // <http://caniuse.com/#search=pointer%20event>.\n          pointerEventsSupported: 'onpointerdown' in window // Firefox supports pointer but not by default, only MS browsers are reliable on pointer\n          // events currently. So we dont use that on other browsers unless tested sufficiently.\n          // Although IE 10 supports pointer event, it use old style and is different from the\n          // standard. So we exclude that. (IE 10 is hardly used on touch device)\n          && (browser.edge || browser.ie && browser.version >= 11)\n        };\n      }\n\n      module.exports = _default;\n      /***/\n    },\n    /* 16 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var guid = __webpack_require__(41);\n\n      var Eventful = __webpack_require__(42);\n\n      var Transformable = __webpack_require__(17);\n\n      var Animatable = __webpack_require__(43);\n\n      var zrUtil = __webpack_require__(0);\n      /**\n       * @alias module:zrender/Element\n       * @constructor\n       * @extends {module:zrender/mixin/Animatable}\n       * @extends {module:zrender/mixin/Transformable}\n       * @extends {module:zrender/mixin/Eventful}\n       */\n\n\n      var Element = function Element(opts) {\n        // jshint ignore:line\n        Transformable.call(this, opts);\n        Eventful.call(this, opts);\n        Animatable.call(this, opts);\n        /**\n         * 画布元素ID\n         * @type {string}\n         */\n\n        this.id = opts.id || guid();\n      };\n\n      Element.prototype = {\n        /**\n         * 元素类型\n         * Element type\n         * @type {string}\n         */\n        type: 'element',\n\n        /**\n         * 元素名字\n         * Element name\n         * @type {string}\n         */\n        name: '',\n\n        /**\n         * ZRender 实例对象，会在 element 添加到 zrender 实例中后自动赋值\n         * ZRender instance will be assigned when element is associated with zrender\n         * @name module:/zrender/Element#__zr\n         * @type {module:zrender/ZRender}\n         */\n        __zr: null,\n\n        /**\n         * 图形是否忽略，为true时忽略图形的绘制以及事件触发\n         * If ignore drawing and events of the element object\n         * @name module:/zrender/Element#ignore\n         * @type {boolean}\n         * @default false\n         */\n        ignore: false,\n\n        /**\n         * 用于裁剪的路径(shape)，所有 Group 内的路径在绘制时都会被这个路径裁剪\n         * 该路径会继承被裁减对象的变换\n         * @type {module:zrender/graphic/Path}\n         * @see http://www.w3.org/TR/2dcontext/#clipping-region\n         * @readOnly\n         */\n        clipPath: null,\n\n        /**\n         * Drift element\n         * @param  {number} dx dx on the global space\n         * @param  {number} dy dy on the global space\n         */\n        drift: function drift(dx, dy) {\n          switch (this.draggable) {\n            case 'horizontal':\n              dy = 0;\n              break;\n\n            case 'vertical':\n              dx = 0;\n              break;\n          }\n\n          var m = this.transform;\n\n          if (!m) {\n            m = this.transform = [1, 0, 0, 1, 0, 0];\n          }\n\n          m[4] += dx;\n          m[5] += dy;\n          this.decomposeTransform();\n          this.dirty(false);\n        },\n\n        /**\n         * Hook before update\n         */\n        beforeUpdate: function beforeUpdate() {},\n\n        /**\n         * Hook after update\n         */\n        afterUpdate: function afterUpdate() {},\n\n        /**\n         * Update each frame\n         */\n        update: function update() {\n          this.updateTransform();\n        },\n\n        /**\n         * @param  {Function} cb\n         * @param  {}   context\n         */\n        traverse: function traverse(cb, context) {},\n\n        /**\n         * @protected\n         */\n        attrKV: function attrKV(key, value) {\n          if (key === 'position' || key === 'scale' || key === 'origin') {\n            // Copy the array\n            if (value) {\n              var target = this[key];\n\n              if (!target) {\n                target = this[key] = [];\n              }\n\n              target[0] = value[0];\n              target[1] = value[1];\n            }\n          } else {\n            this[key] = value;\n          }\n        },\n\n        /**\n         * Hide the element\n         */\n        hide: function hide() {\n          this.ignore = true;\n          this.__zr && this.__zr.refresh();\n        },\n\n        /**\n         * Show the element\n         */\n        show: function show() {\n          this.ignore = false;\n          this.__zr && this.__zr.refresh();\n        },\n\n        /**\n         * @param {string|Object} key\n         * @param {*} value\n         */\n        attr: function attr(key, value) {\n          if (typeof key === 'string') {\n            this.attrKV(key, value);\n          } else if (zrUtil.isObject(key)) {\n            for (var name in key) {\n              if (key.hasOwnProperty(name)) {\n                this.attrKV(name, key[name]);\n              }\n            }\n          }\n\n          this.dirty(false);\n          return this;\n        },\n\n        /**\n         * @param {module:zrender/graphic/Path} clipPath\n         */\n        setClipPath: function setClipPath(clipPath) {\n          var zr = this.__zr;\n\n          if (zr) {\n            clipPath.addSelfToZr(zr);\n          } // Remove previous clip path\n\n\n          if (this.clipPath && this.clipPath !== clipPath) {\n            this.removeClipPath();\n          }\n\n          this.clipPath = clipPath;\n          clipPath.__zr = zr;\n          clipPath.__clipTarget = this;\n          this.dirty(false);\n        },\n\n        /**\n         */\n        removeClipPath: function removeClipPath() {\n          var clipPath = this.clipPath;\n\n          if (clipPath) {\n            if (clipPath.__zr) {\n              clipPath.removeSelfFromZr(clipPath.__zr);\n            }\n\n            clipPath.__zr = null;\n            clipPath.__clipTarget = null;\n            this.clipPath = null;\n            this.dirty(false);\n          }\n        },\n\n        /**\n         * Add self from zrender instance.\n         * Not recursively because it will be invoked when element added to storage.\n         * @param {module:zrender/ZRender} zr\n         */\n        addSelfToZr: function addSelfToZr(zr) {\n          this.__zr = zr; // 添加动画\n\n          var animators = this.animators;\n\n          if (animators) {\n            for (var i = 0; i < animators.length; i++) {\n              zr.animation.addAnimator(animators[i]);\n            }\n          }\n\n          if (this.clipPath) {\n            this.clipPath.addSelfToZr(zr);\n          }\n        },\n\n        /**\n         * Remove self from zrender instance.\n         * Not recursively because it will be invoked when element added to storage.\n         * @param {module:zrender/ZRender} zr\n         */\n        removeSelfFromZr: function removeSelfFromZr(zr) {\n          this.__zr = null; // 移除动画\n\n          var animators = this.animators;\n\n          if (animators) {\n            for (var i = 0; i < animators.length; i++) {\n              zr.animation.removeAnimator(animators[i]);\n            }\n          }\n\n          if (this.clipPath) {\n            this.clipPath.removeSelfFromZr(zr);\n          }\n        }\n      };\n      zrUtil.mixin(Element, Animatable);\n      zrUtil.mixin(Element, Transformable);\n      zrUtil.mixin(Element, Eventful);\n      var _default = Element;\n      module.exports = _default;\n      /***/\n    },\n    /* 17 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var matrix = __webpack_require__(8);\n\n      var vector = __webpack_require__(2);\n      /**\n       * 提供变换扩展\n       * @module zrender/mixin/Transformable\n       * @author pissang (https://www.github.com/pissang)\n       */\n\n\n      var mIdentity = matrix.identity;\n      var EPSILON = 5e-5;\n\n      function isNotAroundZero(val) {\n        return val > EPSILON || val < -EPSILON;\n      }\n      /**\n       * @alias module:zrender/mixin/Transformable\n       * @constructor\n       */\n\n\n      var Transformable = function Transformable(opts) {\n        opts = opts || {}; // If there are no given position, rotation, scale\n\n        if (!opts.position) {\n          /**\n           * 平移\n           * @type {Array.<number>}\n           * @default [0, 0]\n           */\n          this.position = [0, 0];\n        }\n\n        if (opts.rotation == null) {\n          /**\n           * 旋转\n           * @type {Array.<number>}\n           * @default 0\n           */\n          this.rotation = 0;\n        }\n\n        if (!opts.scale) {\n          /**\n           * 缩放\n           * @type {Array.<number>}\n           * @default [1, 1]\n           */\n          this.scale = [1, 1];\n        }\n        /**\n         * 旋转和缩放的原点\n         * @type {Array.<number>}\n         * @default null\n         */\n\n\n        this.origin = this.origin || null;\n      };\n\n      var transformableProto = Transformable.prototype;\n      transformableProto.transform = null;\n      /**\n       * 判断是否需要有坐标变换\n       * 如果有坐标变换, 则从position, rotation, scale以及父节点的transform计算出自身的transform矩阵\n       */\n\n      transformableProto.needLocalTransform = function () {\n        return isNotAroundZero(this.rotation) || isNotAroundZero(this.position[0]) || isNotAroundZero(this.position[1]) || isNotAroundZero(this.scale[0] - 1) || isNotAroundZero(this.scale[1] - 1);\n      };\n\n      transformableProto.updateTransform = function () {\n        var parent = this.parent;\n        var parentHasTransform = parent && parent.transform;\n        var needLocalTransform = this.needLocalTransform();\n        var m = this.transform;\n\n        if (!(needLocalTransform || parentHasTransform)) {\n          m && mIdentity(m);\n          return;\n        }\n\n        m = m || matrix.create();\n\n        if (needLocalTransform) {\n          this.getLocalTransform(m);\n        } else {\n          mIdentity(m);\n        } // 应用父节点变换\n\n\n        if (parentHasTransform) {\n          if (needLocalTransform) {\n            matrix.mul(m, parent.transform, m);\n          } else {\n            matrix.copy(m, parent.transform);\n          }\n        } // 保存这个变换矩阵\n\n\n        this.transform = m;\n        this.invTransform = this.invTransform || matrix.create();\n        matrix.invert(this.invTransform, m);\n      };\n\n      transformableProto.getLocalTransform = function (m) {\n        return Transformable.getLocalTransform(this, m);\n      };\n      /**\n       * 将自己的transform应用到context上\n       * @param {CanvasRenderingContext2D} ctx\n       */\n\n\n      transformableProto.setTransform = function (ctx) {\n        var m = this.transform;\n        var dpr = ctx.dpr || 1;\n\n        if (m) {\n          ctx.setTransform(dpr * m[0], dpr * m[1], dpr * m[2], dpr * m[3], dpr * m[4], dpr * m[5]);\n        } else {\n          ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\n        }\n      };\n\n      transformableProto.restoreTransform = function (ctx) {\n        var dpr = ctx.dpr || 1;\n        ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\n      };\n\n      var tmpTransform = [];\n      /**\n       * 分解`transform`矩阵到`position`, `rotation`, `scale`\n       */\n\n      transformableProto.decomposeTransform = function () {\n        if (!this.transform) {\n          return;\n        }\n\n        var parent = this.parent;\n        var m = this.transform;\n\n        if (parent && parent.transform) {\n          // Get local transform and decompose them to position, scale, rotation\n          matrix.mul(tmpTransform, parent.invTransform, m);\n          m = tmpTransform;\n        }\n\n        var sx = m[0] * m[0] + m[1] * m[1];\n        var sy = m[2] * m[2] + m[3] * m[3];\n        var position = this.position;\n        var scale = this.scale;\n\n        if (isNotAroundZero(sx - 1)) {\n          sx = Math.sqrt(sx);\n        }\n\n        if (isNotAroundZero(sy - 1)) {\n          sy = Math.sqrt(sy);\n        }\n\n        if (m[0] < 0) {\n          sx = -sx;\n        }\n\n        if (m[3] < 0) {\n          sy = -sy;\n        }\n\n        position[0] = m[4];\n        position[1] = m[5];\n        scale[0] = sx;\n        scale[1] = sy;\n        this.rotation = Math.atan2(-m[1] / sy, m[0] / sx);\n      };\n      /**\n       * Get global scale\n       * @return {Array.<number>}\n       */\n\n\n      transformableProto.getGlobalScale = function () {\n        var m = this.transform;\n\n        if (!m) {\n          return [1, 1];\n        }\n\n        var sx = Math.sqrt(m[0] * m[0] + m[1] * m[1]);\n        var sy = Math.sqrt(m[2] * m[2] + m[3] * m[3]);\n\n        if (m[0] < 0) {\n          sx = -sx;\n        }\n\n        if (m[3] < 0) {\n          sy = -sy;\n        }\n\n        return [sx, sy];\n      };\n      /**\n       * 变换坐标位置到 shape 的局部坐标空间\n       * @method\n       * @param {number} x\n       * @param {number} y\n       * @return {Array.<number>}\n       */\n\n\n      transformableProto.transformCoordToLocal = function (x, y) {\n        var v2 = [x, y];\n        var invTransform = this.invTransform;\n\n        if (invTransform) {\n          vector.applyTransform(v2, v2, invTransform);\n        }\n\n        return v2;\n      };\n      /**\n       * 变换局部坐标位置到全局坐标空间\n       * @method\n       * @param {number} x\n       * @param {number} y\n       * @return {Array.<number>}\n       */\n\n\n      transformableProto.transformCoordToGlobal = function (x, y) {\n        var v2 = [x, y];\n        var transform = this.transform;\n\n        if (transform) {\n          vector.applyTransform(v2, v2, transform);\n        }\n\n        return v2;\n      };\n      /**\n       * @static\n       * @param {Object} target\n       * @param {Array.<number>} target.origin\n       * @param {number} target.rotation\n       * @param {Array.<number>} target.position\n       * @param {Array.<number>} [m]\n       */\n\n\n      Transformable.getLocalTransform = function (target, m) {\n        m = m || [];\n        mIdentity(m);\n        var origin = target.origin;\n        var scale = target.scale || [1, 1];\n        var rotation = target.rotation || 0;\n        var position = target.position || [0, 0];\n\n        if (origin) {\n          // Translate to origin\n          m[4] -= origin[0];\n          m[5] -= origin[1];\n        }\n\n        matrix.scale(m, m, scale);\n\n        if (rotation) {\n          matrix.rotate(m, m, rotation);\n        }\n\n        if (origin) {\n          // Translate back from origin\n          m[4] += origin[0];\n          m[5] += origin[1];\n        }\n\n        m[4] += position[0];\n        m[5] += position[1];\n        return m;\n      };\n\n      var _default = Transformable;\n      module.exports = _default;\n      /***/\n    },\n    /* 18 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var LRU = __webpack_require__(14);\n\n      var kCSSColorTable = {\n        'transparent': [0, 0, 0, 0],\n        'aliceblue': [240, 248, 255, 1],\n        'antiquewhite': [250, 235, 215, 1],\n        'aqua': [0, 255, 255, 1],\n        'aquamarine': [127, 255, 212, 1],\n        'azure': [240, 255, 255, 1],\n        'beige': [245, 245, 220, 1],\n        'bisque': [255, 228, 196, 1],\n        'black': [0, 0, 0, 1],\n        'blanchedalmond': [255, 235, 205, 1],\n        'blue': [0, 0, 255, 1],\n        'blueviolet': [138, 43, 226, 1],\n        'brown': [165, 42, 42, 1],\n        'burlywood': [222, 184, 135, 1],\n        'cadetblue': [95, 158, 160, 1],\n        'chartreuse': [127, 255, 0, 1],\n        'chocolate': [210, 105, 30, 1],\n        'coral': [255, 127, 80, 1],\n        'cornflowerblue': [100, 149, 237, 1],\n        'cornsilk': [255, 248, 220, 1],\n        'crimson': [220, 20, 60, 1],\n        'cyan': [0, 255, 255, 1],\n        'darkblue': [0, 0, 139, 1],\n        'darkcyan': [0, 139, 139, 1],\n        'darkgoldenrod': [184, 134, 11, 1],\n        'darkgray': [169, 169, 169, 1],\n        'darkgreen': [0, 100, 0, 1],\n        'darkgrey': [169, 169, 169, 1],\n        'darkkhaki': [189, 183, 107, 1],\n        'darkmagenta': [139, 0, 139, 1],\n        'darkolivegreen': [85, 107, 47, 1],\n        'darkorange': [255, 140, 0, 1],\n        'darkorchid': [153, 50, 204, 1],\n        'darkred': [139, 0, 0, 1],\n        'darksalmon': [233, 150, 122, 1],\n        'darkseagreen': [143, 188, 143, 1],\n        'darkslateblue': [72, 61, 139, 1],\n        'darkslategray': [47, 79, 79, 1],\n        'darkslategrey': [47, 79, 79, 1],\n        'darkturquoise': [0, 206, 209, 1],\n        'darkviolet': [148, 0, 211, 1],\n        'deeppink': [255, 20, 147, 1],\n        'deepskyblue': [0, 191, 255, 1],\n        'dimgray': [105, 105, 105, 1],\n        'dimgrey': [105, 105, 105, 1],\n        'dodgerblue': [30, 144, 255, 1],\n        'firebrick': [178, 34, 34, 1],\n        'floralwhite': [255, 250, 240, 1],\n        'forestgreen': [34, 139, 34, 1],\n        'fuchsia': [255, 0, 255, 1],\n        'gainsboro': [220, 220, 220, 1],\n        'ghostwhite': [248, 248, 255, 1],\n        'gold': [255, 215, 0, 1],\n        'goldenrod': [218, 165, 32, 1],\n        'gray': [128, 128, 128, 1],\n        'green': [0, 128, 0, 1],\n        'greenyellow': [173, 255, 47, 1],\n        'grey': [128, 128, 128, 1],\n        'honeydew': [240, 255, 240, 1],\n        'hotpink': [255, 105, 180, 1],\n        'indianred': [205, 92, 92, 1],\n        'indigo': [75, 0, 130, 1],\n        'ivory': [255, 255, 240, 1],\n        'khaki': [240, 230, 140, 1],\n        'lavender': [230, 230, 250, 1],\n        'lavenderblush': [255, 240, 245, 1],\n        'lawngreen': [124, 252, 0, 1],\n        'lemonchiffon': [255, 250, 205, 1],\n        'lightblue': [173, 216, 230, 1],\n        'lightcoral': [240, 128, 128, 1],\n        'lightcyan': [224, 255, 255, 1],\n        'lightgoldenrodyellow': [250, 250, 210, 1],\n        'lightgray': [211, 211, 211, 1],\n        'lightgreen': [144, 238, 144, 1],\n        'lightgrey': [211, 211, 211, 1],\n        'lightpink': [255, 182, 193, 1],\n        'lightsalmon': [255, 160, 122, 1],\n        'lightseagreen': [32, 178, 170, 1],\n        'lightskyblue': [135, 206, 250, 1],\n        'lightslategray': [119, 136, 153, 1],\n        'lightslategrey': [119, 136, 153, 1],\n        'lightsteelblue': [176, 196, 222, 1],\n        'lightyellow': [255, 255, 224, 1],\n        'lime': [0, 255, 0, 1],\n        'limegreen': [50, 205, 50, 1],\n        'linen': [250, 240, 230, 1],\n        'magenta': [255, 0, 255, 1],\n        'maroon': [128, 0, 0, 1],\n        'mediumaquamarine': [102, 205, 170, 1],\n        'mediumblue': [0, 0, 205, 1],\n        'mediumorchid': [186, 85, 211, 1],\n        'mediumpurple': [147, 112, 219, 1],\n        'mediumseagreen': [60, 179, 113, 1],\n        'mediumslateblue': [123, 104, 238, 1],\n        'mediumspringgreen': [0, 250, 154, 1],\n        'mediumturquoise': [72, 209, 204, 1],\n        'mediumvioletred': [199, 21, 133, 1],\n        'midnightblue': [25, 25, 112, 1],\n        'mintcream': [245, 255, 250, 1],\n        'mistyrose': [255, 228, 225, 1],\n        'moccasin': [255, 228, 181, 1],\n        'navajowhite': [255, 222, 173, 1],\n        'navy': [0, 0, 128, 1],\n        'oldlace': [253, 245, 230, 1],\n        'olive': [128, 128, 0, 1],\n        'olivedrab': [107, 142, 35, 1],\n        'orange': [255, 165, 0, 1],\n        'orangered': [255, 69, 0, 1],\n        'orchid': [218, 112, 214, 1],\n        'palegoldenrod': [238, 232, 170, 1],\n        'palegreen': [152, 251, 152, 1],\n        'paleturquoise': [175, 238, 238, 1],\n        'palevioletred': [219, 112, 147, 1],\n        'papayawhip': [255, 239, 213, 1],\n        'peachpuff': [255, 218, 185, 1],\n        'peru': [205, 133, 63, 1],\n        'pink': [255, 192, 203, 1],\n        'plum': [221, 160, 221, 1],\n        'powderblue': [176, 224, 230, 1],\n        'purple': [128, 0, 128, 1],\n        'red': [255, 0, 0, 1],\n        'rosybrown': [188, 143, 143, 1],\n        'royalblue': [65, 105, 225, 1],\n        'saddlebrown': [139, 69, 19, 1],\n        'salmon': [250, 128, 114, 1],\n        'sandybrown': [244, 164, 96, 1],\n        'seagreen': [46, 139, 87, 1],\n        'seashell': [255, 245, 238, 1],\n        'sienna': [160, 82, 45, 1],\n        'silver': [192, 192, 192, 1],\n        'skyblue': [135, 206, 235, 1],\n        'slateblue': [106, 90, 205, 1],\n        'slategray': [112, 128, 144, 1],\n        'slategrey': [112, 128, 144, 1],\n        'snow': [255, 250, 250, 1],\n        'springgreen': [0, 255, 127, 1],\n        'steelblue': [70, 130, 180, 1],\n        'tan': [210, 180, 140, 1],\n        'teal': [0, 128, 128, 1],\n        'thistle': [216, 191, 216, 1],\n        'tomato': [255, 99, 71, 1],\n        'turquoise': [64, 224, 208, 1],\n        'violet': [238, 130, 238, 1],\n        'wheat': [245, 222, 179, 1],\n        'white': [255, 255, 255, 1],\n        'whitesmoke': [245, 245, 245, 1],\n        'yellow': [255, 255, 0, 1],\n        'yellowgreen': [154, 205, 50, 1]\n      };\n\n      function clampCssByte(i) {\n        // Clamp to integer 0 .. 255.\n        i = Math.round(i); // Seems to be what Chrome does (vs truncation).\n\n        return i < 0 ? 0 : i > 255 ? 255 : i;\n      }\n\n      function clampCssAngle(i) {\n        // Clamp to integer 0 .. 360.\n        i = Math.round(i); // Seems to be what Chrome does (vs truncation).\n\n        return i < 0 ? 0 : i > 360 ? 360 : i;\n      }\n\n      function clampCssFloat(f) {\n        // Clamp to float 0.0 .. 1.0.\n        return f < 0 ? 0 : f > 1 ? 1 : f;\n      }\n\n      function parseCssInt(str) {\n        // int or percentage.\n        if (str.length && str.charAt(str.length - 1) === '%') {\n          return clampCssByte(parseFloat(str) / 100 * 255);\n        }\n\n        return clampCssByte(parseInt(str, 10));\n      }\n\n      function parseCssFloat(str) {\n        // float or percentage.\n        if (str.length && str.charAt(str.length - 1) === '%') {\n          return clampCssFloat(parseFloat(str) / 100);\n        }\n\n        return clampCssFloat(parseFloat(str));\n      }\n\n      function cssHueToRgb(m1, m2, h) {\n        if (h < 0) {\n          h += 1;\n        } else if (h > 1) {\n          h -= 1;\n        }\n\n        if (h * 6 < 1) {\n          return m1 + (m2 - m1) * h * 6;\n        }\n\n        if (h * 2 < 1) {\n          return m2;\n        }\n\n        if (h * 3 < 2) {\n          return m1 + (m2 - m1) * (2 / 3 - h) * 6;\n        }\n\n        return m1;\n      }\n\n      function lerpNumber(a, b, p) {\n        return a + (b - a) * p;\n      }\n\n      function setRgba(out, r, g, b, a) {\n        out[0] = r;\n        out[1] = g;\n        out[2] = b;\n        out[3] = a;\n        return out;\n      }\n\n      function copyRgba(out, a) {\n        out[0] = a[0];\n        out[1] = a[1];\n        out[2] = a[2];\n        out[3] = a[3];\n        return out;\n      }\n\n      var colorCache = new LRU(20);\n      var lastRemovedArr = null;\n\n      function putToCache(colorStr, rgbaArr) {\n        // Reuse removed array\n        if (lastRemovedArr) {\n          copyRgba(lastRemovedArr, rgbaArr);\n        }\n\n        lastRemovedArr = colorCache.put(colorStr, lastRemovedArr || rgbaArr.slice());\n      }\n      /**\n       * @param {string} colorStr\n       * @param {Array.<number>} out\n       * @return {Array.<number>}\n       * @memberOf module:zrender/util/color\n       */\n\n\n      function parse(colorStr, rgbaArr) {\n        if (!colorStr) {\n          return;\n        }\n\n        rgbaArr = rgbaArr || [];\n        var cached = colorCache.get(colorStr);\n\n        if (cached) {\n          return copyRgba(rgbaArr, cached);\n        } // colorStr may be not string\n\n\n        colorStr = colorStr + ''; // Remove all whitespace, not compliant, but should just be more accepting.\n\n        var str = colorStr.replace(/ /g, '').toLowerCase(); // Color keywords (and transparent) lookup.\n\n        if (str in kCSSColorTable) {\n          copyRgba(rgbaArr, kCSSColorTable[str]);\n          putToCache(colorStr, rgbaArr);\n          return rgbaArr;\n        } // #abc and #abc123 syntax.\n\n\n        if (str.charAt(0) === '#') {\n          if (str.length === 4) {\n            var iv = parseInt(str.substr(1), 16); // TODO(deanm): Stricter parsing.\n\n            if (!(iv >= 0 && iv <= 0xfff)) {\n              setRgba(rgbaArr, 0, 0, 0, 1);\n              return; // Covers NaN.\n            }\n\n            setRgba(rgbaArr, (iv & 0xf00) >> 4 | (iv & 0xf00) >> 8, iv & 0xf0 | (iv & 0xf0) >> 4, iv & 0xf | (iv & 0xf) << 4, 1);\n            putToCache(colorStr, rgbaArr);\n            return rgbaArr;\n          } else if (str.length === 7) {\n            var iv = parseInt(str.substr(1), 16); // TODO(deanm): Stricter parsing.\n\n            if (!(iv >= 0 && iv <= 0xffffff)) {\n              setRgba(rgbaArr, 0, 0, 0, 1);\n              return; // Covers NaN.\n            }\n\n            setRgba(rgbaArr, (iv & 0xff0000) >> 16, (iv & 0xff00) >> 8, iv & 0xff, 1);\n            putToCache(colorStr, rgbaArr);\n            return rgbaArr;\n          }\n\n          return;\n        }\n\n        var op = str.indexOf('('),\n            ep = str.indexOf(')');\n\n        if (op !== -1 && ep + 1 === str.length) {\n          var fname = str.substr(0, op);\n          var params = str.substr(op + 1, ep - (op + 1)).split(',');\n          var alpha = 1; // To allow case fallthrough.\n\n          switch (fname) {\n            case 'rgba':\n              if (params.length !== 4) {\n                setRgba(rgbaArr, 0, 0, 0, 1);\n                return;\n              }\n\n              alpha = parseCssFloat(params.pop());\n            // jshint ignore:line\n            // Fall through.\n\n            case 'rgb':\n              if (params.length !== 3) {\n                setRgba(rgbaArr, 0, 0, 0, 1);\n                return;\n              }\n\n              setRgba(rgbaArr, parseCssInt(params[0]), parseCssInt(params[1]), parseCssInt(params[2]), alpha);\n              putToCache(colorStr, rgbaArr);\n              return rgbaArr;\n\n            case 'hsla':\n              if (params.length !== 4) {\n                setRgba(rgbaArr, 0, 0, 0, 1);\n                return;\n              }\n\n              params[3] = parseCssFloat(params[3]);\n              hsla2rgba(params, rgbaArr);\n              putToCache(colorStr, rgbaArr);\n              return rgbaArr;\n\n            case 'hsl':\n              if (params.length !== 3) {\n                setRgba(rgbaArr, 0, 0, 0, 1);\n                return;\n              }\n\n              hsla2rgba(params, rgbaArr);\n              putToCache(colorStr, rgbaArr);\n              return rgbaArr;\n\n            default:\n              return;\n          }\n        }\n\n        setRgba(rgbaArr, 0, 0, 0, 1);\n        return;\n      }\n      /**\n       * @param {Array.<number>} hsla\n       * @param {Array.<number>} rgba\n       * @return {Array.<number>} rgba\n       */\n\n\n      function hsla2rgba(hsla, rgba) {\n        var h = (parseFloat(hsla[0]) % 360 + 360) % 360 / 360; // 0 .. 1\n        // NOTE(deanm): According to the CSS spec s/l should only be\n        // percentages, but we don't bother and let float or percentage.\n\n        var s = parseCssFloat(hsla[1]);\n        var l = parseCssFloat(hsla[2]);\n        var m2 = l <= 0.5 ? l * (s + 1) : l + s - l * s;\n        var m1 = l * 2 - m2;\n        rgba = rgba || [];\n        setRgba(rgba, clampCssByte(cssHueToRgb(m1, m2, h + 1 / 3) * 255), clampCssByte(cssHueToRgb(m1, m2, h) * 255), clampCssByte(cssHueToRgb(m1, m2, h - 1 / 3) * 255), 1);\n\n        if (hsla.length === 4) {\n          rgba[3] = hsla[3];\n        }\n\n        return rgba;\n      }\n      /**\n       * @param {Array.<number>} rgba\n       * @return {Array.<number>} hsla\n       */\n\n\n      function rgba2hsla(rgba) {\n        if (!rgba) {\n          return;\n        } // RGB from 0 to 255\n\n\n        var R = rgba[0] / 255;\n        var G = rgba[1] / 255;\n        var B = rgba[2] / 255;\n        var vMin = Math.min(R, G, B); // Min. value of RGB\n\n        var vMax = Math.max(R, G, B); // Max. value of RGB\n\n        var delta = vMax - vMin; // Delta RGB value\n\n        var L = (vMax + vMin) / 2;\n        var H;\n        var S; // HSL results from 0 to 1\n\n        if (delta === 0) {\n          H = 0;\n          S = 0;\n        } else {\n          if (L < 0.5) {\n            S = delta / (vMax + vMin);\n          } else {\n            S = delta / (2 - vMax - vMin);\n          }\n\n          var deltaR = ((vMax - R) / 6 + delta / 2) / delta;\n          var deltaG = ((vMax - G) / 6 + delta / 2) / delta;\n          var deltaB = ((vMax - B) / 6 + delta / 2) / delta;\n\n          if (R === vMax) {\n            H = deltaB - deltaG;\n          } else if (G === vMax) {\n            H = 1 / 3 + deltaR - deltaB;\n          } else if (B === vMax) {\n            H = 2 / 3 + deltaG - deltaR;\n          }\n\n          if (H < 0) {\n            H += 1;\n          }\n\n          if (H > 1) {\n            H -= 1;\n          }\n        }\n\n        var hsla = [H * 360, S, L];\n\n        if (rgba[3] != null) {\n          hsla.push(rgba[3]);\n        }\n\n        return hsla;\n      }\n      /**\n       * @param {string} color\n       * @param {number} level\n       * @return {string}\n       * @memberOf module:zrender/util/color\n       */\n\n\n      function lift(color, level) {\n        var colorArr = parse(color);\n\n        if (colorArr) {\n          for (var i = 0; i < 3; i++) {\n            if (level < 0) {\n              colorArr[i] = colorArr[i] * (1 - level) | 0;\n            } else {\n              colorArr[i] = (255 - colorArr[i]) * level + colorArr[i] | 0;\n            }\n          }\n\n          return stringify(colorArr, colorArr.length === 4 ? 'rgba' : 'rgb');\n        }\n      }\n      /**\n       * @param {string} color\n       * @return {string}\n       * @memberOf module:zrender/util/color\n       */\n\n\n      function toHex(color) {\n        var colorArr = parse(color);\n\n        if (colorArr) {\n          return ((1 << 24) + (colorArr[0] << 16) + (colorArr[1] << 8) + +colorArr[2]).toString(16).slice(1);\n        }\n      }\n      /**\n       * Map value to color. Faster than lerp methods because color is represented by rgba array.\n       * @param {number} normalizedValue A float between 0 and 1.\n       * @param {Array.<Array.<number>>} colors List of rgba color array\n       * @param {Array.<number>} [out] Mapped gba color array\n       * @return {Array.<number>} will be null/undefined if input illegal.\n       */\n\n\n      function fastLerp(normalizedValue, colors, out) {\n        if (!(colors && colors.length) || !(normalizedValue >= 0 && normalizedValue <= 1)) {\n          return;\n        }\n\n        out = out || [];\n        var value = normalizedValue * (colors.length - 1);\n        var leftIndex = Math.floor(value);\n        var rightIndex = Math.ceil(value);\n        var leftColor = colors[leftIndex];\n        var rightColor = colors[rightIndex];\n        var dv = value - leftIndex;\n        out[0] = clampCssByte(lerpNumber(leftColor[0], rightColor[0], dv));\n        out[1] = clampCssByte(lerpNumber(leftColor[1], rightColor[1], dv));\n        out[2] = clampCssByte(lerpNumber(leftColor[2], rightColor[2], dv));\n        out[3] = clampCssFloat(lerpNumber(leftColor[3], rightColor[3], dv));\n        return out;\n      }\n      /**\n       * @deprecated\n       */\n\n\n      var fastMapToColor = fastLerp;\n      /**\n       * @param {number} normalizedValue A float between 0 and 1.\n       * @param {Array.<string>} colors Color list.\n       * @param {boolean=} fullOutput Default false.\n       * @return {(string|Object)} Result color. If fullOutput,\n       *                           return {color: ..., leftIndex: ..., rightIndex: ..., value: ...},\n       * @memberOf module:zrender/util/color\n       */\n\n      function lerp(normalizedValue, colors, fullOutput) {\n        if (!(colors && colors.length) || !(normalizedValue >= 0 && normalizedValue <= 1)) {\n          return;\n        }\n\n        var value = normalizedValue * (colors.length - 1);\n        var leftIndex = Math.floor(value);\n        var rightIndex = Math.ceil(value);\n        var leftColor = parse(colors[leftIndex]);\n        var rightColor = parse(colors[rightIndex]);\n        var dv = value - leftIndex;\n        var color = stringify([clampCssByte(lerpNumber(leftColor[0], rightColor[0], dv)), clampCssByte(lerpNumber(leftColor[1], rightColor[1], dv)), clampCssByte(lerpNumber(leftColor[2], rightColor[2], dv)), clampCssFloat(lerpNumber(leftColor[3], rightColor[3], dv))], 'rgba');\n        return fullOutput ? {\n          color: color,\n          leftIndex: leftIndex,\n          rightIndex: rightIndex,\n          value: value\n        } : color;\n      }\n      /**\n       * @deprecated\n       */\n\n\n      var mapToColor = lerp;\n      /**\n       * @param {string} color\n       * @param {number=} h 0 ~ 360, ignore when null.\n       * @param {number=} s 0 ~ 1, ignore when null.\n       * @param {number=} l 0 ~ 1, ignore when null.\n       * @return {string} Color string in rgba format.\n       * @memberOf module:zrender/util/color\n       */\n\n      function modifyHSL(color, h, s, l) {\n        color = parse(color);\n\n        if (color) {\n          color = rgba2hsla(color);\n          h != null && (color[0] = clampCssAngle(h));\n          s != null && (color[1] = parseCssFloat(s));\n          l != null && (color[2] = parseCssFloat(l));\n          return stringify(hsla2rgba(color), 'rgba');\n        }\n      }\n      /**\n       * @param {string} color\n       * @param {number=} alpha 0 ~ 1\n       * @return {string} Color string in rgba format.\n       * @memberOf module:zrender/util/color\n       */\n\n\n      function modifyAlpha(color, alpha) {\n        color = parse(color);\n\n        if (color && alpha != null) {\n          color[3] = clampCssFloat(alpha);\n          return stringify(color, 'rgba');\n        }\n      }\n      /**\n       * @param {Array.<number>} arrColor like [12,33,44,0.4]\n       * @param {string} type 'rgba', 'hsva', ...\n       * @return {string} Result color. (If input illegal, return undefined).\n       */\n\n\n      function stringify(arrColor, type) {\n        if (!arrColor || !arrColor.length) {\n          return;\n        }\n\n        var colorStr = arrColor[0] + ',' + arrColor[1] + ',' + arrColor[2];\n\n        if (type === 'rgba' || type === 'hsva' || type === 'hsla') {\n          colorStr += ',' + arrColor[3];\n        }\n\n        return type + '(' + colorStr + ')';\n      }\n\n      exports.parse = parse;\n      exports.lift = lift;\n      exports.toHex = toHex;\n      exports.fastLerp = fastLerp;\n      exports.fastMapToColor = fastMapToColor;\n      exports.lerp = lerp;\n      exports.mapToColor = mapToColor;\n      exports.modifyHSL = modifyHSL;\n      exports.modifyAlpha = modifyAlpha;\n      exports.stringify = stringify;\n      /***/\n    },\n    /* 19 */\n\n    /***/\n    function (module, exports) {\n      var dpr = 1; // If in browser environment\n\n      if (typeof window !== 'undefined') {\n        dpr = Math.max(window.devicePixelRatio || 1, 1);\n      }\n      /**\n       * config默认配置项\n       * @exports zrender/config\n       * @author Kener (@Kener-林峰, kener.linfeng@gmail.com)\n       */\n\n      /**\n       * debug日志选项：catchBrushException为true下有效\n       * 0 : 不生成debug数据，发布用\n       * 1 : 异常抛出，调试用\n       * 2 : 控制台输出，调试用\n       */\n\n\n      var debugMode = 0; // retina 屏幕优化\n\n      var devicePixelRatio = dpr;\n      exports.debugMode = debugMode;\n      exports.devicePixelRatio = devicePixelRatio;\n      /***/\n    },\n    /* 20 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var _util = __webpack_require__(0);\n\n      var retrieve2 = _util.retrieve2;\n      var retrieve3 = _util.retrieve3;\n      var each = _util.each;\n      var normalizeCssArray = _util.normalizeCssArray;\n      var isString = _util.isString;\n      var isObject = _util.isObject;\n\n      var textContain = __webpack_require__(5);\n\n      var roundRectHelper = __webpack_require__(21);\n\n      var imageHelper = __webpack_require__(10); // TODO: Have not support 'start', 'end' yet.\n\n\n      var VALID_TEXT_ALIGN = {\n        left: 1,\n        right: 1,\n        center: 1\n      };\n      var VALID_TEXT_VERTICAL_ALIGN = {\n        top: 1,\n        bottom: 1,\n        middle: 1\n      };\n      /**\n       * @param {module:zrender/graphic/Style} style\n       * @return {module:zrender/graphic/Style} The input style.\n       */\n\n      function normalizeTextStyle(style) {\n        normalizeStyle(style);\n        each(style.rich, normalizeStyle);\n        return style;\n      }\n\n      function normalizeStyle(style) {\n        if (style) {\n          style.font = textContain.makeFont(style);\n          var textAlign = style.textAlign;\n          textAlign === 'middle' && (textAlign = 'center');\n          style.textAlign = textAlign == null || VALID_TEXT_ALIGN[textAlign] ? textAlign : 'left'; // Compatible with textBaseline.\n\n          var textVerticalAlign = style.textVerticalAlign || style.textBaseline;\n          textVerticalAlign === 'center' && (textVerticalAlign = 'middle');\n          style.textVerticalAlign = textVerticalAlign == null || VALID_TEXT_VERTICAL_ALIGN[textVerticalAlign] ? textVerticalAlign : 'top';\n          var textPadding = style.textPadding;\n\n          if (textPadding) {\n            style.textPadding = normalizeCssArray(style.textPadding);\n          }\n        }\n      }\n      /**\n       * @param {CanvasRenderingContext2D} ctx\n       * @param {string} text\n       * @param {module:zrender/graphic/Style} style\n       * @param {Object|boolean} [rect] {x, y, width, height}\n       *                  If set false, rect text is not used.\n       */\n\n\n      function renderText(hostEl, ctx, text, style, rect) {\n        style.rich ? renderRichText(hostEl, ctx, text, style, rect) : renderPlainText(hostEl, ctx, text, style, rect);\n      }\n\n      function renderPlainText(hostEl, ctx, text, style, rect) {\n        var font = setCtx(ctx, 'font', style.font || textContain.DEFAULT_FONT);\n        var textPadding = style.textPadding;\n        var contentBlock = hostEl.__textCotentBlock;\n\n        if (!contentBlock || hostEl.__dirty) {\n          contentBlock = hostEl.__textCotentBlock = textContain.parsePlainText(text, font, textPadding, style.truncate);\n        }\n\n        var outerHeight = contentBlock.outerHeight;\n        var textLines = contentBlock.lines;\n        var lineHeight = contentBlock.lineHeight;\n        var boxPos = getBoxPosition(outerHeight, style, rect);\n        var baseX = boxPos.baseX;\n        var baseY = boxPos.baseY;\n        var textAlign = boxPos.textAlign;\n        var textVerticalAlign = boxPos.textVerticalAlign; // Origin of textRotation should be the base point of text drawing.\n\n        applyTextRotation(ctx, style, rect, baseX, baseY);\n        var boxY = textContain.adjustTextY(baseY, outerHeight, textVerticalAlign);\n        var textX = baseX;\n        var textY = boxY;\n        var needDrawBg = needDrawBackground(style);\n\n        if (needDrawBg || textPadding) {\n          // Consider performance, do not call getTextWidth util necessary.\n          var textWidth = textContain.getWidth(text, font);\n          var outerWidth = textWidth;\n          textPadding && (outerWidth += textPadding[1] + textPadding[3]);\n          var boxX = textContain.adjustTextX(baseX, outerWidth, textAlign);\n          needDrawBg && drawBackground(hostEl, ctx, style, boxX, boxY, outerWidth, outerHeight);\n\n          if (textPadding) {\n            textX = getTextXForPadding(baseX, textAlign, textPadding);\n            textY += textPadding[0];\n          }\n        }\n\n        setCtx(ctx, 'textAlign', textAlign || 'left'); // Force baseline to be \"middle\". Otherwise, if using \"top\", the\n        // text will offset downward a little bit in font \"Microsoft YaHei\".\n\n        setCtx(ctx, 'textBaseline', 'middle'); // Always set shadowBlur and shadowOffset to avoid leak from displayable.\n\n        setCtx(ctx, 'shadowBlur', style.textShadowBlur || 0);\n        setCtx(ctx, 'shadowColor', style.textShadowColor || 'transparent');\n        setCtx(ctx, 'shadowOffsetX', style.textShadowOffsetX || 0);\n        setCtx(ctx, 'shadowOffsetY', style.textShadowOffsetY || 0); // `textBaseline` is set as 'middle'.\n\n        textY += lineHeight / 2;\n        var textStrokeWidth = style.textStrokeWidth;\n        var textStroke = getStroke(style.textStroke, textStrokeWidth);\n        var textFill = getFill(style.textFill);\n\n        if (textStroke) {\n          setCtx(ctx, 'lineWidth', textStrokeWidth);\n          setCtx(ctx, 'strokeStyle', textStroke);\n        }\n\n        if (textFill) {\n          setCtx(ctx, 'fillStyle', textFill);\n        }\n\n        for (var i = 0; i < textLines.length; i++) {\n          // Fill after stroke so the outline will not cover the main part.\n          textStroke && ctx.strokeText(textLines[i], textX, textY);\n          textFill && ctx.fillText(textLines[i], textX, textY);\n          textY += lineHeight;\n        }\n      }\n\n      function renderRichText(hostEl, ctx, text, style, rect) {\n        var contentBlock = hostEl.__textCotentBlock;\n\n        if (!contentBlock || hostEl.__dirty) {\n          contentBlock = hostEl.__textCotentBlock = textContain.parseRichText(text, style);\n        }\n\n        drawRichText(hostEl, ctx, contentBlock, style, rect);\n      }\n\n      function drawRichText(hostEl, ctx, contentBlock, style, rect) {\n        var contentWidth = contentBlock.width;\n        var outerWidth = contentBlock.outerWidth;\n        var outerHeight = contentBlock.outerHeight;\n        var textPadding = style.textPadding;\n        var boxPos = getBoxPosition(outerHeight, style, rect);\n        var baseX = boxPos.baseX;\n        var baseY = boxPos.baseY;\n        var textAlign = boxPos.textAlign;\n        var textVerticalAlign = boxPos.textVerticalAlign; // Origin of textRotation should be the base point of text drawing.\n\n        applyTextRotation(ctx, style, rect, baseX, baseY);\n        var boxX = textContain.adjustTextX(baseX, outerWidth, textAlign);\n        var boxY = textContain.adjustTextY(baseY, outerHeight, textVerticalAlign);\n        var xLeft = boxX;\n        var lineTop = boxY;\n\n        if (textPadding) {\n          xLeft += textPadding[3];\n          lineTop += textPadding[0];\n        }\n\n        var xRight = xLeft + contentWidth;\n        needDrawBackground(style) && drawBackground(hostEl, ctx, style, boxX, boxY, outerWidth, outerHeight);\n\n        for (var i = 0; i < contentBlock.lines.length; i++) {\n          var line = contentBlock.lines[i];\n          var tokens = line.tokens;\n          var tokenCount = tokens.length;\n          var lineHeight = line.lineHeight;\n          var usedWidth = line.width;\n          var leftIndex = 0;\n          var lineXLeft = xLeft;\n          var lineXRight = xRight;\n          var rightIndex = tokenCount - 1;\n          var token;\n\n          while (leftIndex < tokenCount && (token = tokens[leftIndex], !token.textAlign || token.textAlign === 'left')) {\n            placeToken(hostEl, ctx, token, style, lineHeight, lineTop, lineXLeft, 'left');\n            usedWidth -= token.width;\n            lineXLeft += token.width;\n            leftIndex++;\n          }\n\n          while (rightIndex >= 0 && (token = tokens[rightIndex], token.textAlign === 'right')) {\n            placeToken(hostEl, ctx, token, style, lineHeight, lineTop, lineXRight, 'right');\n            usedWidth -= token.width;\n            lineXRight -= token.width;\n            rightIndex--;\n          } // The other tokens are placed as textAlign 'center' if there is enough space.\n\n\n          lineXLeft += (contentWidth - (lineXLeft - xLeft) - (xRight - lineXRight) - usedWidth) / 2;\n\n          while (leftIndex <= rightIndex) {\n            token = tokens[leftIndex]; // Consider width specified by user, use 'center' rather than 'left'.\n\n            placeToken(hostEl, ctx, token, style, lineHeight, lineTop, lineXLeft + token.width / 2, 'center');\n            lineXLeft += token.width;\n            leftIndex++;\n          }\n\n          lineTop += lineHeight;\n        }\n      }\n\n      function applyTextRotation(ctx, style, rect, x, y) {\n        // textRotation only apply in RectText.\n        if (rect && style.textRotation) {\n          var origin = style.textOrigin;\n\n          if (origin === 'center') {\n            x = rect.width / 2 + rect.x;\n            y = rect.height / 2 + rect.y;\n          } else if (origin) {\n            x = origin[0] + rect.x;\n            y = origin[1] + rect.y;\n          }\n\n          ctx.translate(x, y); // Positive: anticlockwise\n\n          ctx.rotate(-style.textRotation);\n          ctx.translate(-x, -y);\n        }\n      }\n\n      function placeToken(hostEl, ctx, token, style, lineHeight, lineTop, x, textAlign) {\n        var tokenStyle = style.rich[token.styleName] || {}; // 'ctx.textBaseline' is always set as 'middle', for sake of\n        // the bias of \"Microsoft YaHei\".\n\n        var textVerticalAlign = token.textVerticalAlign;\n        var y = lineTop + lineHeight / 2;\n\n        if (textVerticalAlign === 'top') {\n          y = lineTop + token.height / 2;\n        } else if (textVerticalAlign === 'bottom') {\n          y = lineTop + lineHeight - token.height / 2;\n        }\n\n        !token.isLineHolder && needDrawBackground(tokenStyle) && drawBackground(hostEl, ctx, tokenStyle, textAlign === 'right' ? x - token.width : textAlign === 'center' ? x - token.width / 2 : x, y - token.height / 2, token.width, token.height);\n        var textPadding = token.textPadding;\n\n        if (textPadding) {\n          x = getTextXForPadding(x, textAlign, textPadding);\n          y -= token.height / 2 - textPadding[2] - token.textHeight / 2;\n        }\n\n        setCtx(ctx, 'shadowBlur', retrieve3(tokenStyle.textShadowBlur, style.textShadowBlur, 0));\n        setCtx(ctx, 'shadowColor', tokenStyle.textShadowColor || style.textShadowColor || 'transparent');\n        setCtx(ctx, 'shadowOffsetX', retrieve3(tokenStyle.textShadowOffsetX, style.textShadowOffsetX, 0));\n        setCtx(ctx, 'shadowOffsetY', retrieve3(tokenStyle.textShadowOffsetY, style.textShadowOffsetY, 0));\n        setCtx(ctx, 'textAlign', textAlign); // Force baseline to be \"middle\". Otherwise, if using \"top\", the\n        // text will offset downward a little bit in font \"Microsoft YaHei\".\n\n        setCtx(ctx, 'textBaseline', 'middle');\n        setCtx(ctx, 'font', token.font || textContain.DEFAULT_FONT);\n        var textStroke = getStroke(tokenStyle.textStroke || style.textStroke, textStrokeWidth);\n        var textFill = getFill(tokenStyle.textFill || style.textFill);\n        var textStrokeWidth = retrieve2(tokenStyle.textStrokeWidth, style.textStrokeWidth); // Fill after stroke so the outline will not cover the main part.\n\n        if (textStroke) {\n          setCtx(ctx, 'lineWidth', textStrokeWidth);\n          setCtx(ctx, 'strokeStyle', textStroke);\n          ctx.strokeText(token.text, x, y);\n        }\n\n        if (textFill) {\n          setCtx(ctx, 'fillStyle', textFill);\n          ctx.fillText(token.text, x, y);\n        }\n      }\n\n      function needDrawBackground(style) {\n        return style.textBackgroundColor || style.textBorderWidth && style.textBorderColor;\n      } // style: {textBackgroundColor, textBorderWidth, textBorderColor, textBorderRadius}\n      // shape: {x, y, width, height}\n\n\n      function drawBackground(hostEl, ctx, style, x, y, width, height) {\n        var textBackgroundColor = style.textBackgroundColor;\n        var textBorderWidth = style.textBorderWidth;\n        var textBorderColor = style.textBorderColor;\n        var isPlainBg = isString(textBackgroundColor);\n        setCtx(ctx, 'shadowBlur', style.textBoxShadowBlur || 0);\n        setCtx(ctx, 'shadowColor', style.textBoxShadowColor || 'transparent');\n        setCtx(ctx, 'shadowOffsetX', style.textBoxShadowOffsetX || 0);\n        setCtx(ctx, 'shadowOffsetY', style.textBoxShadowOffsetY || 0);\n\n        if (isPlainBg || textBorderWidth && textBorderColor) {\n          ctx.beginPath();\n          var textBorderRadius = style.textBorderRadius;\n\n          if (!textBorderRadius) {\n            ctx.rect(x, y, width, height);\n          } else {\n            roundRectHelper.buildPath(ctx, {\n              x: x,\n              y: y,\n              width: width,\n              height: height,\n              r: textBorderRadius\n            });\n          }\n\n          ctx.closePath();\n        }\n\n        if (isPlainBg) {\n          setCtx(ctx, 'fillStyle', textBackgroundColor);\n          ctx.fill();\n        } else if (isObject(textBackgroundColor)) {\n          var image = textBackgroundColor.image;\n          image = imageHelper.createOrUpdateImage(image, null, hostEl, onBgImageLoaded, textBackgroundColor);\n\n          if (image && imageHelper.isImageReady(image)) {\n            ctx.drawImage(image, x, y, width, height);\n          }\n        }\n\n        if (textBorderWidth && textBorderColor) {\n          setCtx(ctx, 'lineWidth', textBorderWidth);\n          setCtx(ctx, 'strokeStyle', textBorderColor);\n          ctx.stroke();\n        }\n      }\n\n      function onBgImageLoaded(image, textBackgroundColor) {\n        // Replace image, so that `contain/text.js#parseRichText`\n        // will get correct result in next tick.\n        textBackgroundColor.image = image;\n      }\n\n      function getBoxPosition(blockHeiht, style, rect) {\n        var baseX = style.x || 0;\n        var baseY = style.y || 0;\n        var textAlign = style.textAlign;\n        var textVerticalAlign = style.textVerticalAlign; // Text position represented by coord\n\n        if (rect) {\n          var textPosition = style.textPosition;\n\n          if (textPosition instanceof Array) {\n            // Percent\n            baseX = rect.x + parsePercent(textPosition[0], rect.width);\n            baseY = rect.y + parsePercent(textPosition[1], rect.height);\n          } else {\n            var res = textContain.adjustTextPositionOnRect(textPosition, rect, style.textDistance);\n            baseX = res.x;\n            baseY = res.y; // Default align and baseline when has textPosition\n\n            textAlign = textAlign || res.textAlign;\n            textVerticalAlign = textVerticalAlign || res.textVerticalAlign;\n          } // textOffset is only support in RectText, otherwise\n          // we have to adjust boundingRect for textOffset.\n\n\n          var textOffset = style.textOffset;\n\n          if (textOffset) {\n            baseX += textOffset[0];\n            baseY += textOffset[1];\n          }\n        }\n\n        return {\n          baseX: baseX,\n          baseY: baseY,\n          textAlign: textAlign,\n          textVerticalAlign: textVerticalAlign\n        };\n      }\n\n      function setCtx(ctx, prop, value) {\n        // FIXME ??? performance try\n        // if (ctx.__currentValues[prop] !== value) {\n        // ctx[prop] = ctx.__currentValues[prop] = value;\n        ctx[prop] = value; // }\n\n        return ctx[prop];\n      }\n      /**\n       * @param {string} [stroke] If specified, do not check style.textStroke.\n       * @param {string} [lineWidth] If specified, do not check style.textStroke.\n       * @param {number} style\n       */\n\n\n      function getStroke(stroke, lineWidth) {\n        return stroke == null || lineWidth <= 0 || stroke === 'transparent' || stroke === 'none' ? null // TODO pattern and gradient?\n        : stroke.image || stroke.colorStops ? '#000' : stroke;\n      }\n\n      function getFill(fill) {\n        return fill == null || fill === 'none' ? null // TODO pattern and gradient?\n        : fill.image || fill.colorStops ? '#000' : fill;\n      }\n\n      function parsePercent(value, maxValue) {\n        if (typeof value === 'string') {\n          if (value.lastIndexOf('%') >= 0) {\n            return parseFloat(value) / 100 * maxValue;\n          }\n\n          return parseFloat(value);\n        }\n\n        return value;\n      }\n\n      function getTextXForPadding(x, textAlign, textPadding) {\n        return textAlign === 'right' ? x - textPadding[1] : textAlign === 'center' ? x + textPadding[3] / 2 - textPadding[1] / 2 : x + textPadding[3];\n      }\n      /**\n       * @param {string} text\n       * @param {module:zrender/Style} style\n       * @return {boolean}\n       */\n\n\n      function needDrawText(text, style) {\n        return text != null && (text || style.textBackgroundColor || style.textBorderWidth && style.textBorderColor || style.textPadding);\n      }\n\n      exports.normalizeTextStyle = normalizeTextStyle;\n      exports.renderText = renderText;\n      exports.getStroke = getStroke;\n      exports.getFill = getFill;\n      exports.needDrawText = needDrawText;\n      /***/\n    },\n    /* 21 */\n\n    /***/\n    function (module, exports) {\n      function buildPath(ctx, shape) {\n        var x = shape.x;\n        var y = shape.y;\n        var width = shape.width;\n        var height = shape.height;\n        var r = shape.r;\n        var r1;\n        var r2;\n        var r3;\n        var r4; // Convert width and height to positive for better borderRadius\n\n        if (width < 0) {\n          x = x + width;\n          width = -width;\n        }\n\n        if (height < 0) {\n          y = y + height;\n          height = -height;\n        }\n\n        if (typeof r === 'number') {\n          r1 = r2 = r3 = r4 = r;\n        } else if (r instanceof Array) {\n          if (r.length === 1) {\n            r1 = r2 = r3 = r4 = r[0];\n          } else if (r.length === 2) {\n            r1 = r3 = r[0];\n            r2 = r4 = r[1];\n          } else if (r.length === 3) {\n            r1 = r[0];\n            r2 = r4 = r[1];\n            r3 = r[2];\n          } else {\n            r1 = r[0];\n            r2 = r[1];\n            r3 = r[2];\n            r4 = r[3];\n          }\n        } else {\n          r1 = r2 = r3 = r4 = 0;\n        }\n\n        var total;\n\n        if (r1 + r2 > width) {\n          total = r1 + r2;\n          r1 *= width / total;\n          r2 *= width / total;\n        }\n\n        if (r3 + r4 > width) {\n          total = r3 + r4;\n          r3 *= width / total;\n          r4 *= width / total;\n        }\n\n        if (r2 + r3 > height) {\n          total = r2 + r3;\n          r2 *= height / total;\n          r3 *= height / total;\n        }\n\n        if (r1 + r4 > height) {\n          total = r1 + r4;\n          r1 *= height / total;\n          r4 *= height / total;\n        }\n\n        ctx.moveTo(x + r1, y);\n        ctx.lineTo(x + width - r2, y);\n        r2 !== 0 && ctx.quadraticCurveTo(x + width, y, x + width, y + r2);\n        ctx.lineTo(x + width, y + height - r3);\n        r3 !== 0 && ctx.quadraticCurveTo(x + width, y + height, x + width - r3, y + height);\n        ctx.lineTo(x + r4, y + height);\n        r4 !== 0 && ctx.quadraticCurveTo(x, y + height, x, y + height - r4);\n        ctx.lineTo(x, y + r1);\n        r1 !== 0 && ctx.quadraticCurveTo(x, y, x + r1, y);\n      }\n\n      exports.buildPath = buildPath;\n      /***/\n    },\n    /* 22 */\n\n    /***/\n    function (module, exports) {\n      var PI2 = Math.PI * 2;\n\n      function normalizeRadian(angle) {\n        angle %= PI2;\n\n        if (angle < 0) {\n          angle += PI2;\n        }\n\n        return angle;\n      }\n\n      exports.normalizeRadian = normalizeRadian;\n      /***/\n    },\n    /* 23 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var smoothSpline = __webpack_require__(66);\n\n      var smoothBezier = __webpack_require__(67);\n\n      function buildPath(ctx, shape, closePath) {\n        var points = shape.points;\n        var smooth = shape.smooth;\n\n        if (points && points.length >= 2) {\n          if (smooth && smooth !== 'spline') {\n            var controlPoints = smoothBezier(points, smooth, closePath, shape.smoothConstraint);\n            ctx.moveTo(points[0][0], points[0][1]);\n            var len = points.length;\n\n            for (var i = 0; i < (closePath ? len : len - 1); i++) {\n              var cp1 = controlPoints[i * 2];\n              var cp2 = controlPoints[i * 2 + 1];\n              var p = points[(i + 1) % len];\n              ctx.bezierCurveTo(cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]);\n            }\n          } else {\n            if (smooth === 'spline') {\n              points = smoothSpline(points, closePath);\n            }\n\n            ctx.moveTo(points[0][0], points[0][1]);\n\n            for (var i = 1, l = points.length; i < l; i++) {\n              ctx.lineTo(points[i][0], points[i][1]);\n            }\n          }\n\n          closePath && ctx.closePath();\n        }\n      }\n\n      exports.buildPath = buildPath;\n      /***/\n    },\n    /* 24 */\n\n    /***/\n    function (module, exports) {\n      /**\n       * @param {Array.<Object>} colorStops\n       */\n      var Gradient = function Gradient(colorStops) {\n        this.colorStops = colorStops || [];\n      };\n\n      Gradient.prototype = {\n        constructor: Gradient,\n        addColorStop: function addColorStop(offset, color) {\n          this.colorStops.push({\n            offset: offset,\n            color: color\n          });\n        }\n      };\n      var _default = Gradient;\n      module.exports = _default;\n      /***/\n    },\n    /* 25 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      module.exports = __webpack_require__(26);\n      /***/\n    },\n    /* 26 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var echarts = __webpack_require__(7);\n\n      var layoutUtil = __webpack_require__(27);\n\n      __webpack_require__(28);\n\n      __webpack_require__(77);\n\n      var wordCloudLayoutHelper = __webpack_require__(78);\n\n      if (!wordCloudLayoutHelper.isSupported) {\n        throw new Error('Sorry your browser not support wordCloud');\n      } // https://github.com/timdream/wordcloud2.js/blob/c236bee60436e048949f9becc4f0f67bd832dc5c/index.js#L233\n\n\n      function updateCanvasMask(maskCanvas) {\n        var ctx = maskCanvas.getContext('2d');\n        var imageData = ctx.getImageData(0, 0, maskCanvas.width, maskCanvas.height);\n        var newImageData = ctx.createImageData(imageData);\n        var toneSum = 0;\n        var toneCnt = 0;\n\n        for (var i = 0; i < imageData.data.length; i += 4) {\n          var alpha = imageData.data[i + 3];\n\n          if (alpha > 128) {\n            var tone = imageData.data[i] + imageData.data[i + 1] + imageData.data[i + 2];\n            toneSum += tone;\n            ++toneCnt;\n          }\n        }\n\n        var threshold = toneSum / toneCnt;\n\n        for (var i = 0; i < imageData.data.length; i += 4) {\n          var tone = imageData.data[i] + imageData.data[i + 1] + imageData.data[i + 2];\n          var alpha = imageData.data[i + 3];\n\n          if (alpha < 128 || tone > threshold) {\n            // Area not to draw\n            newImageData.data[i] = 0;\n            newImageData.data[i + 1] = 0;\n            newImageData.data[i + 2] = 0;\n            newImageData.data[i + 3] = 0;\n          } else {\n            // Area to draw\n            // The color must be same with backgroundColor\n            newImageData.data[i] = 255;\n            newImageData.data[i + 1] = 255;\n            newImageData.data[i + 2] = 255;\n            newImageData.data[i + 3] = 255;\n          }\n        }\n\n        ctx.putImageData(newImageData, 0, 0);\n      }\n\n      echarts.registerLayout(function (ecModel, api) {\n        ecModel.eachSeriesByType('wordCloud', function (seriesModel) {\n          var gridRect = layoutUtil.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n            width: api.getWidth(),\n            height: api.getHeight()\n          });\n          var data = seriesModel.getData();\n          var canvas = document.createElement('canvas');\n          canvas.width = gridRect.width;\n          canvas.height = gridRect.height;\n          var ctx = canvas.getContext('2d');\n          var maskImage = seriesModel.get('maskImage');\n\n          if (maskImage) {\n            try {\n              ctx.drawImage(maskImage, 0, 0, canvas.width, canvas.height);\n              updateCanvasMask(canvas);\n            } catch (e) {\n              console.error('Invalid mask image');\n              console.error(e.toString());\n            }\n          }\n\n          var sizeRange = seriesModel.get('sizeRange');\n          var rotationRange = seriesModel.get('rotationRange');\n          var valueExtent = data.getDataExtent('value');\n          var DEGREE_TO_RAD = Math.PI / 180;\n          var gridSize = seriesModel.get('gridSize');\n          wordCloudLayoutHelper(canvas, {\n            list: data.mapArray('value', function (value, idx) {\n              var itemModel = data.getItemModel(idx);\n              return [data.getName(idx), itemModel.get('textStyle.normal.textSize', true) || echarts.number.linearMap(value, valueExtent, sizeRange), idx];\n            }).sort(function (a, b) {\n              // Sort from large to small in case there is no more room for more words\n              return b[1] - a[1];\n            }),\n            fontFamily: seriesModel.get('textStyle.normal.fontFamily') || seriesModel.get('textStyle.emphasis.fontFamily') || ecModel.get('textStyle.fontFamily'),\n            fontWeight: seriesModel.get('textStyle.normal.fontWeight') || seriesModel.get('textStyle.emphasis.fontWeight') || ecModel.get('textStyle.fontWeight'),\n            gridSize: gridSize,\n            ellipticity: gridRect.height / gridRect.width,\n            minRotation: rotationRange[0] * DEGREE_TO_RAD,\n            maxRotation: rotationRange[1] * DEGREE_TO_RAD,\n            clearCanvas: !maskImage,\n            rotateRatio: 1,\n            rotationStep: seriesModel.get('rotationStep') * DEGREE_TO_RAD,\n            drawOutOfBound: seriesModel.get('drawOutOfBound'),\n            shuffle: false,\n            shape: seriesModel.get('shape')\n          });\n\n          function onWordCloudDrawn(e) {\n            var item = e.detail.item;\n\n            if (e.detail.drawn && seriesModel.layoutInstance.ondraw) {\n              e.detail.drawn.gx += gridRect.x / gridSize;\n              e.detail.drawn.gy += gridRect.y / gridSize;\n              seriesModel.layoutInstance.ondraw(item[0], item[1], item[2], e.detail.drawn);\n            }\n          }\n\n          canvas.addEventListener('wordclouddrawn', onWordCloudDrawn);\n\n          if (seriesModel.layoutInstance) {\n            // Dispose previous\n            seriesModel.layoutInstance.dispose();\n          }\n\n          seriesModel.layoutInstance = {\n            ondraw: null,\n            dispose: function dispose() {\n              canvas.removeEventListener('wordclouddrawn', onWordCloudDrawn); // Abort\n\n              canvas.addEventListener('wordclouddrawn', function (e) {\n                // Prevent default to cancle the event and stop the loop\n                e.preventDefault();\n              });\n            }\n          };\n        });\n      });\n      echarts.registerPreprocessor(function (option) {\n        var series = (option || {}).series;\n        !echarts.util.isArray(series) && (series = series ? [series] : []);\n        var compats = ['shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY'];\n        echarts.util.each(series, function (seriesItem) {\n          if (seriesItem && seriesItem.type === 'wordCloud') {\n            var textStyle = seriesItem.textStyle || {};\n            compatTextStyle(textStyle.normal);\n            compatTextStyle(textStyle.emphasis);\n          }\n        });\n\n        function compatTextStyle(textStyle) {\n          textStyle && echarts.util.each(compats, function (key) {\n            if (textStyle.hasOwnProperty(key)) {\n              textStyle['text' + echarts.format.capitalFirst(key)] = textStyle[key];\n            }\n          });\n        }\n      });\n      /***/\n    },\n    /* 27 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var zrUtil = __webpack_require__(0);\n\n      var BoundingRect = __webpack_require__(3);\n\n      var _number = __webpack_require__(9);\n\n      var parsePercent = _number.parsePercent;\n\n      var formatUtil = __webpack_require__(13); // Layout helpers for each component positioning\n\n\n      var each = zrUtil.each;\n      /**\n       * @public\n       */\n\n      var LOCATION_PARAMS = ['left', 'right', 'top', 'bottom', 'width', 'height'];\n      /**\n       * @public\n       */\n\n      var HV_NAMES = [['width', 'left', 'right'], ['height', 'top', 'bottom']];\n\n      function boxLayout(orient, group, gap, maxWidth, maxHeight) {\n        var x = 0;\n        var y = 0;\n\n        if (maxWidth == null) {\n          maxWidth = Infinity;\n        }\n\n        if (maxHeight == null) {\n          maxHeight = Infinity;\n        }\n\n        var currentLineMaxSize = 0;\n        group.eachChild(function (child, idx) {\n          var position = child.position;\n          var rect = child.getBoundingRect();\n          var nextChild = group.childAt(idx + 1);\n          var nextChildRect = nextChild && nextChild.getBoundingRect();\n          var nextX;\n          var nextY;\n\n          if (orient === 'horizontal') {\n            var moveX = rect.width + (nextChildRect ? -nextChildRect.x + rect.x : 0);\n            nextX = x + moveX; // Wrap when width exceeds maxWidth or meet a `newline` group\n            // FIXME compare before adding gap?\n\n            if (nextX > maxWidth || child.newline) {\n              x = 0;\n              nextX = moveX;\n              y += currentLineMaxSize + gap;\n              currentLineMaxSize = rect.height;\n            } else {\n              // FIXME: consider rect.y is not `0`?\n              currentLineMaxSize = Math.max(currentLineMaxSize, rect.height);\n            }\n          } else {\n            var moveY = rect.height + (nextChildRect ? -nextChildRect.y + rect.y : 0);\n            nextY = y + moveY; // Wrap when width exceeds maxHeight or meet a `newline` group\n\n            if (nextY > maxHeight || child.newline) {\n              x += currentLineMaxSize + gap;\n              y = 0;\n              nextY = moveY;\n              currentLineMaxSize = rect.width;\n            } else {\n              currentLineMaxSize = Math.max(currentLineMaxSize, rect.width);\n            }\n          }\n\n          if (child.newline) {\n            return;\n          }\n\n          position[0] = x;\n          position[1] = y;\n          orient === 'horizontal' ? x = nextX + gap : y = nextY + gap;\n        });\n      }\n      /**\n       * VBox or HBox layouting\n       * @param {string} orient\n       * @param {module:zrender/container/Group} group\n       * @param {number} gap\n       * @param {number} [width=Infinity]\n       * @param {number} [height=Infinity]\n       */\n\n\n      var box = boxLayout;\n      /**\n       * VBox layouting\n       * @param {module:zrender/container/Group} group\n       * @param {number} gap\n       * @param {number} [width=Infinity]\n       * @param {number} [height=Infinity]\n       */\n\n      var vbox = zrUtil.curry(boxLayout, 'vertical');\n      /**\n       * HBox layouting\n       * @param {module:zrender/container/Group} group\n       * @param {number} gap\n       * @param {number} [width=Infinity]\n       * @param {number} [height=Infinity]\n       */\n\n      var hbox = zrUtil.curry(boxLayout, 'horizontal');\n      /**\n       * If x or x2 is not specified or 'center' 'left' 'right',\n       * the width would be as long as possible.\n       * If y or y2 is not specified or 'middle' 'top' 'bottom',\n       * the height would be as long as possible.\n       *\n       * @param {Object} positionInfo\n       * @param {number|string} [positionInfo.x]\n       * @param {number|string} [positionInfo.y]\n       * @param {number|string} [positionInfo.x2]\n       * @param {number|string} [positionInfo.y2]\n       * @param {Object} containerRect {width, height}\n       * @param {string|number} margin\n       * @return {Object} {width, height}\n       */\n\n      function getAvailableSize(positionInfo, containerRect, margin) {\n        var containerWidth = containerRect.width;\n        var containerHeight = containerRect.height;\n        var x = parsePercent(positionInfo.x, containerWidth);\n        var y = parsePercent(positionInfo.y, containerHeight);\n        var x2 = parsePercent(positionInfo.x2, containerWidth);\n        var y2 = parsePercent(positionInfo.y2, containerHeight);\n        (isNaN(x) || isNaN(parseFloat(positionInfo.x))) && (x = 0);\n        (isNaN(x2) || isNaN(parseFloat(positionInfo.x2))) && (x2 = containerWidth);\n        (isNaN(y) || isNaN(parseFloat(positionInfo.y))) && (y = 0);\n        (isNaN(y2) || isNaN(parseFloat(positionInfo.y2))) && (y2 = containerHeight);\n        margin = formatUtil.normalizeCssArray(margin || 0);\n        return {\n          width: Math.max(x2 - x - margin[1] - margin[3], 0),\n          height: Math.max(y2 - y - margin[0] - margin[2], 0)\n        };\n      }\n      /**\n       * Parse position info.\n       *\n       * @param {Object} positionInfo\n       * @param {number|string} [positionInfo.left]\n       * @param {number|string} [positionInfo.top]\n       * @param {number|string} [positionInfo.right]\n       * @param {number|string} [positionInfo.bottom]\n       * @param {number|string} [positionInfo.width]\n       * @param {number|string} [positionInfo.height]\n       * @param {number|string} [positionInfo.aspect] Aspect is width / height\n       * @param {Object} containerRect\n       * @param {string|number} [margin]\n       *\n       * @return {module:zrender/core/BoundingRect}\n       */\n\n\n      function getLayoutRect(positionInfo, containerRect, margin) {\n        margin = formatUtil.normalizeCssArray(margin || 0);\n        var containerWidth = containerRect.width;\n        var containerHeight = containerRect.height;\n        var left = parsePercent(positionInfo.left, containerWidth);\n        var top = parsePercent(positionInfo.top, containerHeight);\n        var right = parsePercent(positionInfo.right, containerWidth);\n        var bottom = parsePercent(positionInfo.bottom, containerHeight);\n        var width = parsePercent(positionInfo.width, containerWidth);\n        var height = parsePercent(positionInfo.height, containerHeight);\n        var verticalMargin = margin[2] + margin[0];\n        var horizontalMargin = margin[1] + margin[3];\n        var aspect = positionInfo.aspect; // If width is not specified, calculate width from left and right\n\n        if (isNaN(width)) {\n          width = containerWidth - right - horizontalMargin - left;\n        }\n\n        if (isNaN(height)) {\n          height = containerHeight - bottom - verticalMargin - top;\n        }\n\n        if (aspect != null) {\n          // If width and height are not given\n          // 1. Graph should not exceeds the container\n          // 2. Aspect must be keeped\n          // 3. Graph should take the space as more as possible\n          // FIXME\n          // Margin is not considered, because there is no case that both\n          // using margin and aspect so far.\n          if (isNaN(width) && isNaN(height)) {\n            if (aspect > containerWidth / containerHeight) {\n              width = containerWidth * 0.8;\n            } else {\n              height = containerHeight * 0.8;\n            }\n          } // Calculate width or height with given aspect\n\n\n          if (isNaN(width)) {\n            width = aspect * height;\n          }\n\n          if (isNaN(height)) {\n            height = width / aspect;\n          }\n        } // If left is not specified, calculate left from right and width\n\n\n        if (isNaN(left)) {\n          left = containerWidth - right - width - horizontalMargin;\n        }\n\n        if (isNaN(top)) {\n          top = containerHeight - bottom - height - verticalMargin;\n        } // Align left and top\n\n\n        switch (positionInfo.left || positionInfo.right) {\n          case 'center':\n            left = containerWidth / 2 - width / 2 - margin[3];\n            break;\n\n          case 'right':\n            left = containerWidth - width - horizontalMargin;\n            break;\n        }\n\n        switch (positionInfo.top || positionInfo.bottom) {\n          case 'middle':\n          case 'center':\n            top = containerHeight / 2 - height / 2 - margin[0];\n            break;\n\n          case 'bottom':\n            top = containerHeight - height - verticalMargin;\n            break;\n        } // If something is wrong and left, top, width, height are calculated as NaN\n\n\n        left = left || 0;\n        top = top || 0;\n\n        if (isNaN(width)) {\n          // Width may be NaN if only one value is given except width\n          width = containerWidth - horizontalMargin - left - (right || 0);\n        }\n\n        if (isNaN(height)) {\n          // Height may be NaN if only one value is given except height\n          height = containerHeight - verticalMargin - top - (bottom || 0);\n        }\n\n        var rect = new BoundingRect(left + margin[3], top + margin[0], width, height);\n        rect.margin = margin;\n        return rect;\n      }\n      /**\n       * Position a zr element in viewport\n       *  Group position is specified by either\n       *  {left, top}, {right, bottom}\n       *  If all properties exists, right and bottom will be igonred.\n       *\n       * Logic:\n       *     1. Scale (against origin point in parent coord)\n       *     2. Rotate (against origin point in parent coord)\n       *     3. Traslate (with el.position by this method)\n       * So this method only fixes the last step 'Traslate', which does not affect\n       * scaling and rotating.\n       *\n       * If be called repeatly with the same input el, the same result will be gotten.\n       *\n       * @param {module:zrender/Element} el Should have `getBoundingRect` method.\n       * @param {Object} positionInfo\n       * @param {number|string} [positionInfo.left]\n       * @param {number|string} [positionInfo.top]\n       * @param {number|string} [positionInfo.right]\n       * @param {number|string} [positionInfo.bottom]\n       * @param {number|string} [positionInfo.width] Only for opt.boundingModel: 'raw'\n       * @param {number|string} [positionInfo.height] Only for opt.boundingModel: 'raw'\n       * @param {Object} containerRect\n       * @param {string|number} margin\n       * @param {Object} [opt]\n       * @param {Array.<number>} [opt.hv=[1,1]] Only horizontal or only vertical.\n       * @param {Array.<number>} [opt.boundingMode='all']\n       *        Specify how to calculate boundingRect when locating.\n       *        'all': Position the boundingRect that is transformed and uioned\n       *               both itself and its descendants.\n       *               This mode simplies confine the elements in the bounding\n       *               of their container (e.g., using 'right: 0').\n       *        'raw': Position the boundingRect that is not transformed and only itself.\n       *               This mode is useful when you want a element can overflow its\n       *               container. (Consider a rotated circle needs to be located in a corner.)\n       *               In this mode positionInfo.width/height can only be number.\n       */\n\n\n      function positionElement(el, positionInfo, containerRect, margin, opt) {\n        var h = !opt || !opt.hv || opt.hv[0];\n        var v = !opt || !opt.hv || opt.hv[1];\n        var boundingMode = opt && opt.boundingMode || 'all';\n\n        if (!h && !v) {\n          return;\n        }\n\n        var rect;\n\n        if (boundingMode === 'raw') {\n          rect = el.type === 'group' ? new BoundingRect(0, 0, +positionInfo.width || 0, +positionInfo.height || 0) : el.getBoundingRect();\n        } else {\n          rect = el.getBoundingRect();\n\n          if (el.needLocalTransform()) {\n            var transform = el.getLocalTransform(); // Notice: raw rect may be inner object of el,\n            // which should not be modified.\n\n            rect = rect.clone();\n            rect.applyTransform(transform);\n          }\n        } // The real width and height can not be specified but calculated by the given el.\n\n\n        positionInfo = getLayoutRect(zrUtil.defaults({\n          width: rect.width,\n          height: rect.height\n        }, positionInfo), containerRect, margin); // Because 'tranlate' is the last step in transform\n        // (see zrender/core/Transformable#getLocalTransfrom),\n        // we can just only modify el.position to get final result.\n\n        var elPos = el.position;\n        var dx = h ? positionInfo.x - rect.x : 0;\n        var dy = v ? positionInfo.y - rect.y : 0;\n        el.attr('position', boundingMode === 'raw' ? [dx, dy] : [elPos[0] + dx, elPos[1] + dy]);\n      }\n      /**\n       * @param {Object} option Contains some of the properties in HV_NAMES.\n       * @param {number} hvIdx 0: horizontal; 1: vertical.\n       */\n\n\n      function sizeCalculable(option, hvIdx) {\n        return option[HV_NAMES[hvIdx][0]] != null || option[HV_NAMES[hvIdx][1]] != null && option[HV_NAMES[hvIdx][2]] != null;\n      }\n      /**\n       * Consider Case:\n       * When defulat option has {left: 0, width: 100}, and we set {right: 0}\n       * through setOption or media query, using normal zrUtil.merge will cause\n       * {right: 0} does not take effect.\n       *\n       * @example\n       * ComponentModel.extend({\n       *     init: function () {\n       *         ...\n       *         var inputPositionParams = layout.getLayoutParams(option);\n       *         this.mergeOption(inputPositionParams);\n       *     },\n       *     mergeOption: function (newOption) {\n       *         newOption && zrUtil.merge(thisOption, newOption, true);\n       *         layout.mergeLayoutParam(thisOption, newOption);\n       *     }\n       * });\n       *\n       * @param {Object} targetOption\n       * @param {Object} newOption\n       * @param {Object|string} [opt]\n       * @param {boolean|Array.<boolean>} [opt.ignoreSize=false] Used for the components\n       *  that width (or height) should not be calculated by left and right (or top and bottom).\n       */\n\n\n      function mergeLayoutParam(targetOption, newOption, opt) {\n        !zrUtil.isObject(opt) && (opt = {});\n        var ignoreSize = opt.ignoreSize;\n        !zrUtil.isArray(ignoreSize) && (ignoreSize = [ignoreSize, ignoreSize]);\n        var hResult = merge(HV_NAMES[0], 0);\n        var vResult = merge(HV_NAMES[1], 1);\n        copy(HV_NAMES[0], targetOption, hResult);\n        copy(HV_NAMES[1], targetOption, vResult);\n\n        function merge(names, hvIdx) {\n          var newParams = {};\n          var newValueCount = 0;\n          var merged = {};\n          var mergedValueCount = 0;\n          var enoughParamNumber = 2;\n          each(names, function (name) {\n            merged[name] = targetOption[name];\n          });\n          each(names, function (name) {\n            // Consider case: newOption.width is null, which is\n            // set by user for removing width setting.\n            hasProp(newOption, name) && (newParams[name] = merged[name] = newOption[name]);\n            hasValue(newParams, name) && newValueCount++;\n            hasValue(merged, name) && mergedValueCount++;\n          });\n\n          if (ignoreSize[hvIdx]) {\n            // Only one of left/right is premitted to exist.\n            if (hasValue(newOption, names[1])) {\n              merged[names[2]] = null;\n            } else if (hasValue(newOption, names[2])) {\n              merged[names[1]] = null;\n            }\n\n            return merged;\n          } // Case: newOption: {width: ..., right: ...},\n          // or targetOption: {right: ...} and newOption: {width: ...},\n          // There is no conflict when merged only has params count\n          // little than enoughParamNumber.\n\n\n          if (mergedValueCount === enoughParamNumber || !newValueCount) {\n            return merged;\n          } // Case: newOption: {width: ..., right: ...},\n          // Than we can make sure user only want those two, and ignore\n          // all origin params in targetOption.\n          else if (newValueCount >= enoughParamNumber) {\n              return newParams;\n            } else {\n              // Chose another param from targetOption by priority.\n              for (var i = 0; i < names.length; i++) {\n                var name = names[i];\n\n                if (!hasProp(newParams, name) && hasProp(targetOption, name)) {\n                  newParams[name] = targetOption[name];\n                  break;\n                }\n              }\n\n              return newParams;\n            }\n        }\n\n        function hasProp(obj, name) {\n          return obj.hasOwnProperty(name);\n        }\n\n        function hasValue(obj, name) {\n          return obj[name] != null && obj[name] !== 'auto';\n        }\n\n        function copy(names, target, source) {\n          each(names, function (name) {\n            target[name] = source[name];\n          });\n        }\n      }\n      /**\n       * Retrieve 'left', 'right', 'top', 'bottom', 'width', 'height' from object.\n       * @param {Object} source\n       * @return {Object} Result contains those props.\n       */\n\n\n      function getLayoutParams(source) {\n        return copyLayoutParams({}, source);\n      }\n      /**\n       * Retrieve 'left', 'right', 'top', 'bottom', 'width', 'height' from object.\n       * @param {Object} source\n       * @return {Object} Result contains those props.\n       */\n\n\n      function copyLayoutParams(target, source) {\n        source && target && each(LOCATION_PARAMS, function (name) {\n          source.hasOwnProperty(name) && (target[name] = source[name]);\n        });\n        return target;\n      }\n\n      exports.LOCATION_PARAMS = LOCATION_PARAMS;\n      exports.HV_NAMES = HV_NAMES;\n      exports.box = box;\n      exports.vbox = vbox;\n      exports.hbox = hbox;\n      exports.getAvailableSize = getAvailableSize;\n      exports.getLayoutRect = getLayoutRect;\n      exports.positionElement = positionElement;\n      exports.sizeCalculable = sizeCalculable;\n      exports.mergeLayoutParam = mergeLayoutParam;\n      exports.getLayoutParams = getLayoutParams;\n      exports.copyLayoutParams = copyLayoutParams;\n      /***/\n    },\n    /* 28 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var completeDimensions = __webpack_require__(29);\n\n      var echarts = __webpack_require__(7);\n\n      echarts.extendSeriesModel({\n        type: 'series.wordCloud',\n        visualColorAccessPath: 'textStyle.normal.color',\n        optionUpdated: function optionUpdated() {\n          var option = this.option;\n          option.gridSize = Math.max(Math.floor(option.gridSize), 4);\n        },\n        getInitialData: function getInitialData(option, ecModel) {\n          var dimensions = completeDimensions(['value'], option.data);\n          var list = new echarts.List(dimensions, this);\n          list.initData(option.data);\n          return list;\n        },\n        // Most of options are from https://github.com/timdream/wordcloud2.js/blob/gh-pages/API.md\n        defaultOption: {\n          maskImage: null,\n          // Shape can be 'circle', 'cardioid', 'diamond', 'triangle-forward', 'triangle', 'pentagon', 'star'\n          shape: 'circle',\n          left: 'center',\n          top: 'center',\n          width: '70%',\n          height: '80%',\n          sizeRange: [12, 60],\n          rotationRange: [-90, 90],\n          rotationStep: 45,\n          gridSize: 8,\n          drawOutOfBound: false,\n          textStyle: {\n            normal: {\n              fontWeight: 'normal'\n            }\n          }\n        }\n      });\n      /***/\n    },\n    /* 29 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var zrUtil = __webpack_require__(0);\n\n      var _model = __webpack_require__(30);\n\n      var normalizeToArray = _model.normalizeToArray;\n      /**\n       * Complete dimensions by data (guess dimension).\n       */\n\n      var each = zrUtil.each;\n      var isString = zrUtil.isString;\n      var defaults = zrUtil.defaults;\n      var OTHER_DIMS = {\n        tooltip: 1,\n        label: 1,\n        itemName: 1\n      };\n      /**\n       * Complete the dimensions array, by user defined `dimension` and `encode`,\n       * and guessing from the data structure.\n       * If no 'value' dimension specified, the first no-named dimension will be\n       * named as 'value'.\n       *\n       * @param {Array.<string>} sysDims Necessary dimensions, like ['x', 'y'], which\n       *      provides not only dim template, but also default order.\n       *      `name` of each item provides default coord name.\n       *      [{dimsDef: []}, ...] can be specified to give names.\n       * @param {Array} data Data list. [[1, 2, 3], [2, 3, 4]].\n       * @param {Object} [opt]\n       * @param {Array.<Object|string>} [opt.dimsDef] option.series.dimensions User defined dimensions\n       *      For example: ['asdf', {name, type}, ...].\n       * @param {Object} [opt.encodeDef] option.series.encode {x: 2, y: [3, 1], tooltip: [1, 2], label: 3}\n       * @param {string} [opt.extraPrefix] Prefix of name when filling the left dimensions.\n       * @param {string} [opt.extraFromZero] If specified, extra dim names will be:\n       *                      extraPrefix + 0, extraPrefix + extraBaseIndex + 1 ...\n       *                      If not specified, extra dim names will be:\n       *                      extraPrefix, extraPrefix + 0, extraPrefix + 1 ...\n       * @param {number} [opt.dimCount] If not specified, guess by the first data item.\n       * @return {Array.<Object>} [{\n       *      name: string mandatory,\n       *      coordDim: string mandatory,\n       *      coordDimIndex: number mandatory,\n       *      type: string optional,\n       *      tooltipName: string optional,\n       *      otherDims: {\n       *          tooltip: number optional,\n       *          label: number optional\n       *      },\n       *      isExtraCoord: boolean true or undefined.\n       *      other props ...\n       * }]\n       */\n\n      function completeDimensions(sysDims, data, opt) {\n        data = data || [];\n        opt = opt || {};\n        sysDims = (sysDims || []).slice();\n        var dimsDef = (opt.dimsDef || []).slice();\n        var encodeDef = zrUtil.createHashMap(opt.encodeDef);\n        var dataDimNameMap = zrUtil.createHashMap();\n        var coordDimNameMap = zrUtil.createHashMap(); // var valueCandidate;\n\n        var result = [];\n        var dimCount = opt.dimCount;\n\n        if (dimCount == null) {\n          var value0 = retrieveValue(data[0]);\n          dimCount = Math.max(zrUtil.isArray(value0) && value0.length || 1, sysDims.length, dimsDef.length);\n          each(sysDims, function (sysDimItem) {\n            var sysDimItemDimsDef = sysDimItem.dimsDef;\n            sysDimItemDimsDef && (dimCount = Math.max(dimCount, sysDimItemDimsDef.length));\n          });\n        } // Apply user defined dims (`name` and `type`) and init result.\n\n\n        for (var i = 0; i < dimCount; i++) {\n          var dimDefItem = isString(dimsDef[i]) ? {\n            name: dimsDef[i]\n          } : dimsDef[i] || {};\n          var userDimName = dimDefItem.name;\n          var resultItem = result[i] = {\n            otherDims: {}\n          }; // Name will be applied later for avoiding duplication.\n\n          if (userDimName != null && dataDimNameMap.get(userDimName) == null) {\n            // Only if `series.dimensions` is defined in option, tooltipName\n            // will be set, and dimension will be diplayed vertically in\n            // tooltip by default.\n            resultItem.name = resultItem.tooltipName = userDimName;\n            dataDimNameMap.set(userDimName, i);\n          }\n\n          dimDefItem.type != null && (resultItem.type = dimDefItem.type);\n        } // Set `coordDim` and `coordDimIndex` by `encodeDef` and normalize `encodeDef`.\n\n\n        encodeDef.each(function (dataDims, coordDim) {\n          dataDims = encodeDef.set(coordDim, normalizeToArray(dataDims).slice());\n          each(dataDims, function (resultDimIdx, coordDimIndex) {\n            // The input resultDimIdx can be dim name or index.\n            isString(resultDimIdx) && (resultDimIdx = dataDimNameMap.get(resultDimIdx));\n\n            if (resultDimIdx != null && resultDimIdx < dimCount) {\n              dataDims[coordDimIndex] = resultDimIdx;\n              applyDim(result[resultDimIdx], coordDim, coordDimIndex);\n            }\n          });\n        }); // Apply templetes and default order from `sysDims`.\n\n        var availDimIdx = 0;\n        each(sysDims, function (sysDimItem, sysDimIndex) {\n          var coordDim;\n          var sysDimItem;\n          var sysDimItemDimsDef;\n          var sysDimItemOtherDims;\n\n          if (isString(sysDimItem)) {\n            coordDim = sysDimItem;\n            sysDimItem = {};\n          } else {\n            coordDim = sysDimItem.name;\n            sysDimItem = zrUtil.clone(sysDimItem); // `coordDimIndex` should not be set directly.\n\n            sysDimItemDimsDef = sysDimItem.dimsDef;\n            sysDimItemOtherDims = sysDimItem.otherDims;\n            sysDimItem.name = sysDimItem.coordDim = sysDimItem.coordDimIndex = sysDimItem.dimsDef = sysDimItem.otherDims = null;\n          }\n\n          var dataDims = normalizeToArray(encodeDef.get(coordDim)); // dimensions provides default dim sequences.\n\n          if (!dataDims.length) {\n            for (var i = 0; i < (sysDimItemDimsDef && sysDimItemDimsDef.length || 1); i++) {\n              while (availDimIdx < result.length && result[availDimIdx].coordDim != null) {\n                availDimIdx++;\n              }\n\n              availDimIdx < result.length && dataDims.push(availDimIdx++);\n            }\n          } // Apply templates.\n\n\n          each(dataDims, function (resultDimIdx, coordDimIndex) {\n            var resultItem = result[resultDimIdx];\n            applyDim(defaults(resultItem, sysDimItem), coordDim, coordDimIndex);\n\n            if (resultItem.name == null && sysDimItemDimsDef) {\n              resultItem.name = resultItem.tooltipName = sysDimItemDimsDef[coordDimIndex];\n            }\n\n            sysDimItemOtherDims && defaults(resultItem.otherDims, sysDimItemOtherDims);\n          });\n        }); // Make sure the first extra dim is 'value'.\n\n        var extra = opt.extraPrefix || 'value'; // Set dim `name` and other `coordDim` and other props.\n\n        for (var resultDimIdx = 0; resultDimIdx < dimCount; resultDimIdx++) {\n          var resultItem = result[resultDimIdx] = result[resultDimIdx] || {};\n          var coordDim = resultItem.coordDim;\n          coordDim == null && (resultItem.coordDim = genName(extra, coordDimNameMap, opt.extraFromZero), resultItem.coordDimIndex = 0, resultItem.isExtraCoord = true);\n          resultItem.name == null && (resultItem.name = genName(resultItem.coordDim, dataDimNameMap));\n          resultItem.type == null && guessOrdinal(data, resultDimIdx) && (resultItem.type = 'ordinal');\n        }\n\n        return result;\n\n        function applyDim(resultItem, coordDim, coordDimIndex) {\n          if (OTHER_DIMS[coordDim]) {\n            resultItem.otherDims[coordDim] = coordDimIndex;\n          } else {\n            resultItem.coordDim = coordDim;\n            resultItem.coordDimIndex = coordDimIndex;\n            coordDimNameMap.set(coordDim, true);\n          }\n        }\n\n        function genName(name, map, fromZero) {\n          if (fromZero || map.get(name) != null) {\n            var i = 0;\n\n            while (map.get(name + i) != null) {\n              i++;\n            }\n\n            name += i;\n          }\n\n          map.set(name, true);\n          return name;\n        }\n      } // The rule should not be complex, otherwise user might not\n      // be able to known where the data is wrong.\n\n\n      var guessOrdinal = completeDimensions.guessOrdinal = function (data, dimIndex) {\n        for (var i = 0, len = data.length; i < len; i++) {\n          var value = retrieveValue(data[i]);\n\n          if (!zrUtil.isArray(value)) {\n            return false;\n          }\n\n          var value = value[dimIndex]; // Consider usage convenience, '1', '2' will be treated as \"number\".\n          // `isFinit('')` get `true`.\n\n          if (value != null && isFinite(value) && value !== '') {\n            return false;\n          } else if (isString(value) && value !== '-') {\n            return true;\n          }\n        }\n\n        return false;\n      };\n\n      function retrieveValue(o) {\n        return zrUtil.isArray(o) ? o : zrUtil.isObject(o) ? o.value : o;\n      }\n\n      var _default = completeDimensions;\n      module.exports = _default;\n      /***/\n    },\n    /* 30 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var zrUtil = __webpack_require__(0);\n\n      var formatUtil = __webpack_require__(13);\n\n      var nubmerUtil = __webpack_require__(9);\n\n      var Model = __webpack_require__(31);\n\n      var each = zrUtil.each;\n      var isObject = zrUtil.isObject;\n      /**\n       * If value is not array, then translate it to array.\n       * @param  {*} value\n       * @return {Array} [value] or value\n       */\n\n      function normalizeToArray(value) {\n        return value instanceof Array ? value : value == null ? [] : [value];\n      }\n      /**\n       * Sync default option between normal and emphasis like `position` and `show`\n       * In case some one will write code like\n       *     label: {\n       *         normal: {\n       *             show: false,\n       *             position: 'outside',\n       *             fontSize: 18\n       *         },\n       *         emphasis: {\n       *             show: true\n       *         }\n       *     }\n       * @param {Object} opt\n       * @param {Array.<string>} subOpts\n       */\n\n\n      function defaultEmphasis(opt, subOpts) {\n        if (opt) {\n          var emphasisOpt = opt.emphasis = opt.emphasis || {};\n          var normalOpt = opt.normal = opt.normal || {}; // Default emphasis option from normal\n\n          for (var i = 0, len = subOpts.length; i < len; i++) {\n            var subOptName = subOpts[i];\n\n            if (!emphasisOpt.hasOwnProperty(subOptName) && normalOpt.hasOwnProperty(subOptName)) {\n              emphasisOpt[subOptName] = normalOpt[subOptName];\n            }\n          }\n        }\n      }\n\n      var TEXT_STYLE_OPTIONS = ['fontStyle', 'fontWeight', 'fontSize', 'fontFamily', 'rich', 'tag', 'color', 'textBorderColor', 'textBorderWidth', 'width', 'height', 'lineHeight', 'align', 'verticalAlign', 'baseline', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY', 'textShadowColor', 'textShadowBlur', 'textShadowOffsetX', 'textShadowOffsetY', 'backgroundColor', 'borderColor', 'borderWidth', 'borderRadius', 'padding']; // modelUtil.LABEL_OPTIONS = modelUtil.TEXT_STYLE_OPTIONS.concat([\n      //     'position', 'offset', 'rotate', 'origin', 'show', 'distance', 'formatter',\n      //     'fontStyle', 'fontWeight', 'fontSize', 'fontFamily',\n      //     // FIXME: deprecated, check and remove it.\n      //     'textStyle'\n      // ]);\n\n      /**\n       * data could be [12, 2323, {value: 223}, [1221, 23], {value: [2, 23]}]\n       * This helper method retieves value from data.\n       * @param {string|number|Date|Array|Object} dataItem\n       * @return {number|string|Date|Array.<number|string|Date>}\n       */\n\n      function getDataItemValue(dataItem) {\n        // Performance sensitive.\n        return dataItem && (dataItem.value == null ? dataItem : dataItem.value);\n      }\n      /**\n       * data could be [12, 2323, {value: 223}, [1221, 23], {value: [2, 23]}]\n       * This helper method determine if dataItem has extra option besides value\n       * @param {string|number|Date|Array|Object} dataItem\n       */\n\n\n      function isDataItemOption(dataItem) {\n        return isObject(dataItem) && !(dataItem instanceof Array); // // markLine data can be array\n        // && !(dataItem[0] && isObject(dataItem[0]) && !(dataItem[0] instanceof Array));\n      }\n      /**\n       * This helper method convert value in data.\n       * @param {string|number|Date} value\n       * @param {Object|string} [dimInfo] If string (like 'x'), dimType defaults 'number'.\n       */\n\n\n      function converDataValue(value, dimInfo) {\n        // Performance sensitive.\n        var dimType = dimInfo && dimInfo.type;\n\n        if (dimType === 'ordinal') {\n          return value;\n        }\n\n        if (dimType === 'time' // spead up when using timestamp\n        && typeof value !== 'number' && value != null && value !== '-') {\n          value = +nubmerUtil.parseDate(value);\n        } // dimType defaults 'number'.\n        // If dimType is not ordinal and value is null or undefined or NaN or '-',\n        // parse to NaN.\n\n\n        return value == null || value === '' ? NaN : +value; // If string (like '-'), using '+' parse to NaN\n      }\n      /**\n       * Create a model proxy to be used in tooltip for edge data, markLine data, markPoint data.\n       * @param {module:echarts/data/List} data\n       * @param {Object} opt\n       * @param {string} [opt.seriesIndex]\n       * @param {Object} [opt.name]\n       * @param {Object} [opt.mainType]\n       * @param {Object} [opt.subType]\n       */\n\n\n      function createDataFormatModel(data, opt) {\n        var model = new Model();\n        zrUtil.mixin(model, dataFormatMixin);\n        model.seriesIndex = opt.seriesIndex;\n        model.name = opt.name || '';\n        model.mainType = opt.mainType;\n        model.subType = opt.subType;\n\n        model.getData = function () {\n          return data;\n        };\n\n        return model;\n      } // PENDING A little ugly\n\n\n      var dataFormatMixin = {\n        /**\n         * Get params for formatter\n         * @param {number} dataIndex\n         * @param {string} [dataType]\n         * @return {Object}\n         */\n        getDataParams: function getDataParams(dataIndex, dataType) {\n          var data = this.getData(dataType);\n          var rawValue = this.getRawValue(dataIndex, dataType);\n          var rawDataIndex = data.getRawIndex(dataIndex);\n          var name = data.getName(dataIndex, true);\n          var itemOpt = data.getRawDataItem(dataIndex);\n          var color = data.getItemVisual(dataIndex, 'color');\n          return {\n            componentType: this.mainType,\n            componentSubType: this.subType,\n            seriesType: this.mainType === 'series' ? this.subType : null,\n            seriesIndex: this.seriesIndex,\n            seriesId: this.id,\n            seriesName: this.name,\n            name: name,\n            dataIndex: rawDataIndex,\n            data: itemOpt,\n            dataType: dataType,\n            value: rawValue,\n            color: color,\n            marker: formatUtil.getTooltipMarker(color),\n            // Param name list for mapping `a`, `b`, `c`, `d`, `e`\n            $vars: ['seriesName', 'name', 'value']\n          };\n        },\n\n        /**\n         * Format label\n         * @param {number} dataIndex\n         * @param {string} [status='normal'] 'normal' or 'emphasis'\n         * @param {string} [dataType]\n         * @param {number} [dimIndex]\n         * @param {string} [labelProp='label']\n         * @return {string}\n         */\n        getFormattedLabel: function getFormattedLabel(dataIndex, status, dataType, dimIndex, labelProp) {\n          status = status || 'normal';\n          var data = this.getData(dataType);\n          var itemModel = data.getItemModel(dataIndex);\n          var params = this.getDataParams(dataIndex, dataType);\n\n          if (dimIndex != null && params.value instanceof Array) {\n            params.value = params.value[dimIndex];\n          }\n\n          var formatter = itemModel.get([labelProp || 'label', status, 'formatter']);\n\n          if (typeof formatter === 'function') {\n            params.status = status;\n            return formatter(params);\n          } else if (typeof formatter === 'string') {\n            return formatUtil.formatTpl(formatter, params);\n          }\n        },\n\n        /**\n         * Get raw value in option\n         * @param {number} idx\n         * @param {string} [dataType]\n         * @return {Object}\n         */\n        getRawValue: function getRawValue(idx, dataType) {\n          var data = this.getData(dataType);\n          var dataItem = data.getRawDataItem(idx);\n\n          if (dataItem != null) {\n            return isObject(dataItem) && !(dataItem instanceof Array) ? dataItem.value : dataItem;\n          }\n        },\n\n        /**\n         * Should be implemented.\n         * @param {number} dataIndex\n         * @param {boolean} [multipleSeries=false]\n         * @param {number} [dataType]\n         * @return {string} tooltip string\n         */\n        formatTooltip: zrUtil.noop\n      };\n      /**\n       * Mapping to exists for merge.\n       *\n       * @public\n       * @param {Array.<Object>|Array.<module:echarts/model/Component>} exists\n       * @param {Object|Array.<Object>} newCptOptions\n       * @return {Array.<Object>} Result, like [{exist: ..., option: ...}, {}],\n       *                          index of which is the same as exists.\n       */\n\n      function mappingToExists(exists, newCptOptions) {\n        // Mapping by the order by original option (but not order of\n        // new option) in merge mode. Because we should ensure\n        // some specified index (like xAxisIndex) is consistent with\n        // original option, which is easy to understand, espatially in\n        // media query. And in most case, merge option is used to\n        // update partial option but not be expected to change order.\n        newCptOptions = (newCptOptions || []).slice();\n        var result = zrUtil.map(exists || [], function (obj, index) {\n          return {\n            exist: obj\n          };\n        }); // Mapping by id or name if specified.\n\n        each(newCptOptions, function (cptOption, index) {\n          if (!isObject(cptOption)) {\n            return;\n          } // id has highest priority.\n\n\n          for (var i = 0; i < result.length; i++) {\n            if (!result[i].option // Consider name: two map to one.\n            && cptOption.id != null && result[i].exist.id === cptOption.id + '') {\n              result[i].option = cptOption;\n              newCptOptions[index] = null;\n              return;\n            }\n          }\n\n          for (var i = 0; i < result.length; i++) {\n            var exist = result[i].exist;\n\n            if (!result[i].option // Consider name: two map to one.\n            // Can not match when both ids exist but different.\n            && (exist.id == null || cptOption.id == null) && cptOption.name != null && !isIdInner(cptOption) && !isIdInner(exist) && exist.name === cptOption.name + '') {\n              result[i].option = cptOption;\n              newCptOptions[index] = null;\n              return;\n            }\n          }\n        }); // Otherwise mapping by index.\n\n        each(newCptOptions, function (cptOption, index) {\n          if (!isObject(cptOption)) {\n            return;\n          }\n\n          var i = 0;\n\n          for (; i < result.length; i++) {\n            var exist = result[i].exist;\n\n            if (!result[i].option // Existing model that already has id should be able to\n            // mapped to (because after mapping performed model may\n            // be assigned with a id, whish should not affect next\n            // mapping), except those has inner id.\n            && !isIdInner(exist) // Caution:\n            // Do not overwrite id. But name can be overwritten,\n            // because axis use name as 'show label text'.\n            // 'exist' always has id and name and we dont\n            // need to check it.\n            && cptOption.id == null) {\n              result[i].option = cptOption;\n              break;\n            }\n          }\n\n          if (i >= result.length) {\n            result.push({\n              option: cptOption\n            });\n          }\n        });\n        return result;\n      }\n      /**\n       * Make id and name for mapping result (result of mappingToExists)\n       * into `keyInfo` field.\n       *\n       * @public\n       * @param {Array.<Object>} Result, like [{exist: ..., option: ...}, {}],\n       *                          which order is the same as exists.\n       * @return {Array.<Object>} The input.\n       */\n\n\n      function makeIdAndName(mapResult) {\n        // We use this id to hash component models and view instances\n        // in echarts. id can be specified by user, or auto generated.\n        // The id generation rule ensures new view instance are able\n        // to mapped to old instance when setOption are called in\n        // no-merge mode. So we generate model id by name and plus\n        // type in view id.\n        // name can be duplicated among components, which is convenient\n        // to specify multi components (like series) by one name.\n        // Ensure that each id is distinct.\n        var idMap = zrUtil.createHashMap();\n        each(mapResult, function (item, index) {\n          var existCpt = item.exist;\n          existCpt && idMap.set(existCpt.id, item);\n        });\n        each(mapResult, function (item, index) {\n          var opt = item.option;\n          zrUtil.assert(!opt || opt.id == null || !idMap.get(opt.id) || idMap.get(opt.id) === item, 'id duplicates: ' + (opt && opt.id));\n          opt && opt.id != null && idMap.set(opt.id, item);\n          !item.keyInfo && (item.keyInfo = {});\n        }); // Make name and id.\n\n        each(mapResult, function (item, index) {\n          var existCpt = item.exist;\n          var opt = item.option;\n          var keyInfo = item.keyInfo;\n\n          if (!isObject(opt)) {\n            return;\n          } // name can be overwitten. Consider case: axis.name = '20km'.\n          // But id generated by name will not be changed, which affect\n          // only in that case: setOption with 'not merge mode' and view\n          // instance will be recreated, which can be accepted.\n\n\n          keyInfo.name = opt.name != null ? opt.name + '' : existCpt ? existCpt.name : '\\0-'; // name may be displayed on screen, so use '-'.\n\n          if (existCpt) {\n            keyInfo.id = existCpt.id;\n          } else if (opt.id != null) {\n            keyInfo.id = opt.id + '';\n          } else {\n            // Consider this situatoin:\n            //  optionA: [{name: 'a'}, {name: 'a'}, {..}]\n            //  optionB [{..}, {name: 'a'}, {name: 'a'}]\n            // Series with the same name between optionA and optionB\n            // should be mapped.\n            var idNum = 0;\n\n            do {\n              keyInfo.id = '\\0' + keyInfo.name + '\\0' + idNum++;\n            } while (idMap.get(keyInfo.id));\n          }\n\n          idMap.set(keyInfo.id, item);\n        });\n      }\n      /**\n       * @public\n       * @param {Object} cptOption\n       * @return {boolean}\n       */\n\n\n      function isIdInner(cptOption) {\n        return isObject(cptOption) && cptOption.id && (cptOption.id + '').indexOf('\\0_ec_\\0') === 0;\n      }\n      /**\n       * A helper for removing duplicate items between batchA and batchB,\n       * and in themselves, and categorize by series.\n       *\n       * @param {Array.<Object>} batchA Like: [{seriesId: 2, dataIndex: [32, 4, 5]}, ...]\n       * @param {Array.<Object>} batchB Like: [{seriesId: 2, dataIndex: [32, 4, 5]}, ...]\n       * @return {Array.<Array.<Object>, Array.<Object>>} result: [resultBatchA, resultBatchB]\n       */\n\n\n      function compressBatches(batchA, batchB) {\n        var mapA = {};\n        var mapB = {};\n        makeMap(batchA || [], mapA);\n        makeMap(batchB || [], mapB, mapA);\n        return [mapToArray(mapA), mapToArray(mapB)];\n\n        function makeMap(sourceBatch, map, otherMap) {\n          for (var i = 0, len = sourceBatch.length; i < len; i++) {\n            var seriesId = sourceBatch[i].seriesId;\n            var dataIndices = normalizeToArray(sourceBatch[i].dataIndex);\n            var otherDataIndices = otherMap && otherMap[seriesId];\n\n            for (var j = 0, lenj = dataIndices.length; j < lenj; j++) {\n              var dataIndex = dataIndices[j];\n\n              if (otherDataIndices && otherDataIndices[dataIndex]) {\n                otherDataIndices[dataIndex] = null;\n              } else {\n                (map[seriesId] || (map[seriesId] = {}))[dataIndex] = 1;\n              }\n            }\n          }\n        }\n\n        function mapToArray(map, isData) {\n          var result = [];\n\n          for (var i in map) {\n            if (map.hasOwnProperty(i) && map[i] != null) {\n              if (isData) {\n                result.push(+i);\n              } else {\n                var dataIndices = mapToArray(map[i], true);\n                dataIndices.length && result.push({\n                  seriesId: i,\n                  dataIndex: dataIndices\n                });\n              }\n            }\n          }\n\n          return result;\n        }\n      }\n      /**\n       * @param {module:echarts/data/List} data\n       * @param {Object} payload Contains dataIndex (means rawIndex) / dataIndexInside / name\n       *                         each of which can be Array or primary type.\n       * @return {number|Array.<number>} dataIndex If not found, return undefined/null.\n       */\n\n\n      function queryDataIndex(data, payload) {\n        if (payload.dataIndexInside != null) {\n          return payload.dataIndexInside;\n        } else if (payload.dataIndex != null) {\n          return zrUtil.isArray(payload.dataIndex) ? zrUtil.map(payload.dataIndex, function (value) {\n            return data.indexOfRawIndex(value);\n          }) : data.indexOfRawIndex(payload.dataIndex);\n        } else if (payload.name != null) {\n          return zrUtil.isArray(payload.name) ? zrUtil.map(payload.name, function (value) {\n            return data.indexOfName(value);\n          }) : data.indexOfName(payload.name);\n        }\n      }\n      /**\n       * Enable property storage to any host object.\n       * Notice: Serialization is not supported.\n       *\n       * For example:\n       * var get = modelUitl.makeGetter();\n       *\n       * function some(hostObj) {\n       *      get(hostObj)._someProperty = 1212;\n       *      ...\n       * }\n       *\n       * @return {Function}\n       */\n\n\n      var makeGetter = function () {\n        var index = 0;\n        return function () {\n          var key = '\\0__ec_prop_getter_' + index++;\n          return function (hostObj) {\n            return hostObj[key] || (hostObj[key] = {});\n          };\n        };\n      }();\n      /**\n       * @param {module:echarts/model/Global} ecModel\n       * @param {string|Object} finder\n       *        If string, e.g., 'geo', means {geoIndex: 0}.\n       *        If Object, could contain some of these properties below:\n       *        {\n       *            seriesIndex, seriesId, seriesName,\n       *            geoIndex, geoId, geoName,\n       *            bmapIndex, bmapId, bmapName,\n       *            xAxisIndex, xAxisId, xAxisName,\n       *            yAxisIndex, yAxisId, yAxisName,\n       *            gridIndex, gridId, gridName,\n       *            ... (can be extended)\n       *        }\n       *        Each properties can be number|string|Array.<number>|Array.<string>\n       *        For example, a finder could be\n       *        {\n       *            seriesIndex: 3,\n       *            geoId: ['aa', 'cc'],\n       *            gridName: ['xx', 'rr']\n       *        }\n       *        xxxIndex can be set as 'all' (means all xxx) or 'none' (means not specify)\n       *        If nothing or null/undefined specified, return nothing.\n       * @param {Object} [opt]\n       * @param {string} [opt.defaultMainType]\n       * @param {Array.<string>} [opt.includeMainTypes]\n       * @return {Object} result like:\n       *        {\n       *            seriesModels: [seriesModel1, seriesModel2],\n       *            seriesModel: seriesModel1, // The first model\n       *            geoModels: [geoModel1, geoModel2],\n       *            geoModel: geoModel1, // The first model\n       *            ...\n       *        }\n       */\n\n\n      function parseFinder(ecModel, finder, opt) {\n        if (zrUtil.isString(finder)) {\n          var obj = {};\n          obj[finder + 'Index'] = 0;\n          finder = obj;\n        }\n\n        var defaultMainType = opt && opt.defaultMainType;\n\n        if (defaultMainType && !has(finder, defaultMainType + 'Index') && !has(finder, defaultMainType + 'Id') && !has(finder, defaultMainType + 'Name')) {\n          finder[defaultMainType + 'Index'] = 0;\n        }\n\n        var result = {};\n        each(finder, function (value, key) {\n          var value = finder[key]; // Exclude 'dataIndex' and other illgal keys.\n\n          if (key === 'dataIndex' || key === 'dataIndexInside') {\n            result[key] = value;\n            return;\n          }\n\n          var parsedKey = key.match(/^(\\w+)(Index|Id|Name)$/) || [];\n          var mainType = parsedKey[1];\n          var queryType = (parsedKey[2] || '').toLowerCase();\n\n          if (!mainType || !queryType || value == null || queryType === 'index' && value === 'none' || opt && opt.includeMainTypes && zrUtil.indexOf(opt.includeMainTypes, mainType) < 0) {\n            return;\n          }\n\n          var queryParam = {\n            mainType: mainType\n          };\n\n          if (queryType !== 'index' || value !== 'all') {\n            queryParam[queryType] = value;\n          }\n\n          var models = ecModel.queryComponents(queryParam);\n          result[mainType + 'Models'] = models;\n          result[mainType + 'Model'] = models[0];\n        });\n        return result;\n      }\n      /**\n       * @see {module:echarts/data/helper/completeDimensions}\n       * @param {module:echarts/data/List} data\n       * @param {string|number} dataDim\n       * @return {string}\n       */\n\n\n      function dataDimToCoordDim(data, dataDim) {\n        var dimensions = data.dimensions;\n        dataDim = data.getDimension(dataDim);\n\n        for (var i = 0; i < dimensions.length; i++) {\n          var dimItem = data.getDimensionInfo(dimensions[i]);\n\n          if (dimItem.name === dataDim) {\n            return dimItem.coordDim;\n          }\n        }\n      }\n      /**\n       * @see {module:echarts/data/helper/completeDimensions}\n       * @param {module:echarts/data/List} data\n       * @param {string} coordDim\n       * @return {Array.<string>} data dimensions on the coordDim.\n       */\n\n\n      function coordDimToDataDim(data, coordDim) {\n        var dataDim = [];\n        each(data.dimensions, function (dimName) {\n          var dimItem = data.getDimensionInfo(dimName);\n\n          if (dimItem.coordDim === coordDim) {\n            dataDim[dimItem.coordDimIndex] = dimItem.name;\n          }\n        });\n        return dataDim;\n      }\n      /**\n       * @see {module:echarts/data/helper/completeDimensions}\n       * @param {module:echarts/data/List} data\n       * @param {string} otherDim Can be `otherDims`\n       *                        like 'label' or 'tooltip'.\n       * @return {Array.<string>} data dimensions on the otherDim.\n       */\n\n\n      function otherDimToDataDim(data, otherDim) {\n        var dataDim = [];\n        each(data.dimensions, function (dimName) {\n          var dimItem = data.getDimensionInfo(dimName);\n          var otherDims = dimItem.otherDims;\n          var dimIndex = otherDims[otherDim];\n\n          if (dimIndex != null && dimIndex !== false) {\n            dataDim[dimIndex] = dimItem.name;\n          }\n        });\n        return dataDim;\n      }\n\n      function has(obj, prop) {\n        return obj && obj.hasOwnProperty(prop);\n      }\n\n      exports.normalizeToArray = normalizeToArray;\n      exports.defaultEmphasis = defaultEmphasis;\n      exports.TEXT_STYLE_OPTIONS = TEXT_STYLE_OPTIONS;\n      exports.getDataItemValue = getDataItemValue;\n      exports.isDataItemOption = isDataItemOption;\n      exports.converDataValue = converDataValue;\n      exports.createDataFormatModel = createDataFormatModel;\n      exports.dataFormatMixin = dataFormatMixin;\n      exports.mappingToExists = mappingToExists;\n      exports.makeIdAndName = makeIdAndName;\n      exports.isIdInner = isIdInner;\n      exports.compressBatches = compressBatches;\n      exports.queryDataIndex = queryDataIndex;\n      exports.makeGetter = makeGetter;\n      exports.parseFinder = parseFinder;\n      exports.dataDimToCoordDim = dataDimToCoordDim;\n      exports.coordDimToDataDim = coordDimToDataDim;\n      exports.otherDimToDataDim = otherDimToDataDim;\n      /***/\n    },\n    /* 31 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var zrUtil = __webpack_require__(0);\n\n      var env = __webpack_require__(15);\n\n      var clazzUtil = __webpack_require__(32);\n\n      var lineStyleMixin = __webpack_require__(35);\n\n      var areaStyleMixin = __webpack_require__(36);\n\n      var textStyleMixin = __webpack_require__(37);\n\n      var itemStyleMixin = __webpack_require__(76);\n      /**\n       * @module echarts/model/Model\n       */\n\n\n      var mixin = zrUtil.mixin;\n      /**\n       * @alias module:echarts/model/Model\n       * @constructor\n       * @param {Object} option\n       * @param {module:echarts/model/Model} [parentModel]\n       * @param {module:echarts/model/Global} [ecModel]\n       */\n\n      function Model(option, parentModel, ecModel) {\n        /**\n         * @type {module:echarts/model/Model}\n         * @readOnly\n         */\n        this.parentModel = parentModel;\n        /**\n         * @type {module:echarts/model/Global}\n         * @readOnly\n         */\n\n        this.ecModel = ecModel;\n        /**\n         * @type {Object}\n         * @protected\n         */\n\n        this.option = option; // Simple optimization\n        // if (this.init) {\n        //     if (arguments.length <= 4) {\n        //         this.init(option, parentModel, ecModel, extraOpt);\n        //     }\n        //     else {\n        //         this.init.apply(this, arguments);\n        //     }\n        // }\n      }\n\n      Model.prototype = {\n        constructor: Model,\n\n        /**\n         * Model 的初始化函数\n         * @param {Object} option\n         */\n        init: null,\n\n        /**\n         * 从新的 Option merge\n         */\n        mergeOption: function mergeOption(option) {\n          zrUtil.merge(this.option, option, true);\n        },\n\n        /**\n         * @param {string|Array.<string>} path\n         * @param {boolean} [ignoreParent=false]\n         * @return {*}\n         */\n        get: function get(path, ignoreParent) {\n          if (path == null) {\n            return this.option;\n          }\n\n          return doGet(this.option, this.parsePath(path), !ignoreParent && getParent(this, path));\n        },\n\n        /**\n         * @param {string} key\n         * @param {boolean} [ignoreParent=false]\n         * @return {*}\n         */\n        getShallow: function getShallow(key, ignoreParent) {\n          var option = this.option;\n          var val = option == null ? option : option[key];\n          var parentModel = !ignoreParent && getParent(this, key);\n\n          if (val == null && parentModel) {\n            val = parentModel.getShallow(key);\n          }\n\n          return val;\n        },\n\n        /**\n         * @param {string|Array.<string>} [path]\n         * @param {module:echarts/model/Model} [parentModel]\n         * @return {module:echarts/model/Model}\n         */\n        getModel: function getModel(path, parentModel) {\n          var obj = path == null ? this.option : doGet(this.option, path = this.parsePath(path));\n          var thisParentModel;\n          parentModel = parentModel || (thisParentModel = getParent(this, path)) && thisParentModel.getModel(path);\n          return new Model(obj, parentModel, this.ecModel);\n        },\n\n        /**\n         * If model has option\n         */\n        isEmpty: function isEmpty() {\n          return this.option == null;\n        },\n        restoreData: function restoreData() {},\n        // Pending\n        clone: function clone() {\n          var Ctor = this.constructor;\n          return new Ctor(zrUtil.clone(this.option));\n        },\n        setReadOnly: function setReadOnly(properties) {\n          clazzUtil.setReadOnly(this, properties);\n        },\n        // If path is null/undefined, return null/undefined.\n        parsePath: function parsePath(path) {\n          if (typeof path === 'string') {\n            path = path.split('.');\n          }\n\n          return path;\n        },\n\n        /**\n         * @param {Function} getParentMethod\n         *        param {Array.<string>|string} path\n         *        return {module:echarts/model/Model}\n         */\n        customizeGetParent: function customizeGetParent(getParentMethod) {\n          clazzUtil.set(this, 'getParent', getParentMethod);\n        },\n        isAnimationEnabled: function isAnimationEnabled() {\n          if (!env.node) {\n            if (this.option.animation != null) {\n              return !!this.option.animation;\n            } else if (this.parentModel) {\n              return this.parentModel.isAnimationEnabled();\n            }\n          }\n        }\n      };\n\n      function doGet(obj, pathArr, parentModel) {\n        for (var i = 0; i < pathArr.length; i++) {\n          // Ignore empty\n          if (!pathArr[i]) {\n            continue;\n          } // obj could be number/string/... (like 0)\n\n\n          obj = obj && _typeof(obj) === 'object' ? obj[pathArr[i]] : null;\n\n          if (obj == null) {\n            break;\n          }\n        }\n\n        if (obj == null && parentModel) {\n          obj = parentModel.get(pathArr);\n        }\n\n        return obj;\n      } // `path` can be null/undefined\n\n\n      function getParent(model, path) {\n        var getParentMethod = clazzUtil.get(model, 'getParent');\n        return getParentMethod ? getParentMethod.call(model, path) : model.parentModel;\n      } // Enable Model.extend.\n\n\n      clazzUtil.enableClassExtend(Model);\n      mixin(Model, lineStyleMixin);\n      mixin(Model, areaStyleMixin);\n      mixin(Model, textStyleMixin);\n      mixin(Model, itemStyleMixin);\n      var _default = Model;\n      module.exports = _default;\n      /***/\n    },\n    /* 32 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var _config = __webpack_require__(33);\n\n      var __DEV__ = _config.__DEV__;\n\n      var zrUtil = __webpack_require__(0);\n\n      var TYPE_DELIMITER = '.';\n      var IS_CONTAINER = '___EC__COMPONENT__CONTAINER___';\n      var MEMBER_PRIFIX = '\\0ec_\\0';\n      /**\n       * Hide private class member.\n       * The same behavior as `host[name] = value;` (can be right-value)\n       * @public\n       */\n\n      function set(host, name, value) {\n        return host[MEMBER_PRIFIX + name] = value;\n      }\n      /**\n       * Hide private class member.\n       * The same behavior as `host[name];`\n       * @public\n       */\n\n\n      function get(host, name) {\n        return host[MEMBER_PRIFIX + name];\n      }\n      /**\n       * For hidden private class member.\n       * The same behavior as `host.hasOwnProperty(name);`\n       * @public\n       */\n\n\n      function hasOwn(host, name) {\n        return host.hasOwnProperty(MEMBER_PRIFIX + name);\n      }\n      /**\n       * Notice, parseClassType('') should returns {main: '', sub: ''}\n       * @public\n       */\n\n\n      function parseClassType(componentType) {\n        var ret = {\n          main: '',\n          sub: ''\n        };\n\n        if (componentType) {\n          componentType = componentType.split(TYPE_DELIMITER);\n          ret.main = componentType[0] || '';\n          ret.sub = componentType[1] || '';\n        }\n\n        return ret;\n      }\n      /**\n       * @public\n       */\n\n\n      function checkClassType(componentType) {\n        zrUtil.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(componentType), 'componentType \"' + componentType + '\" illegal');\n      }\n      /**\n       * @public\n       */\n\n\n      function enableClassExtend(RootClass, mandatoryMethods) {\n        RootClass.$constructor = RootClass;\n\n        RootClass.extend = function (proto) {\n          var superClass = this;\n\n          var ExtendedClass = function ExtendedClass() {\n            if (!proto.$constructor) {\n              superClass.apply(this, arguments);\n            } else {\n              proto.$constructor.apply(this, arguments);\n            }\n          };\n\n          zrUtil.extend(ExtendedClass.prototype, proto);\n          ExtendedClass.extend = this.extend;\n          ExtendedClass.superCall = superCall;\n          ExtendedClass.superApply = superApply;\n          zrUtil.inherits(ExtendedClass, this);\n          ExtendedClass.superClass = superClass;\n          return ExtendedClass;\n        };\n      } // superCall should have class info, which can not be fetch from 'this'.\n      // Consider this case:\n      // class A has method f,\n      // class B inherits class A, overrides method f, f call superApply('f'),\n      // class C inherits class B, do not overrides method f,\n      // then when method of class C is called, dead loop occured.\n\n\n      function superCall(context, methodName) {\n        var args = zrUtil.slice(arguments, 2);\n        return this.superClass.prototype[methodName].apply(context, args);\n      }\n\n      function superApply(context, methodName, args) {\n        return this.superClass.prototype[methodName].apply(context, args);\n      }\n      /**\n       * @param {Object} entity\n       * @param {Object} options\n       * @param {boolean} [options.registerWhenExtend]\n       * @public\n       */\n\n\n      function enableClassManagement(entity, options) {\n        options = options || {};\n        /**\n         * Component model classes\n         * key: componentType,\n         * value:\n         *     componentClass, when componentType is 'xxx'\n         *     or Object.<subKey, componentClass>, when componentType is 'xxx.yy'\n         * @type {Object}\n         */\n\n        var storage = {};\n\n        entity.registerClass = function (Clazz, componentType) {\n          if (componentType) {\n            checkClassType(componentType);\n            componentType = parseClassType(componentType);\n\n            if (!componentType.sub) {\n              storage[componentType.main] = Clazz;\n            } else if (componentType.sub !== IS_CONTAINER) {\n              var container = makeContainer(componentType);\n              container[componentType.sub] = Clazz;\n            }\n          }\n\n          return Clazz;\n        };\n\n        entity.getClass = function (componentMainType, subType, throwWhenNotFound) {\n          var Clazz = storage[componentMainType];\n\n          if (Clazz && Clazz[IS_CONTAINER]) {\n            Clazz = subType ? Clazz[subType] : null;\n          }\n\n          if (throwWhenNotFound && !Clazz) {\n            throw new Error(!subType ? componentMainType + '.' + 'type should be specified.' : 'Component ' + componentMainType + '.' + (subType || '') + ' not exists. Load it first.');\n          }\n\n          return Clazz;\n        };\n\n        entity.getClassesByMainType = function (componentType) {\n          componentType = parseClassType(componentType);\n          var result = [];\n          var obj = storage[componentType.main];\n\n          if (obj && obj[IS_CONTAINER]) {\n            zrUtil.each(obj, function (o, type) {\n              type !== IS_CONTAINER && result.push(o);\n            });\n          } else {\n            result.push(obj);\n          }\n\n          return result;\n        };\n\n        entity.hasClass = function (componentType) {\n          // Just consider componentType.main.\n          componentType = parseClassType(componentType);\n          return !!storage[componentType.main];\n        };\n        /**\n         * @return {Array.<string>} Like ['aa', 'bb'], but can not be ['aa.xx']\n         */\n\n\n        entity.getAllClassMainTypes = function () {\n          var types = [];\n          zrUtil.each(storage, function (obj, type) {\n            types.push(type);\n          });\n          return types;\n        };\n        /**\n         * If a main type is container and has sub types\n         * @param  {string}  mainType\n         * @return {boolean}\n         */\n\n\n        entity.hasSubTypes = function (componentType) {\n          componentType = parseClassType(componentType);\n          var obj = storage[componentType.main];\n          return obj && obj[IS_CONTAINER];\n        };\n\n        entity.parseClassType = parseClassType;\n\n        function makeContainer(componentType) {\n          var container = storage[componentType.main];\n\n          if (!container || !container[IS_CONTAINER]) {\n            container = storage[componentType.main] = {};\n            container[IS_CONTAINER] = true;\n          }\n\n          return container;\n        }\n\n        if (options.registerWhenExtend) {\n          var originalExtend = entity.extend;\n\n          if (originalExtend) {\n            entity.extend = function (proto) {\n              var ExtendedClass = originalExtend.call(this, proto);\n              return entity.registerClass(ExtendedClass, proto.type);\n            };\n          }\n        }\n\n        return entity;\n      }\n      /**\n       * @param {string|Array.<string>} properties\n       */\n\n\n      function setReadOnly(obj, properties) {// FIXME It seems broken in IE8 simulation of IE11\n        // if (!zrUtil.isArray(properties)) {\n        //     properties = properties != null ? [properties] : [];\n        // }\n        // zrUtil.each(properties, function (prop) {\n        //     var value = obj[prop];\n        //     Object.defineProperty\n        //         && Object.defineProperty(obj, prop, {\n        //             value: value, writable: false\n        //         });\n        //     zrUtil.isArray(obj[prop])\n        //         && Object.freeze\n        //         && Object.freeze(obj[prop]);\n        // });\n      }\n\n      exports.set = set;\n      exports.get = get;\n      exports.hasOwn = hasOwn;\n      exports.parseClassType = parseClassType;\n      exports.enableClassExtend = enableClassExtend;\n      exports.enableClassManagement = enableClassManagement;\n      exports.setReadOnly = setReadOnly;\n      /***/\n    },\n    /* 33 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      /* WEBPACK VAR INJECTION */\n      (function (global) {\n        // (1) The code `if (__DEV__) ...` can be removed by build tool.\n        // (2) If intend to use `__DEV__`, this module should be imported. Use a global\n        // variable `__DEV__` may cause that miss the declaration (see #6535), or the\n        // declaration is behind of the using position (for example in `Model.extent`,\n        // And tools like rollup can not analysis the dependency if not import).\n        var dev; // In browser\n\n        if (typeof window !== 'undefined') {\n          dev = window.__DEV__;\n        } // In node\n        else if (typeof global !== 'undefined') {\n            dev = global.__DEV__;\n          }\n\n        if (typeof dev === 'undefined') {\n          dev = true;\n        }\n\n        var __DEV__ = dev;\n        exports.__DEV__ = __DEV__;\n        /* WEBPACK VAR INJECTION */\n      }).call(exports, __webpack_require__(34));\n      /***/\n    },\n    /* 34 */\n\n    /***/\n    function (module, exports) {\n      var g; // This works in non-strict mode\n\n      g = function () {\n        return this;\n      }();\n\n      try {\n        // This works if eval is allowed (see CSP)\n        g = g || Function(\"return this\")() || (1, eval)(\"this\");\n      } catch (e) {\n        // This works if the window reference is available\n        if ((typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) === \"object\") g = window;\n      } // g can still be undefined, but nothing to do about it...\n      // We return undefined, instead of nothing here, so it's\n      // easier to handle this case. if(!global) { ...}\n\n\n      module.exports = g;\n      /***/\n    },\n    /* 35 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var makeStyleMapper = __webpack_require__(11);\n\n      var _getLineStyle = makeStyleMapper([['lineWidth', 'width'], ['stroke', 'color'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor']]);\n\n      var _default = {\n        getLineStyle: function getLineStyle(excludes) {\n          var style = _getLineStyle(this, excludes);\n\n          var lineDash = this.getLineDash(style.lineWidth);\n          lineDash && (style.lineDash = lineDash);\n          return style;\n        },\n        getLineDash: function getLineDash(lineWidth) {\n          if (lineWidth == null) {\n            lineWidth = 1;\n          }\n\n          var lineType = this.get('type');\n          var dotSize = Math.max(lineWidth, 2);\n          var dashSize = lineWidth * 4;\n          return lineType === 'solid' || lineType == null ? null : lineType === 'dashed' ? [dashSize, dashSize] : [dotSize, dotSize];\n        }\n      };\n      module.exports = _default;\n      /***/\n    },\n    /* 36 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var makeStyleMapper = __webpack_require__(11);\n\n      var _getAreaStyle = makeStyleMapper([['fill', 'color'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['opacity'], ['shadowColor']]);\n\n      var _default = {\n        getAreaStyle: function getAreaStyle(excludes, includes) {\n          return _getAreaStyle(this, excludes, includes);\n        }\n      };\n      module.exports = _default;\n      /***/\n    },\n    /* 37 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var textContain = __webpack_require__(5);\n\n      var graphicUtil = __webpack_require__(38);\n\n      var PATH_COLOR = ['textStyle', 'color'];\n      var _default = {\n        /**\n         * Get color property or get color from option.textStyle.color\n         * @param {boolean} [isEmphasis]\n         * @return {string}\n         */\n        getTextColor: function getTextColor(isEmphasis) {\n          var ecModel = this.ecModel;\n          return this.getShallow('color') || (!isEmphasis && ecModel ? ecModel.get(PATH_COLOR) : null);\n        },\n\n        /**\n         * Create font string from fontStyle, fontWeight, fontSize, fontFamily\n         * @return {string}\n         */\n        getFont: function getFont() {\n          return graphicUtil.getFont({\n            fontStyle: this.getShallow('fontStyle'),\n            fontWeight: this.getShallow('fontWeight'),\n            fontSize: this.getShallow('fontSize'),\n            fontFamily: this.getShallow('fontFamily')\n          }, this.ecModel);\n        },\n        getTextRect: function getTextRect(text) {\n          return textContain.getBoundingRect(text, this.getFont(), this.getShallow('align'), this.getShallow('verticalAlign') || this.getShallow('baseline'), this.getShallow('padding'), this.getShallow('rich'), this.getShallow('truncateText'));\n        }\n      };\n      module.exports = _default;\n      /***/\n    },\n    /* 38 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var zrUtil = __webpack_require__(0);\n\n      var pathTool = __webpack_require__(39);\n\n      var colorTool = __webpack_require__(18);\n\n      var matrix = __webpack_require__(8);\n\n      var vector = __webpack_require__(2);\n\n      var Path = __webpack_require__(1);\n\n      var Transformable = __webpack_require__(17);\n\n      var Image = __webpack_require__(58);\n\n      exports.Image = Image;\n\n      var Group = __webpack_require__(59);\n\n      exports.Group = Group;\n\n      var Text = __webpack_require__(60);\n\n      exports.Text = Text;\n\n      var Circle = __webpack_require__(61);\n\n      exports.Circle = Circle;\n\n      var Sector = __webpack_require__(62);\n\n      exports.Sector = Sector;\n\n      var Ring = __webpack_require__(64);\n\n      exports.Ring = Ring;\n\n      var Polygon = __webpack_require__(65);\n\n      exports.Polygon = Polygon;\n\n      var Polyline = __webpack_require__(68);\n\n      exports.Polyline = Polyline;\n\n      var Rect = __webpack_require__(69);\n\n      exports.Rect = Rect;\n\n      var Line = __webpack_require__(70);\n\n      exports.Line = Line;\n\n      var BezierCurve = __webpack_require__(71);\n\n      exports.BezierCurve = BezierCurve;\n\n      var Arc = __webpack_require__(72);\n\n      exports.Arc = Arc;\n\n      var CompoundPath = __webpack_require__(73);\n\n      exports.CompoundPath = CompoundPath;\n\n      var LinearGradient = __webpack_require__(74);\n\n      exports.LinearGradient = LinearGradient;\n\n      var RadialGradient = __webpack_require__(75);\n\n      exports.RadialGradient = RadialGradient;\n\n      var BoundingRect = __webpack_require__(3);\n\n      exports.BoundingRect = BoundingRect;\n      var round = Math.round;\n      var mathMax = Math.max;\n      var mathMin = Math.min;\n      var EMPTY_OBJ = {};\n      /**\n       * Extend shape with parameters\n       */\n\n      function extendShape(opts) {\n        return Path.extend(opts);\n      }\n      /**\n       * Extend path\n       */\n\n\n      function extendPath(pathData, opts) {\n        return pathTool.extendFromString(pathData, opts);\n      }\n      /**\n       * Create a path element from path data string\n       * @param {string} pathData\n       * @param {Object} opts\n       * @param {module:zrender/core/BoundingRect} rect\n       * @param {string} [layout=cover] 'center' or 'cover'\n       */\n\n\n      function makePath(pathData, opts, rect, layout) {\n        var path = pathTool.createFromString(pathData, opts);\n        var boundingRect = path.getBoundingRect();\n\n        if (rect) {\n          if (layout === 'center') {\n            rect = centerGraphic(rect, boundingRect);\n          }\n\n          resizePath(path, rect);\n        }\n\n        return path;\n      }\n      /**\n       * Create a image element from image url\n       * @param {string} imageUrl image url\n       * @param {Object} opts options\n       * @param {module:zrender/core/BoundingRect} rect constrain rect\n       * @param {string} [layout=cover] 'center' or 'cover'\n       */\n\n\n      function makeImage(imageUrl, rect, layout) {\n        var path = new Image({\n          style: {\n            image: imageUrl,\n            x: rect.x,\n            y: rect.y,\n            width: rect.width,\n            height: rect.height\n          },\n          onload: function onload(img) {\n            if (layout === 'center') {\n              var boundingRect = {\n                width: img.width,\n                height: img.height\n              };\n              path.setStyle(centerGraphic(rect, boundingRect));\n            }\n          }\n        });\n        return path;\n      }\n      /**\n       * Get position of centered element in bounding box.\n       *\n       * @param  {Object} rect         element local bounding box\n       * @param  {Object} boundingRect constraint bounding box\n       * @return {Object} element position containing x, y, width, and height\n       */\n\n\n      function centerGraphic(rect, boundingRect) {\n        // Set rect to center, keep width / height ratio.\n        var aspect = boundingRect.width / boundingRect.height;\n        var width = rect.height * aspect;\n        var height;\n\n        if (width <= rect.width) {\n          height = rect.height;\n        } else {\n          width = rect.width;\n          height = width / aspect;\n        }\n\n        var cx = rect.x + rect.width / 2;\n        var cy = rect.y + rect.height / 2;\n        return {\n          x: cx - width / 2,\n          y: cy - height / 2,\n          width: width,\n          height: height\n        };\n      }\n\n      var mergePath = pathTool.mergePath;\n      /**\n       * Resize a path to fit the rect\n       * @param {module:zrender/graphic/Path} path\n       * @param {Object} rect\n       */\n\n      function resizePath(path, rect) {\n        if (!path.applyTransform) {\n          return;\n        }\n\n        var pathRect = path.getBoundingRect();\n        var m = pathRect.calculateTransform(rect);\n        path.applyTransform(m);\n      }\n      /**\n       * Sub pixel optimize line for canvas\n       *\n       * @param {Object} param\n       * @param {Object} [param.shape]\n       * @param {number} [param.shape.x1]\n       * @param {number} [param.shape.y1]\n       * @param {number} [param.shape.x2]\n       * @param {number} [param.shape.y2]\n       * @param {Object} [param.style]\n       * @param {number} [param.style.lineWidth]\n       * @return {Object} Modified param\n       */\n\n\n      function subPixelOptimizeLine(param) {\n        var shape = param.shape;\n        var lineWidth = param.style.lineWidth;\n\n        if (round(shape.x1 * 2) === round(shape.x2 * 2)) {\n          shape.x1 = shape.x2 = subPixelOptimize(shape.x1, lineWidth, true);\n        }\n\n        if (round(shape.y1 * 2) === round(shape.y2 * 2)) {\n          shape.y1 = shape.y2 = subPixelOptimize(shape.y1, lineWidth, true);\n        }\n\n        return param;\n      }\n      /**\n       * Sub pixel optimize rect for canvas\n       *\n       * @param {Object} param\n       * @param {Object} [param.shape]\n       * @param {number} [param.shape.x]\n       * @param {number} [param.shape.y]\n       * @param {number} [param.shape.width]\n       * @param {number} [param.shape.height]\n       * @param {Object} [param.style]\n       * @param {number} [param.style.lineWidth]\n       * @return {Object} Modified param\n       */\n\n\n      function subPixelOptimizeRect(param) {\n        var shape = param.shape;\n        var lineWidth = param.style.lineWidth;\n        var originX = shape.x;\n        var originY = shape.y;\n        var originWidth = shape.width;\n        var originHeight = shape.height;\n        shape.x = subPixelOptimize(shape.x, lineWidth, true);\n        shape.y = subPixelOptimize(shape.y, lineWidth, true);\n        shape.width = Math.max(subPixelOptimize(originX + originWidth, lineWidth, false) - shape.x, originWidth === 0 ? 0 : 1);\n        shape.height = Math.max(subPixelOptimize(originY + originHeight, lineWidth, false) - shape.y, originHeight === 0 ? 0 : 1);\n        return param;\n      }\n      /**\n       * Sub pixel optimize for canvas\n       *\n       * @param {number} position Coordinate, such as x, y\n       * @param {number} lineWidth Should be nonnegative integer.\n       * @param {boolean=} positiveOrNegative Default false (negative).\n       * @return {number} Optimized position.\n       */\n\n\n      function subPixelOptimize(position, lineWidth, positiveOrNegative) {\n        // Assure that (position + lineWidth / 2) is near integer edge,\n        // otherwise line will be fuzzy in canvas.\n        var doubledPosition = round(position * 2);\n        return (doubledPosition + round(lineWidth)) % 2 === 0 ? doubledPosition / 2 : (doubledPosition + (positiveOrNegative ? 1 : -1)) / 2;\n      }\n\n      function hasFillOrStroke(fillOrStroke) {\n        return fillOrStroke != null && fillOrStroke != 'none';\n      }\n\n      function liftColor(color) {\n        return typeof color === 'string' ? colorTool.lift(color, -0.1) : color;\n      }\n      /**\n       * @private\n       */\n\n\n      function cacheElementStl(el) {\n        if (el.__hoverStlDirty) {\n          var stroke = el.style.stroke;\n          var fill = el.style.fill; // Create hoverStyle on mouseover\n\n          var hoverStyle = el.__hoverStl;\n          hoverStyle.fill = hoverStyle.fill || (hasFillOrStroke(fill) ? liftColor(fill) : null);\n          hoverStyle.stroke = hoverStyle.stroke || (hasFillOrStroke(stroke) ? liftColor(stroke) : null);\n          var normalStyle = {};\n\n          for (var name in hoverStyle) {\n            // See comment in `doSingleEnterHover`.\n            if (hoverStyle[name] != null) {\n              normalStyle[name] = el.style[name];\n            }\n          }\n\n          el.__normalStl = normalStyle;\n          el.__hoverStlDirty = false;\n        }\n      }\n      /**\n       * @private\n       */\n\n\n      function doSingleEnterHover(el) {\n        if (el.__isHover) {\n          return;\n        }\n\n        cacheElementStl(el);\n\n        if (el.useHoverLayer) {\n          el.__zr && el.__zr.addHover(el, el.__hoverStl);\n        } else {\n          var style = el.style;\n          var insideRollbackOpt = style.insideRollbackOpt; // Consider case: only `position: 'top'` is set on emphasis, then text\n          // color should be returned to `autoColor`, rather than remain '#fff'.\n          // So we should rollback then apply again after style merging.\n\n          insideRollbackOpt && rollbackInsideStyle(style); // styles can be:\n          // {\n          //     label: {\n          //         normal: {\n          //             show: false,\n          //             position: 'outside',\n          //             fontSize: 18\n          //         },\n          //         emphasis: {\n          //             show: true\n          //         }\n          //     }\n          // },\n          // where properties of `emphasis` may not appear in `normal`. We previously use\n          // module:echarts/util/model#defaultEmphasis to merge `normal` to `emphasis`.\n          // But consider rich text and setOption in merge mode, it is impossible to cover\n          // all properties in merge. So we use merge mode when setting style here, where\n          // only properties that is not `null/undefined` can be set. The disadventage:\n          // null/undefined can not be used to remove style any more in `emphasis`.\n\n          style.extendFrom(el.__hoverStl); // Do not save `insideRollback`.\n\n          if (insideRollbackOpt) {\n            applyInsideStyle(style, style.insideOriginalTextPosition, insideRollbackOpt); // textFill may be rollbacked to null.\n\n            if (style.textFill == null) {\n              style.textFill = insideRollbackOpt.autoColor;\n            }\n          }\n\n          el.dirty(false);\n          el.z2 += 1;\n        }\n\n        el.__isHover = true;\n      }\n      /**\n       * @inner\n       */\n\n\n      function doSingleLeaveHover(el) {\n        if (!el.__isHover) {\n          return;\n        }\n\n        var normalStl = el.__normalStl;\n\n        if (el.useHoverLayer) {\n          el.__zr && el.__zr.removeHover(el);\n        } else {\n          // Consider null/undefined value, should use\n          // `setStyle` but not `extendFrom(stl, true)`.\n          normalStl && el.setStyle(normalStl);\n          el.z2 -= 1;\n        }\n\n        el.__isHover = false;\n      }\n      /**\n       * @inner\n       */\n\n\n      function doEnterHover(el) {\n        el.type === 'group' ? el.traverse(function (child) {\n          if (child.type !== 'group') {\n            doSingleEnterHover(child);\n          }\n        }) : doSingleEnterHover(el);\n      }\n\n      function doLeaveHover(el) {\n        el.type === 'group' ? el.traverse(function (child) {\n          if (child.type !== 'group') {\n            doSingleLeaveHover(child);\n          }\n        }) : doSingleLeaveHover(el);\n      }\n      /**\n       * @inner\n       */\n\n\n      function setElementHoverStl(el, hoverStl) {\n        // If element has sepcified hoverStyle, then use it instead of given hoverStyle\n        // Often used when item group has a label element and it's hoverStyle is different\n        el.__hoverStl = el.hoverStyle || hoverStl || {};\n        el.__hoverStlDirty = true;\n\n        if (el.__isHover) {\n          cacheElementStl(el);\n        }\n      }\n      /**\n       * @inner\n       */\n\n\n      function onElementMouseOver(e) {\n        if (this.__hoverSilentOnTouch && e.zrByTouch) {\n          return;\n        } // Only if element is not in emphasis status\n\n\n        !this.__isEmphasis && doEnterHover(this);\n      }\n      /**\n       * @inner\n       */\n\n\n      function onElementMouseOut(e) {\n        if (this.__hoverSilentOnTouch && e.zrByTouch) {\n          return;\n        } // Only if element is not in emphasis status\n\n\n        !this.__isEmphasis && doLeaveHover(this);\n      }\n      /**\n       * @inner\n       */\n\n\n      function enterEmphasis() {\n        this.__isEmphasis = true;\n        doEnterHover(this);\n      }\n      /**\n       * @inner\n       */\n\n\n      function leaveEmphasis() {\n        this.__isEmphasis = false;\n        doLeaveHover(this);\n      }\n      /**\n       * Set hover style of element.\n       * This method can be called repeatly without side-effects.\n       * @param {module:zrender/Element} el\n       * @param {Object} [hoverStyle]\n       * @param {Object} [opt]\n       * @param {boolean} [opt.hoverSilentOnTouch=false]\n       *        In touch device, mouseover event will be trigger on touchstart event\n       *        (see module:zrender/dom/HandlerProxy). By this mechanism, we can\n       *        conviniently use hoverStyle when tap on touch screen without additional\n       *        code for compatibility.\n       *        But if the chart/component has select feature, which usually also use\n       *        hoverStyle, there might be conflict between 'select-highlight' and\n       *        'hover-highlight' especially when roam is enabled (see geo for example).\n       *        In this case, hoverSilentOnTouch should be used to disable hover-highlight\n       *        on touch device.\n       */\n\n\n      function setHoverStyle(el, hoverStyle, opt) {\n        el.__hoverSilentOnTouch = opt && opt.hoverSilentOnTouch;\n        el.type === 'group' ? el.traverse(function (child) {\n          if (child.type !== 'group') {\n            setElementHoverStl(child, hoverStyle);\n          }\n        }) : setElementHoverStl(el, hoverStyle); // Duplicated function will be auto-ignored, see Eventful.js.\n\n        el.on('mouseover', onElementMouseOver).on('mouseout', onElementMouseOut); // Emphasis, normal can be triggered manually\n\n        el.on('emphasis', enterEmphasis).on('normal', leaveEmphasis);\n      }\n      /**\n       * @param {Object|module:zrender/graphic/Style} normalStyle\n       * @param {Object} emphasisStyle\n       * @param {module:echarts/model/Model} normalModel\n       * @param {module:echarts/model/Model} emphasisModel\n       * @param {Object} opt Check `opt` of `setTextStyleCommon` to find other props.\n       * @param {Object} [opt.defaultText]\n       * @param {module:echarts/model/Model} [opt.labelFetcher] Fetch text by\n       *      `opt.labelFetcher.getFormattedLabel(opt.labelDataIndex, 'normal'/'emphasis', null, opt.labelDimIndex)`\n       * @param {module:echarts/model/Model} [opt.labelDataIndex] Fetch text by\n       *      `opt.textFetcher.getFormattedLabel(opt.labelDataIndex, 'normal'/'emphasis', null, opt.labelDimIndex)`\n       * @param {module:echarts/model/Model} [opt.labelDimIndex] Fetch text by\n       *      `opt.textFetcher.getFormattedLabel(opt.labelDataIndex, 'normal'/'emphasis', null, opt.labelDimIndex)`\n       * @param {Object} [normalSpecified]\n       * @param {Object} [emphasisSpecified]\n       */\n\n\n      function setLabelStyle(normalStyle, emphasisStyle, normalModel, emphasisModel, opt, normalSpecified, emphasisSpecified) {\n        opt = opt || EMPTY_OBJ;\n        var labelFetcher = opt.labelFetcher;\n        var labelDataIndex = opt.labelDataIndex;\n        var labelDimIndex = opt.labelDimIndex; // This scenario, `label.normal.show = true; label.emphasis.show = false`,\n        // is not supported util someone requests.\n\n        var showNormal = normalModel.getShallow('show');\n        var showEmphasis = emphasisModel.getShallow('show'); // Consider performance, only fetch label when necessary.\n        // If `normal.show` is `false` and `emphasis.show` is `true` and `emphasis.formatter` is not set,\n        // label should be displayed, where text is fetched by `normal.formatter` or `opt.defaultText`.\n\n        var baseText = showNormal || showEmphasis ? zrUtil.retrieve2(labelFetcher ? labelFetcher.getFormattedLabel(labelDataIndex, 'normal', null, labelDimIndex) : null, opt.defaultText) : null;\n        var normalStyleText = showNormal ? baseText : null;\n        var emphasisStyleText = showEmphasis ? zrUtil.retrieve2(labelFetcher ? labelFetcher.getFormattedLabel(labelDataIndex, 'emphasis', null, labelDimIndex) : null, baseText) : null; // Optimize: If style.text is null, text will not be drawn.\n\n        if (normalStyleText != null || emphasisStyleText != null) {\n          // Always set `textStyle` even if `normalStyle.text` is null, because default\n          // values have to be set on `normalStyle`.\n          // If we set default values on `emphasisStyle`, consider case:\n          // Firstly, `setOption(... label: {normal: {text: null}, emphasis: {show: true}} ...);`\n          // Secondly, `setOption(... label: {noraml: {show: true, text: 'abc', color: 'red'} ...);`\n          // Then the 'red' will not work on emphasis.\n          setTextStyle(normalStyle, normalModel, normalSpecified, opt);\n          setTextStyle(emphasisStyle, emphasisModel, emphasisSpecified, opt, true);\n        }\n\n        normalStyle.text = normalStyleText;\n        emphasisStyle.text = emphasisStyleText;\n      }\n      /**\n       * Set basic textStyle properties.\n       * @param {Object|module:zrender/graphic/Style} textStyle\n       * @param {module:echarts/model/Model} model\n       * @param {Object} [specifiedTextStyle] Can be overrided by settings in model.\n       * @param {Object} [opt] See `opt` of `setTextStyleCommon`.\n       * @param {boolean} [isEmphasis]\n       */\n\n\n      function setTextStyle(textStyle, textStyleModel, specifiedTextStyle, opt, isEmphasis) {\n        setTextStyleCommon(textStyle, textStyleModel, opt, isEmphasis);\n        specifiedTextStyle && zrUtil.extend(textStyle, specifiedTextStyle);\n        textStyle.host && textStyle.host.dirty && textStyle.host.dirty(false);\n        return textStyle;\n      }\n      /**\n       * Set text option in the style.\n       * @deprecated\n       * @param {Object} textStyle\n       * @param {module:echarts/model/Model} labelModel\n       * @param {string|boolean} defaultColor Default text color.\n       *        If set as false, it will be processed as a emphasis style.\n       */\n\n\n      function setText(textStyle, labelModel, defaultColor) {\n        var opt = {\n          isRectText: true\n        };\n        var isEmphasis;\n\n        if (defaultColor === false) {\n          isEmphasis = true;\n        } else {\n          // Support setting color as 'auto' to get visual color.\n          opt.autoColor = defaultColor;\n        }\n\n        setTextStyleCommon(textStyle, labelModel, opt, isEmphasis);\n        textStyle.host && textStyle.host.dirty && textStyle.host.dirty(false);\n      }\n      /**\n       * {\n       *      disableBox: boolean, Whether diable drawing box of block (outer most).\n       *      isRectText: boolean,\n       *      autoColor: string, specify a color when color is 'auto',\n       *              for textFill, textStroke, textBackgroundColor, and textBorderColor.\n       *              If autoColor specified, it is used as default textFill.\n       *      useInsideStyle:\n       *              `true`: Use inside style (textFill, textStroke, textStrokeWidth)\n       *                  if `textFill` is not specified.\n       *              `false`: Do not use inside style.\n       *              `null/undefined`: use inside style if `isRectText` is true and\n       *                  `textFill` is not specified and textPosition contains `'inside'`.\n       *      forceRich: boolean\n       * }\n       */\n\n\n      function setTextStyleCommon(textStyle, textStyleModel, opt, isEmphasis) {\n        // Consider there will be abnormal when merge hover style to normal style if given default value.\n        opt = opt || EMPTY_OBJ;\n\n        if (opt.isRectText) {\n          var textPosition = textStyleModel.getShallow('position') || (isEmphasis ? null : 'inside'); // 'outside' is not a valid zr textPostion value, but used\n          // in bar series, and magric type should be considered.\n\n          textPosition === 'outside' && (textPosition = 'top');\n          textStyle.textPosition = textPosition;\n          textStyle.textOffset = textStyleModel.getShallow('offset');\n          var labelRotate = textStyleModel.getShallow('rotate');\n          labelRotate != null && (labelRotate *= Math.PI / 180);\n          textStyle.textRotation = labelRotate;\n          textStyle.textDistance = zrUtil.retrieve2(textStyleModel.getShallow('distance'), isEmphasis ? null : 5);\n        }\n\n        var ecModel = textStyleModel.ecModel;\n        var globalTextStyle = ecModel && ecModel.option.textStyle; // Consider case:\n        // {\n        //     data: [{\n        //         value: 12,\n        //         label: {\n        //             normal: {\n        //                 rich: {\n        //                     // no 'a' here but using parent 'a'.\n        //                 }\n        //             }\n        //         }\n        //     }],\n        //     rich: {\n        //         a: { ... }\n        //     }\n        // }\n\n        var richItemNames = getRichItemNames(textStyleModel);\n        var richResult;\n\n        if (richItemNames) {\n          richResult = {};\n\n          for (var name in richItemNames) {\n            if (richItemNames.hasOwnProperty(name)) {\n              // Cascade is supported in rich.\n              var richTextStyle = textStyleModel.getModel(['rich', name]); // In rich, never `disableBox`.\n\n              setTokenTextStyle(richResult[name] = {}, richTextStyle, globalTextStyle, opt, isEmphasis);\n            }\n          }\n        }\n\n        textStyle.rich = richResult;\n        setTokenTextStyle(textStyle, textStyleModel, globalTextStyle, opt, isEmphasis, true);\n\n        if (opt.forceRich && !opt.textStyle) {\n          opt.textStyle = {};\n        }\n\n        return textStyle;\n      } // Consider case:\n      // {\n      //     data: [{\n      //         value: 12,\n      //         label: {\n      //             normal: {\n      //                 rich: {\n      //                     // no 'a' here but using parent 'a'.\n      //                 }\n      //             }\n      //         }\n      //     }],\n      //     rich: {\n      //         a: { ... }\n      //     }\n      // }\n\n\n      function getRichItemNames(textStyleModel) {\n        // Use object to remove duplicated names.\n        var richItemNameMap;\n\n        while (textStyleModel && textStyleModel !== textStyleModel.ecModel) {\n          var rich = (textStyleModel.option || EMPTY_OBJ).rich;\n\n          if (rich) {\n            richItemNameMap = richItemNameMap || {};\n\n            for (var name in rich) {\n              if (rich.hasOwnProperty(name)) {\n                richItemNameMap[name] = 1;\n              }\n            }\n          }\n\n          textStyleModel = textStyleModel.parentModel;\n        }\n\n        return richItemNameMap;\n      }\n\n      function setTokenTextStyle(textStyle, textStyleModel, globalTextStyle, opt, isEmphasis, isBlock) {\n        // In merge mode, default value should not be given.\n        globalTextStyle = !isEmphasis && globalTextStyle || EMPTY_OBJ;\n        textStyle.textFill = getAutoColor(textStyleModel.getShallow('color'), opt) || globalTextStyle.color;\n        textStyle.textStroke = getAutoColor(textStyleModel.getShallow('textBorderColor'), opt) || globalTextStyle.textBorderColor;\n        textStyle.textStrokeWidth = zrUtil.retrieve2(textStyleModel.getShallow('textBorderWidth'), globalTextStyle.textBorderWidth);\n\n        if (!isEmphasis) {\n          if (isBlock) {\n            // Always set `insideRollback`, for clearing previous.\n            var originalTextPosition = textStyle.textPosition;\n            textStyle.insideRollback = applyInsideStyle(textStyle, originalTextPosition, opt); // Save original textPosition, because style.textPosition will be repalced by\n            // real location (like [10, 30]) in zrender.\n\n            textStyle.insideOriginalTextPosition = originalTextPosition;\n            textStyle.insideRollbackOpt = opt;\n          } // Set default finally.\n\n\n          if (textStyle.textFill == null) {\n            textStyle.textFill = opt.autoColor;\n          }\n        } // Do not use `getFont` here, because merge should be supported, where\n        // part of these properties may be changed in emphasis style, and the\n        // others should remain their original value got from normal style.\n\n\n        textStyle.fontStyle = textStyleModel.getShallow('fontStyle') || globalTextStyle.fontStyle;\n        textStyle.fontWeight = textStyleModel.getShallow('fontWeight') || globalTextStyle.fontWeight;\n        textStyle.fontSize = textStyleModel.getShallow('fontSize') || globalTextStyle.fontSize;\n        textStyle.fontFamily = textStyleModel.getShallow('fontFamily') || globalTextStyle.fontFamily;\n        textStyle.textAlign = textStyleModel.getShallow('align');\n        textStyle.textVerticalAlign = textStyleModel.getShallow('verticalAlign') || textStyleModel.getShallow('baseline');\n        textStyle.textLineHeight = textStyleModel.getShallow('lineHeight');\n        textStyle.textWidth = textStyleModel.getShallow('width');\n        textStyle.textHeight = textStyleModel.getShallow('height');\n        textStyle.textTag = textStyleModel.getShallow('tag');\n\n        if (!isBlock || !opt.disableBox) {\n          textStyle.textBackgroundColor = getAutoColor(textStyleModel.getShallow('backgroundColor'), opt);\n          textStyle.textPadding = textStyleModel.getShallow('padding');\n          textStyle.textBorderColor = getAutoColor(textStyleModel.getShallow('borderColor'), opt);\n          textStyle.textBorderWidth = textStyleModel.getShallow('borderWidth');\n          textStyle.textBorderRadius = textStyleModel.getShallow('borderRadius');\n          textStyle.textBoxShadowColor = textStyleModel.getShallow('shadowColor');\n          textStyle.textBoxShadowBlur = textStyleModel.getShallow('shadowBlur');\n          textStyle.textBoxShadowOffsetX = textStyleModel.getShallow('shadowOffsetX');\n          textStyle.textBoxShadowOffsetY = textStyleModel.getShallow('shadowOffsetY');\n        }\n\n        textStyle.textShadowColor = textStyleModel.getShallow('textShadowColor') || globalTextStyle.textShadowColor;\n        textStyle.textShadowBlur = textStyleModel.getShallow('textShadowBlur') || globalTextStyle.textShadowBlur;\n        textStyle.textShadowOffsetX = textStyleModel.getShallow('textShadowOffsetX') || globalTextStyle.textShadowOffsetX;\n        textStyle.textShadowOffsetY = textStyleModel.getShallow('textShadowOffsetY') || globalTextStyle.textShadowOffsetY;\n      }\n\n      function getAutoColor(color, opt) {\n        return color !== 'auto' ? color : opt && opt.autoColor ? opt.autoColor : null;\n      }\n\n      function applyInsideStyle(textStyle, textPosition, opt) {\n        var useInsideStyle = opt.useInsideStyle;\n        var insideRollback;\n\n        if (textStyle.textFill == null && useInsideStyle !== false && (useInsideStyle === true || opt.isRectText && textPosition // textPosition can be [10, 30]\n        && typeof textPosition === 'string' && textPosition.indexOf('inside') >= 0)) {\n          insideRollback = {\n            textFill: null,\n            textStroke: textStyle.textStroke,\n            textStrokeWidth: textStyle.textStrokeWidth\n          };\n          textStyle.textFill = '#fff'; // Consider text with #fff overflow its container.\n\n          if (textStyle.textStroke == null) {\n            textStyle.textStroke = opt.autoColor;\n            textStyle.textStrokeWidth == null && (textStyle.textStrokeWidth = 2);\n          }\n        }\n\n        return insideRollback;\n      }\n\n      function rollbackInsideStyle(style) {\n        var insideRollback = style.insideRollback;\n\n        if (insideRollback) {\n          style.textFill = insideRollback.textFill;\n          style.textStroke = insideRollback.textStroke;\n          style.textStrokeWidth = insideRollback.textStrokeWidth;\n        }\n      }\n\n      function getFont(opt, ecModel) {\n        // ecModel or default text style model.\n        var gTextStyleModel = ecModel || ecModel.getModel('textStyle');\n        return [// FIXME in node-canvas fontWeight is before fontStyle\n        opt.fontStyle || gTextStyleModel && gTextStyleModel.getShallow('fontStyle') || '', opt.fontWeight || gTextStyleModel && gTextStyleModel.getShallow('fontWeight') || '', (opt.fontSize || gTextStyleModel && gTextStyleModel.getShallow('fontSize') || 12) + 'px', opt.fontFamily || gTextStyleModel && gTextStyleModel.getShallow('fontFamily') || 'sans-serif'].join(' ');\n      }\n\n      function animateOrSetProps(isUpdate, el, props, animatableModel, dataIndex, cb) {\n        if (typeof dataIndex === 'function') {\n          cb = dataIndex;\n          dataIndex = null;\n        } // Do not check 'animation' property directly here. Consider this case:\n        // animation model is an `itemModel`, whose does not have `isAnimationEnabled`\n        // but its parent model (`seriesModel`) does.\n\n\n        var animationEnabled = animatableModel && animatableModel.isAnimationEnabled();\n\n        if (animationEnabled) {\n          var postfix = isUpdate ? 'Update' : '';\n          var duration = animatableModel.getShallow('animationDuration' + postfix);\n          var animationEasing = animatableModel.getShallow('animationEasing' + postfix);\n          var animationDelay = animatableModel.getShallow('animationDelay' + postfix);\n\n          if (typeof animationDelay === 'function') {\n            animationDelay = animationDelay(dataIndex, animatableModel.getAnimationDelayParams ? animatableModel.getAnimationDelayParams(el, dataIndex) : null);\n          }\n\n          if (typeof duration === 'function') {\n            duration = duration(dataIndex);\n          }\n\n          duration > 0 ? el.animateTo(props, duration, animationDelay || 0, animationEasing, cb, !!cb) : (el.stopAnimation(), el.attr(props), cb && cb());\n        } else {\n          el.stopAnimation();\n          el.attr(props);\n          cb && cb();\n        }\n      }\n      /**\n       * Update graphic element properties with or without animation according to the\n       * configuration in series.\n       *\n       * Caution: this method will stop previous animation.\n       * So if do not use this method to one element twice before\n       * animation starts, unless you know what you are doing.\n       *\n       * @param {module:zrender/Element} el\n       * @param {Object} props\n       * @param {module:echarts/model/Model} [animatableModel]\n       * @param {number} [dataIndex]\n       * @param {Function} [cb]\n       * @example\n       *     graphic.updateProps(el, {\n       *         position: [100, 100]\n       *     }, seriesModel, dataIndex, function () { console.log('Animation done!'); });\n       *     // Or\n       *     graphic.updateProps(el, {\n       *         position: [100, 100]\n       *     }, seriesModel, function () { console.log('Animation done!'); });\n       */\n\n\n      function updateProps(el, props, animatableModel, dataIndex, cb) {\n        animateOrSetProps(true, el, props, animatableModel, dataIndex, cb);\n      }\n      /**\n       * Init graphic element properties with or without animation according to the\n       * configuration in series.\n       *\n       * Caution: this method will stop previous animation.\n       * So if do not use this method to one element twice before\n       * animation starts, unless you know what you are doing.\n       *\n       * @param {module:zrender/Element} el\n       * @param {Object} props\n       * @param {module:echarts/model/Model} [animatableModel]\n       * @param {number} [dataIndex]\n       * @param {Function} cb\n       */\n\n\n      function initProps(el, props, animatableModel, dataIndex, cb) {\n        animateOrSetProps(false, el, props, animatableModel, dataIndex, cb);\n      }\n      /**\n       * Get transform matrix of target (param target),\n       * in coordinate of its ancestor (param ancestor)\n       *\n       * @param {module:zrender/mixin/Transformable} target\n       * @param {module:zrender/mixin/Transformable} [ancestor]\n       */\n\n\n      function getTransform(target, ancestor) {\n        var mat = matrix.identity([]);\n\n        while (target && target !== ancestor) {\n          matrix.mul(mat, target.getLocalTransform(), mat);\n          target = target.parent;\n        }\n\n        return mat;\n      }\n      /**\n       * Apply transform to an vertex.\n       * @param {Array.<number>} target [x, y]\n       * @param {Array.<number>|TypedArray.<number>|Object} transform Can be:\n       *      + Transform matrix: like [1, 0, 0, 1, 0, 0]\n       *      + {position, rotation, scale}, the same as `zrender/Transformable`.\n       * @param {boolean=} invert Whether use invert matrix.\n       * @return {Array.<number>} [x, y]\n       */\n\n\n      function applyTransform(target, transform, invert) {\n        if (transform && !zrUtil.isArrayLike(transform)) {\n          transform = Transformable.getLocalTransform(transform);\n        }\n\n        if (invert) {\n          transform = matrix.invert([], transform);\n        }\n\n        return vector.applyTransform([], target, transform);\n      }\n      /**\n       * @param {string} direction 'left' 'right' 'top' 'bottom'\n       * @param {Array.<number>} transform Transform matrix: like [1, 0, 0, 1, 0, 0]\n       * @param {boolean=} invert Whether use invert matrix.\n       * @return {string} Transformed direction. 'left' 'right' 'top' 'bottom'\n       */\n\n\n      function transformDirection(direction, transform, invert) {\n        // Pick a base, ensure that transform result will not be (0, 0).\n        var hBase = transform[4] === 0 || transform[5] === 0 || transform[0] === 0 ? 1 : Math.abs(2 * transform[4] / transform[0]);\n        var vBase = transform[4] === 0 || transform[5] === 0 || transform[2] === 0 ? 1 : Math.abs(2 * transform[4] / transform[2]);\n        var vertex = [direction === 'left' ? -hBase : direction === 'right' ? hBase : 0, direction === 'top' ? -vBase : direction === 'bottom' ? vBase : 0];\n        vertex = applyTransform(vertex, transform, invert);\n        return Math.abs(vertex[0]) > Math.abs(vertex[1]) ? vertex[0] > 0 ? 'right' : 'left' : vertex[1] > 0 ? 'bottom' : 'top';\n      }\n      /**\n       * Apply group transition animation from g1 to g2.\n       * If no animatableModel, no animation.\n       */\n\n\n      function groupTransition(g1, g2, animatableModel, cb) {\n        if (!g1 || !g2) {\n          return;\n        }\n\n        function getElMap(g) {\n          var elMap = {};\n          g.traverse(function (el) {\n            if (!el.isGroup && el.anid) {\n              elMap[el.anid] = el;\n            }\n          });\n          return elMap;\n        }\n\n        function getAnimatableProps(el) {\n          var obj = {\n            position: vector.clone(el.position),\n            rotation: el.rotation\n          };\n\n          if (el.shape) {\n            obj.shape = zrUtil.extend({}, el.shape);\n          }\n\n          return obj;\n        }\n\n        var elMap1 = getElMap(g1);\n        g2.traverse(function (el) {\n          if (!el.isGroup && el.anid) {\n            var oldEl = elMap1[el.anid];\n\n            if (oldEl) {\n              var newProp = getAnimatableProps(el);\n              el.attr(getAnimatableProps(oldEl));\n              updateProps(el, newProp, animatableModel, el.dataIndex);\n            } // else {\n            //     if (el.previousProps) {\n            //         graphic.updateProps\n            //     }\n            // }\n\n          }\n        });\n      }\n      /**\n       * @param {Array.<Array.<number>>} points Like: [[23, 44], [53, 66], ...]\n       * @param {Object} rect {x, y, width, height}\n       * @return {Array.<Array.<number>>} A new clipped points.\n       */\n\n\n      function clipPointsByRect(points, rect) {\n        return zrUtil.map(points, function (point) {\n          var x = point[0];\n          x = mathMax(x, rect.x);\n          x = mathMin(x, rect.x + rect.width);\n          var y = point[1];\n          y = mathMax(y, rect.y);\n          y = mathMin(y, rect.y + rect.height);\n          return [x, y];\n        });\n      }\n      /**\n       * @param {Object} targetRect {x, y, width, height}\n       * @param {Object} rect {x, y, width, height}\n       * @return {Object} A new clipped rect. If rect size are negative, return undefined.\n       */\n\n\n      function clipRectByRect(targetRect, rect) {\n        var x = mathMax(targetRect.x, rect.x);\n        var x2 = mathMin(targetRect.x + targetRect.width, rect.x + rect.width);\n        var y = mathMax(targetRect.y, rect.y);\n        var y2 = mathMin(targetRect.y + targetRect.height, rect.y + rect.height);\n\n        if (x2 >= x && y2 >= y) {\n          return {\n            x: x,\n            y: y,\n            width: x2 - x,\n            height: y2 - y\n          };\n        }\n      }\n      /**\n       * @param {string} iconStr Support 'image://' or 'path://' or direct svg path.\n       * @param {Object} [opt] Properties of `module:zrender/Element`, except `style`.\n       * @param {Object} [rect] {x, y, width, height}\n       * @return {module:zrender/Element} Icon path or image element.\n       */\n\n\n      function createIcon(iconStr, opt, rect) {\n        opt = zrUtil.extend({\n          rectHover: true\n        }, opt);\n        var style = opt.style = {\n          strokeNoScale: true\n        };\n        rect = rect || {\n          x: -1,\n          y: -1,\n          width: 2,\n          height: 2\n        };\n\n        if (iconStr) {\n          return iconStr.indexOf('image://') === 0 ? (style.image = iconStr.slice(8), zrUtil.defaults(style, rect), new Image(opt)) : makePath(iconStr.replace('path://', ''), opt, rect, 'center');\n        }\n      }\n\n      exports.extendShape = extendShape;\n      exports.extendPath = extendPath;\n      exports.makePath = makePath;\n      exports.makeImage = makeImage;\n      exports.mergePath = mergePath;\n      exports.resizePath = resizePath;\n      exports.subPixelOptimizeLine = subPixelOptimizeLine;\n      exports.subPixelOptimizeRect = subPixelOptimizeRect;\n      exports.subPixelOptimize = subPixelOptimize;\n      exports.setHoverStyle = setHoverStyle;\n      exports.setLabelStyle = setLabelStyle;\n      exports.setTextStyle = setTextStyle;\n      exports.setText = setText;\n      exports.getFont = getFont;\n      exports.updateProps = updateProps;\n      exports.initProps = initProps;\n      exports.getTransform = getTransform;\n      exports.applyTransform = applyTransform;\n      exports.transformDirection = transformDirection;\n      exports.groupTransition = groupTransition;\n      exports.clipPointsByRect = clipPointsByRect;\n      exports.clipRectByRect = clipRectByRect;\n      exports.createIcon = createIcon;\n      /***/\n    },\n    /* 39 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var Path = __webpack_require__(1);\n\n      var PathProxy = __webpack_require__(6);\n\n      var transformPath = __webpack_require__(57); // command chars\n\n\n      var cc = ['m', 'M', 'l', 'L', 'v', 'V', 'h', 'H', 'z', 'Z', 'c', 'C', 'q', 'Q', 't', 'T', 's', 'S', 'a', 'A'];\n      var mathSqrt = Math.sqrt;\n      var mathSin = Math.sin;\n      var mathCos = Math.cos;\n      var PI = Math.PI;\n\n      var vMag = function vMag(v) {\n        return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n      };\n\n      var vRatio = function vRatio(u, v) {\n        return (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v));\n      };\n\n      var vAngle = function vAngle(u, v) {\n        return (u[0] * v[1] < u[1] * v[0] ? -1 : 1) * Math.acos(vRatio(u, v));\n      };\n\n      function processArc(x1, y1, x2, y2, fa, fs, rx, ry, psiDeg, cmd, path) {\n        var psi = psiDeg * (PI / 180.0);\n        var xp = mathCos(psi) * (x1 - x2) / 2.0 + mathSin(psi) * (y1 - y2) / 2.0;\n        var yp = -1 * mathSin(psi) * (x1 - x2) / 2.0 + mathCos(psi) * (y1 - y2) / 2.0;\n        var lambda = xp * xp / (rx * rx) + yp * yp / (ry * ry);\n\n        if (lambda > 1) {\n          rx *= mathSqrt(lambda);\n          ry *= mathSqrt(lambda);\n        }\n\n        var f = (fa === fs ? -1 : 1) * mathSqrt((rx * rx * (ry * ry) - rx * rx * (yp * yp) - ry * ry * (xp * xp)) / (rx * rx * (yp * yp) + ry * ry * (xp * xp))) || 0;\n        var cxp = f * rx * yp / ry;\n        var cyp = f * -ry * xp / rx;\n        var cx = (x1 + x2) / 2.0 + mathCos(psi) * cxp - mathSin(psi) * cyp;\n        var cy = (y1 + y2) / 2.0 + mathSin(psi) * cxp + mathCos(psi) * cyp;\n        var theta = vAngle([1, 0], [(xp - cxp) / rx, (yp - cyp) / ry]);\n        var u = [(xp - cxp) / rx, (yp - cyp) / ry];\n        var v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\n        var dTheta = vAngle(u, v);\n\n        if (vRatio(u, v) <= -1) {\n          dTheta = PI;\n        }\n\n        if (vRatio(u, v) >= 1) {\n          dTheta = 0;\n        }\n\n        if (fs === 0 && dTheta > 0) {\n          dTheta = dTheta - 2 * PI;\n        }\n\n        if (fs === 1 && dTheta < 0) {\n          dTheta = dTheta + 2 * PI;\n        }\n\n        path.addData(cmd, cx, cy, rx, ry, theta, dTheta, psi, fs);\n      }\n\n      function createPathProxyFromString(data) {\n        if (!data) {\n          return [];\n        } // command string\n\n\n        var cs = data.replace(/-/g, ' -').replace(/  /g, ' ').replace(/ /g, ',').replace(/,,/g, ',');\n        var n; // create pipes so that we can split the data\n\n        for (n = 0; n < cc.length; n++) {\n          cs = cs.replace(new RegExp(cc[n], 'g'), '|' + cc[n]);\n        } // create array\n\n\n        var arr = cs.split('|'); // init context point\n\n        var cpx = 0;\n        var cpy = 0;\n        var path = new PathProxy();\n        var CMD = PathProxy.CMD;\n        var prevCmd;\n\n        for (n = 1; n < arr.length; n++) {\n          var str = arr[n];\n          var c = str.charAt(0);\n          var off = 0;\n          var p = str.slice(1).replace(/e,-/g, 'e-').split(',');\n          var cmd;\n\n          if (p.length > 0 && p[0] === '') {\n            p.shift();\n          }\n\n          for (var i = 0; i < p.length; i++) {\n            p[i] = parseFloat(p[i]);\n          }\n\n          while (off < p.length && !isNaN(p[off])) {\n            if (isNaN(p[0])) {\n              break;\n            }\n\n            var ctlPtx;\n            var ctlPty;\n            var rx;\n            var ry;\n            var psi;\n            var fa;\n            var fs;\n            var x1 = cpx;\n            var y1 = cpy; // convert l, H, h, V, and v to L\n\n            switch (c) {\n              case 'l':\n                cpx += p[off++];\n                cpy += p[off++];\n                cmd = CMD.L;\n                path.addData(cmd, cpx, cpy);\n                break;\n\n              case 'L':\n                cpx = p[off++];\n                cpy = p[off++];\n                cmd = CMD.L;\n                path.addData(cmd, cpx, cpy);\n                break;\n\n              case 'm':\n                cpx += p[off++];\n                cpy += p[off++];\n                cmd = CMD.M;\n                path.addData(cmd, cpx, cpy);\n                c = 'l';\n                break;\n\n              case 'M':\n                cpx = p[off++];\n                cpy = p[off++];\n                cmd = CMD.M;\n                path.addData(cmd, cpx, cpy);\n                c = 'L';\n                break;\n\n              case 'h':\n                cpx += p[off++];\n                cmd = CMD.L;\n                path.addData(cmd, cpx, cpy);\n                break;\n\n              case 'H':\n                cpx = p[off++];\n                cmd = CMD.L;\n                path.addData(cmd, cpx, cpy);\n                break;\n\n              case 'v':\n                cpy += p[off++];\n                cmd = CMD.L;\n                path.addData(cmd, cpx, cpy);\n                break;\n\n              case 'V':\n                cpy = p[off++];\n                cmd = CMD.L;\n                path.addData(cmd, cpx, cpy);\n                break;\n\n              case 'C':\n                cmd = CMD.C;\n                path.addData(cmd, p[off++], p[off++], p[off++], p[off++], p[off++], p[off++]);\n                cpx = p[off - 2];\n                cpy = p[off - 1];\n                break;\n\n              case 'c':\n                cmd = CMD.C;\n                path.addData(cmd, p[off++] + cpx, p[off++] + cpy, p[off++] + cpx, p[off++] + cpy, p[off++] + cpx, p[off++] + cpy);\n                cpx += p[off - 2];\n                cpy += p[off - 1];\n                break;\n\n              case 'S':\n                ctlPtx = cpx;\n                ctlPty = cpy;\n                var len = path.len();\n                var pathData = path.data;\n\n                if (prevCmd === CMD.C) {\n                  ctlPtx += cpx - pathData[len - 4];\n                  ctlPty += cpy - pathData[len - 3];\n                }\n\n                cmd = CMD.C;\n                x1 = p[off++];\n                y1 = p[off++];\n                cpx = p[off++];\n                cpy = p[off++];\n                path.addData(cmd, ctlPtx, ctlPty, x1, y1, cpx, cpy);\n                break;\n\n              case 's':\n                ctlPtx = cpx;\n                ctlPty = cpy;\n                var len = path.len();\n                var pathData = path.data;\n\n                if (prevCmd === CMD.C) {\n                  ctlPtx += cpx - pathData[len - 4];\n                  ctlPty += cpy - pathData[len - 3];\n                }\n\n                cmd = CMD.C;\n                x1 = cpx + p[off++];\n                y1 = cpy + p[off++];\n                cpx += p[off++];\n                cpy += p[off++];\n                path.addData(cmd, ctlPtx, ctlPty, x1, y1, cpx, cpy);\n                break;\n\n              case 'Q':\n                x1 = p[off++];\n                y1 = p[off++];\n                cpx = p[off++];\n                cpy = p[off++];\n                cmd = CMD.Q;\n                path.addData(cmd, x1, y1, cpx, cpy);\n                break;\n\n              case 'q':\n                x1 = p[off++] + cpx;\n                y1 = p[off++] + cpy;\n                cpx += p[off++];\n                cpy += p[off++];\n                cmd = CMD.Q;\n                path.addData(cmd, x1, y1, cpx, cpy);\n                break;\n\n              case 'T':\n                ctlPtx = cpx;\n                ctlPty = cpy;\n                var len = path.len();\n                var pathData = path.data;\n\n                if (prevCmd === CMD.Q) {\n                  ctlPtx += cpx - pathData[len - 4];\n                  ctlPty += cpy - pathData[len - 3];\n                }\n\n                cpx = p[off++];\n                cpy = p[off++];\n                cmd = CMD.Q;\n                path.addData(cmd, ctlPtx, ctlPty, cpx, cpy);\n                break;\n\n              case 't':\n                ctlPtx = cpx;\n                ctlPty = cpy;\n                var len = path.len();\n                var pathData = path.data;\n\n                if (prevCmd === CMD.Q) {\n                  ctlPtx += cpx - pathData[len - 4];\n                  ctlPty += cpy - pathData[len - 3];\n                }\n\n                cpx += p[off++];\n                cpy += p[off++];\n                cmd = CMD.Q;\n                path.addData(cmd, ctlPtx, ctlPty, cpx, cpy);\n                break;\n\n              case 'A':\n                rx = p[off++];\n                ry = p[off++];\n                psi = p[off++];\n                fa = p[off++];\n                fs = p[off++];\n                x1 = cpx, y1 = cpy;\n                cpx = p[off++];\n                cpy = p[off++];\n                cmd = CMD.A;\n                processArc(x1, y1, cpx, cpy, fa, fs, rx, ry, psi, cmd, path);\n                break;\n\n              case 'a':\n                rx = p[off++];\n                ry = p[off++];\n                psi = p[off++];\n                fa = p[off++];\n                fs = p[off++];\n                x1 = cpx, y1 = cpy;\n                cpx += p[off++];\n                cpy += p[off++];\n                cmd = CMD.A;\n                processArc(x1, y1, cpx, cpy, fa, fs, rx, ry, psi, cmd, path);\n                break;\n            }\n          }\n\n          if (c === 'z' || c === 'Z') {\n            cmd = CMD.Z;\n            path.addData(cmd);\n          }\n\n          prevCmd = cmd;\n        }\n\n        path.toStatic();\n        return path;\n      } // TODO Optimize double memory cost problem\n\n\n      function createPathOptions(str, opts) {\n        var pathProxy = createPathProxyFromString(str);\n        opts = opts || {};\n\n        opts.buildPath = function (path) {\n          if (path.setData) {\n            path.setData(pathProxy.data); // Svg and vml renderer don't have context\n\n            var ctx = path.getContext();\n\n            if (ctx) {\n              path.rebuildPath(ctx);\n            }\n          } else {\n            var ctx = path;\n            pathProxy.rebuildPath(ctx);\n          }\n        };\n\n        opts.applyTransform = function (m) {\n          transformPath(pathProxy, m);\n          this.dirty(true);\n        };\n\n        return opts;\n      }\n      /**\n       * Create a Path object from path string data\n       * http://www.w3.org/TR/SVG/paths.html#PathData\n       * @param  {Object} opts Other options\n       */\n\n\n      function createFromString(str, opts) {\n        return new Path(createPathOptions(str, opts));\n      }\n      /**\n       * Create a Path class from path string data\n       * @param  {string} str\n       * @param  {Object} opts Other options\n       */\n\n\n      function extendFromString(str, opts) {\n        return Path.extend(createPathOptions(str, opts));\n      }\n      /**\n       * Merge multiple paths\n       */\n      // TODO Apply transform\n      // TODO stroke dash\n      // TODO Optimize double memory cost problem\n\n\n      function mergePath(pathEls, opts) {\n        var pathList = [];\n        var len = pathEls.length;\n\n        for (var i = 0; i < len; i++) {\n          var pathEl = pathEls[i];\n\n          if (!pathEl.path) {\n            pathEl.createPathProxy();\n          }\n\n          if (pathEl.__dirtyPath) {\n            pathEl.buildPath(pathEl.path, pathEl.shape, true);\n          }\n\n          pathList.push(pathEl.path);\n        }\n\n        var pathBundle = new Path(opts); // Need path proxy.\n\n        pathBundle.createPathProxy();\n\n        pathBundle.buildPath = function (path) {\n          path.appendPath(pathList); // Svg and vml renderer don't have context\n\n          var ctx = path.getContext();\n\n          if (ctx) {\n            path.rebuildPath(ctx);\n          }\n        };\n\n        return pathBundle;\n      }\n\n      exports.createFromString = createFromString;\n      exports.extendFromString = extendFromString;\n      exports.mergePath = mergePath;\n      /***/\n    },\n    /* 40 */\n\n    /***/\n    function (module, exports) {\n      var STYLE_COMMON_PROPS = [['shadowBlur', 0], ['shadowOffsetX', 0], ['shadowOffsetY', 0], ['shadowColor', '#000'], ['lineCap', 'butt'], ['lineJoin', 'miter'], ['miterLimit', 10]]; // var SHADOW_PROPS = STYLE_COMMON_PROPS.slice(0, 4);\n      // var LINE_PROPS = STYLE_COMMON_PROPS.slice(4);\n\n      var Style = function Style(opts, host) {\n        this.extendFrom(opts, false);\n        this.host = host;\n      };\n\n      function createLinearGradient(ctx, obj, rect) {\n        var x = obj.x == null ? 0 : obj.x;\n        var x2 = obj.x2 == null ? 1 : obj.x2;\n        var y = obj.y == null ? 0 : obj.y;\n        var y2 = obj.y2 == null ? 0 : obj.y2;\n\n        if (!obj.global) {\n          x = x * rect.width + rect.x;\n          x2 = x2 * rect.width + rect.x;\n          y = y * rect.height + rect.y;\n          y2 = y2 * rect.height + rect.y;\n        }\n\n        var canvasGradient = ctx.createLinearGradient(x, y, x2, y2);\n        return canvasGradient;\n      }\n\n      function createRadialGradient(ctx, obj, rect) {\n        var width = rect.width;\n        var height = rect.height;\n        var min = Math.min(width, height);\n        var x = obj.x == null ? 0.5 : obj.x;\n        var y = obj.y == null ? 0.5 : obj.y;\n        var r = obj.r == null ? 0.5 : obj.r;\n\n        if (!obj.global) {\n          x = x * width + rect.x;\n          y = y * height + rect.y;\n          r = r * min;\n        }\n\n        var canvasGradient = ctx.createRadialGradient(x, y, 0, x, y, r);\n        return canvasGradient;\n      }\n\n      Style.prototype = {\n        constructor: Style,\n\n        /**\n         * @type {module:zrender/graphic/Displayable}\n         */\n        host: null,\n\n        /**\n         * @type {string}\n         */\n        fill: '#000',\n\n        /**\n         * @type {string}\n         */\n        stroke: null,\n\n        /**\n         * @type {number}\n         */\n        opacity: 1,\n\n        /**\n         * @type {Array.<number>}\n         */\n        lineDash: null,\n\n        /**\n         * @type {number}\n         */\n        lineDashOffset: 0,\n\n        /**\n         * @type {number}\n         */\n        shadowBlur: 0,\n\n        /**\n         * @type {number}\n         */\n        shadowOffsetX: 0,\n\n        /**\n         * @type {number}\n         */\n        shadowOffsetY: 0,\n\n        /**\n         * @type {number}\n         */\n        lineWidth: 1,\n\n        /**\n         * If stroke ignore scale\n         * @type {Boolean}\n         */\n        strokeNoScale: false,\n        // Bounding rect text configuration\n        // Not affected by element transform\n\n        /**\n         * @type {string}\n         */\n        text: null,\n\n        /**\n         * If `fontSize` or `fontFamily` exists, `font` will be reset by\n         * `fontSize`, `fontStyle`, `fontWeight`, `fontFamily`.\n         * So do not visit it directly in upper application (like echarts),\n         * but use `contain/text#makeFont` instead.\n         * @type {string}\n         */\n        font: null,\n\n        /**\n         * The same as font. Use font please.\n         * @deprecated\n         * @type {string}\n         */\n        textFont: null,\n\n        /**\n         * It helps merging respectively, rather than parsing an entire font string.\n         * @type {string}\n         */\n        fontStyle: null,\n\n        /**\n         * It helps merging respectively, rather than parsing an entire font string.\n         * @type {string}\n         */\n        fontWeight: null,\n\n        /**\n         * It helps merging respectively, rather than parsing an entire font string.\n         * Should be 12 but not '12px'.\n         * @type {number}\n         */\n        fontSize: null,\n\n        /**\n         * It helps merging respectively, rather than parsing an entire font string.\n         * @type {string}\n         */\n        fontFamily: null,\n\n        /**\n         * Reserved for special functinality, like 'hr'.\n         * @type {string}\n         */\n        textTag: null,\n\n        /**\n         * @type {string}\n         */\n        textFill: '#000',\n\n        /**\n         * @type {string}\n         */\n        textStroke: null,\n\n        /**\n         * @type {number}\n         */\n        textWidth: null,\n\n        /**\n         * Only for textBackground.\n         * @type {number}\n         */\n        textHeight: null,\n\n        /**\n         * textStroke may be set as some color as a default\n         * value in upper applicaion, where the default value\n         * of textStrokeWidth should be 0 to make sure that\n         * user can choose to do not use text stroke.\n         * @type {number}\n         */\n        textStrokeWidth: 0,\n\n        /**\n         * @type {number}\n         */\n        textLineHeight: null,\n\n        /**\n         * 'inside', 'left', 'right', 'top', 'bottom'\n         * [x, y]\n         * Based on x, y of rect.\n         * @type {string|Array.<number>}\n         * @default 'inside'\n         */\n        textPosition: 'inside',\n\n        /**\n         * If not specified, use the boundingRect of a `displayable`.\n         * @type {Object}\n         */\n        textRect: null,\n\n        /**\n         * [x, y]\n         * @type {Array.<number>}\n         */\n        textOffset: null,\n\n        /**\n         * @type {string}\n         */\n        textAlign: null,\n\n        /**\n         * @type {string}\n         */\n        textVerticalAlign: null,\n\n        /**\n         * @type {number}\n         */\n        textDistance: 5,\n\n        /**\n         * @type {string}\n         */\n        textShadowColor: 'transparent',\n\n        /**\n         * @type {number}\n         */\n        textShadowBlur: 0,\n\n        /**\n         * @type {number}\n         */\n        textShadowOffsetX: 0,\n\n        /**\n         * @type {number}\n         */\n        textShadowOffsetY: 0,\n\n        /**\n         * @type {string}\n         */\n        textBoxShadowColor: 'transparent',\n\n        /**\n         * @type {number}\n         */\n        textBoxShadowBlur: 0,\n\n        /**\n         * @type {number}\n         */\n        textBoxShadowOffsetX: 0,\n\n        /**\n         * @type {number}\n         */\n        textBoxShadowOffsetY: 0,\n\n        /**\n         * Whether transform text.\n         * Only useful in Path and Image element\n         * @type {boolean}\n         */\n        transformText: false,\n\n        /**\n         * Text rotate around position of Path or Image\n         * Only useful in Path and Image element and transformText is false.\n         */\n        textRotation: 0,\n\n        /**\n         * Text origin of text rotation, like [10, 40].\n         * Based on x, y of rect.\n         * Useful in label rotation of circular symbol.\n         * By default, this origin is textPosition.\n         * Can be 'center'.\n         * @type {string|Array.<number>}\n         */\n        textOrigin: null,\n\n        /**\n         * @type {string}\n         */\n        textBackgroundColor: null,\n\n        /**\n         * @type {string}\n         */\n        textBorderColor: null,\n\n        /**\n         * @type {number}\n         */\n        textBorderWidth: 0,\n\n        /**\n         * @type {number}\n         */\n        textBorderRadius: 0,\n\n        /**\n         * Can be `2` or `[2, 4]` or `[2, 3, 4, 5]`\n         * @type {number|Array.<number>}\n         */\n        textPadding: null,\n\n        /**\n         * Text styles for rich text.\n         * @type {Object}\n         */\n        rich: null,\n\n        /**\n         * {outerWidth, outerHeight, ellipsis, placeholder}\n         * @type {Object}\n         */\n        truncate: null,\n\n        /**\n         * https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation\n         * @type {string}\n         */\n        blend: null,\n\n        /**\n         * @param {CanvasRenderingContext2D} ctx\n         */\n        bind: function bind(ctx, el, prevEl) {\n          var style = this;\n          var prevStyle = prevEl && prevEl.style;\n          var firstDraw = !prevStyle;\n\n          for (var i = 0; i < STYLE_COMMON_PROPS.length; i++) {\n            var prop = STYLE_COMMON_PROPS[i];\n            var styleName = prop[0];\n\n            if (firstDraw || style[styleName] !== prevStyle[styleName]) {\n              // FIXME Invalid property value will cause style leak from previous element.\n              ctx[styleName] = style[styleName] || prop[1];\n            }\n          }\n\n          if (firstDraw || style.fill !== prevStyle.fill) {\n            ctx.fillStyle = style.fill;\n          }\n\n          if (firstDraw || style.stroke !== prevStyle.stroke) {\n            ctx.strokeStyle = style.stroke;\n          }\n\n          if (firstDraw || style.opacity !== prevStyle.opacity) {\n            ctx.globalAlpha = style.opacity == null ? 1 : style.opacity;\n          }\n\n          if (firstDraw || style.blend !== prevStyle.blend) {\n            ctx.globalCompositeOperation = style.blend || 'source-over';\n          }\n\n          if (this.hasStroke()) {\n            var lineWidth = style.lineWidth;\n            ctx.lineWidth = lineWidth / (this.strokeNoScale && el && el.getLineScale ? el.getLineScale() : 1);\n          }\n        },\n        hasFill: function hasFill() {\n          var fill = this.fill;\n          return fill != null && fill !== 'none';\n        },\n        hasStroke: function hasStroke() {\n          var stroke = this.stroke;\n          return stroke != null && stroke !== 'none' && this.lineWidth > 0;\n        },\n\n        /**\n         * Extend from other style\n         * @param {zrender/graphic/Style} otherStyle\n         * @param {boolean} overwrite true: overwrirte any way.\n         *                            false: overwrite only when !target.hasOwnProperty\n         *                            others: overwrite when property is not null/undefined.\n         */\n        extendFrom: function extendFrom(otherStyle, overwrite) {\n          if (otherStyle) {\n            for (var name in otherStyle) {\n              if (otherStyle.hasOwnProperty(name) && (overwrite === true || (overwrite === false ? !this.hasOwnProperty(name) : otherStyle[name] != null))) {\n                this[name] = otherStyle[name];\n              }\n            }\n          }\n        },\n\n        /**\n         * Batch setting style with a given object\n         * @param {Object|string} obj\n         * @param {*} [obj]\n         */\n        set: function set(obj, value) {\n          if (typeof obj === 'string') {\n            this[obj] = value;\n          } else {\n            this.extendFrom(obj, true);\n          }\n        },\n\n        /**\n         * Clone\n         * @return {zrender/graphic/Style} [description]\n         */\n        clone: function clone() {\n          var newStyle = new this.constructor();\n          newStyle.extendFrom(this, true);\n          return newStyle;\n        },\n        getGradient: function getGradient(ctx, obj, rect) {\n          var method = obj.type === 'radial' ? createRadialGradient : createLinearGradient;\n          var canvasGradient = method(ctx, obj, rect);\n          var colorStops = obj.colorStops;\n\n          for (var i = 0; i < colorStops.length; i++) {\n            canvasGradient.addColorStop(colorStops[i].offset, colorStops[i].color);\n          }\n\n          return canvasGradient;\n        }\n      };\n      var styleProto = Style.prototype;\n\n      for (var i = 0; i < STYLE_COMMON_PROPS.length; i++) {\n        var prop = STYLE_COMMON_PROPS[i];\n\n        if (!(prop[0] in styleProto)) {\n          styleProto[prop[0]] = prop[1];\n        }\n      } // Provide for others\n\n\n      Style.getGradient = styleProto.getGradient;\n      var _default = Style;\n      module.exports = _default;\n      /***/\n    },\n    /* 41 */\n\n    /***/\n    function (module, exports) {\n      /**\n       * zrender: 生成唯一id\n       *\n       * @author errorrik (errorrik@gmail.com)\n       */\n      var idStart = 0x0907;\n\n      function _default() {\n        return idStart++;\n      }\n\n      module.exports = _default;\n      /***/\n    },\n    /* 42 */\n\n    /***/\n    function (module, exports) {\n      /**\n       * 事件扩展\n       * @module zrender/mixin/Eventful\n       * @author Kener (@Kener-林峰, kener.linfeng@gmail.com)\n       *         pissang (https://www.github.com/pissang)\n       */\n      var arrySlice = Array.prototype.slice;\n      /**\n       * 事件分发器\n       * @alias module:zrender/mixin/Eventful\n       * @constructor\n       */\n\n      var Eventful = function Eventful() {\n        this._$handlers = {};\n      };\n\n      Eventful.prototype = {\n        constructor: Eventful,\n\n        /**\n         * 单次触发绑定，trigger后销毁\n         *\n         * @param {string} event 事件名\n         * @param {Function} handler 响应函数\n         * @param {Object} context\n         */\n        one: function one(event, handler, context) {\n          var _h = this._$handlers;\n\n          if (!handler || !event) {\n            return this;\n          }\n\n          if (!_h[event]) {\n            _h[event] = [];\n          }\n\n          for (var i = 0; i < _h[event].length; i++) {\n            if (_h[event][i].h === handler) {\n              return this;\n            }\n          }\n\n          _h[event].push({\n            h: handler,\n            one: true,\n            ctx: context || this\n          });\n\n          return this;\n        },\n\n        /**\n         * 绑定事件\n         * @param {string} event 事件名\n         * @param {Function} handler 事件处理函数\n         * @param {Object} [context]\n         */\n        on: function on(event, handler, context) {\n          var _h = this._$handlers;\n\n          if (!handler || !event) {\n            return this;\n          }\n\n          if (!_h[event]) {\n            _h[event] = [];\n          }\n\n          for (var i = 0; i < _h[event].length; i++) {\n            if (_h[event][i].h === handler) {\n              return this;\n            }\n          }\n\n          _h[event].push({\n            h: handler,\n            one: false,\n            ctx: context || this\n          });\n\n          return this;\n        },\n\n        /**\n         * 是否绑定了事件\n         * @param  {string}  event\n         * @return {boolean}\n         */\n        isSilent: function isSilent(event) {\n          var _h = this._$handlers;\n          return _h[event] && _h[event].length;\n        },\n\n        /**\n         * 解绑事件\n         * @param {string} event 事件名\n         * @param {Function} [handler] 事件处理函数\n         */\n        off: function off(event, handler) {\n          var _h = this._$handlers;\n\n          if (!event) {\n            this._$handlers = {};\n            return this;\n          }\n\n          if (handler) {\n            if (_h[event]) {\n              var newList = [];\n\n              for (var i = 0, l = _h[event].length; i < l; i++) {\n                if (_h[event][i]['h'] != handler) {\n                  newList.push(_h[event][i]);\n                }\n              }\n\n              _h[event] = newList;\n            }\n\n            if (_h[event] && _h[event].length === 0) {\n              delete _h[event];\n            }\n          } else {\n            delete _h[event];\n          }\n\n          return this;\n        },\n\n        /**\n         * 事件分发\n         *\n         * @param {string} type 事件类型\n         */\n        trigger: function trigger(type) {\n          if (this._$handlers[type]) {\n            var args = arguments;\n            var argLen = args.length;\n\n            if (argLen > 3) {\n              args = arrySlice.call(args, 1);\n            }\n\n            var _h = this._$handlers[type];\n            var len = _h.length;\n\n            for (var i = 0; i < len;) {\n              // Optimize advise from backbone\n              switch (argLen) {\n                case 1:\n                  _h[i]['h'].call(_h[i]['ctx']);\n\n                  break;\n\n                case 2:\n                  _h[i]['h'].call(_h[i]['ctx'], args[1]);\n\n                  break;\n\n                case 3:\n                  _h[i]['h'].call(_h[i]['ctx'], args[1], args[2]);\n\n                  break;\n\n                default:\n                  // have more than 2 given arguments\n                  _h[i]['h'].apply(_h[i]['ctx'], args);\n\n                  break;\n              }\n\n              if (_h[i]['one']) {\n                _h.splice(i, 1);\n\n                len--;\n              } else {\n                i++;\n              }\n            }\n          }\n\n          return this;\n        },\n\n        /**\n         * 带有context的事件分发, 最后一个参数是事件回调的context\n         * @param {string} type 事件类型\n         */\n        triggerWithContext: function triggerWithContext(type) {\n          if (this._$handlers[type]) {\n            var args = arguments;\n            var argLen = args.length;\n\n            if (argLen > 4) {\n              args = arrySlice.call(args, 1, args.length - 1);\n            }\n\n            var ctx = args[args.length - 1];\n            var _h = this._$handlers[type];\n            var len = _h.length;\n\n            for (var i = 0; i < len;) {\n              // Optimize advise from backbone\n              switch (argLen) {\n                case 1:\n                  _h[i]['h'].call(ctx);\n\n                  break;\n\n                case 2:\n                  _h[i]['h'].call(ctx, args[1]);\n\n                  break;\n\n                case 3:\n                  _h[i]['h'].call(ctx, args[1], args[2]);\n\n                  break;\n\n                default:\n                  // have more than 2 given arguments\n                  _h[i]['h'].apply(ctx, args);\n\n                  break;\n              }\n\n              if (_h[i]['one']) {\n                _h.splice(i, 1);\n\n                len--;\n              } else {\n                i++;\n              }\n            }\n          }\n\n          return this;\n        }\n      }; // 对象可以通过 onxxxx 绑定事件\n\n      /**\n       * @event module:zrender/mixin/Eventful#onclick\n       * @type {Function}\n       * @default null\n       */\n\n      /**\n       * @event module:zrender/mixin/Eventful#onmouseover\n       * @type {Function}\n       * @default null\n       */\n\n      /**\n       * @event module:zrender/mixin/Eventful#onmouseout\n       * @type {Function}\n       * @default null\n       */\n\n      /**\n       * @event module:zrender/mixin/Eventful#onmousemove\n       * @type {Function}\n       * @default null\n       */\n\n      /**\n       * @event module:zrender/mixin/Eventful#onmousewheel\n       * @type {Function}\n       * @default null\n       */\n\n      /**\n       * @event module:zrender/mixin/Eventful#onmousedown\n       * @type {Function}\n       * @default null\n       */\n\n      /**\n       * @event module:zrender/mixin/Eventful#onmouseup\n       * @type {Function}\n       * @default null\n       */\n\n      /**\n       * @event module:zrender/mixin/Eventful#ondrag\n       * @type {Function}\n       * @default null\n       */\n\n      /**\n       * @event module:zrender/mixin/Eventful#ondragstart\n       * @type {Function}\n       * @default null\n       */\n\n      /**\n       * @event module:zrender/mixin/Eventful#ondragend\n       * @type {Function}\n       * @default null\n       */\n\n      /**\n       * @event module:zrender/mixin/Eventful#ondragenter\n       * @type {Function}\n       * @default null\n       */\n\n      /**\n       * @event module:zrender/mixin/Eventful#ondragleave\n       * @type {Function}\n       * @default null\n       */\n\n      /**\n       * @event module:zrender/mixin/Eventful#ondragover\n       * @type {Function}\n       * @default null\n       */\n\n      /**\n       * @event module:zrender/mixin/Eventful#ondrop\n       * @type {Function}\n       * @default null\n       */\n\n      var _default = Eventful;\n      module.exports = _default;\n      /***/\n    },\n    /* 43 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var Animator = __webpack_require__(44);\n\n      var log = __webpack_require__(47);\n\n      var _util = __webpack_require__(0);\n\n      var isString = _util.isString;\n      var isFunction = _util.isFunction;\n      var isObject = _util.isObject;\n      var isArrayLike = _util.isArrayLike;\n      var indexOf = _util.indexOf;\n      /**\n       * @alias modue:zrender/mixin/Animatable\n       * @constructor\n       */\n\n      var Animatable = function Animatable() {\n        /**\n         * @type {Array.<module:zrender/animation/Animator>}\n         * @readOnly\n         */\n        this.animators = [];\n      };\n\n      Animatable.prototype = {\n        constructor: Animatable,\n\n        /**\n         * 动画\n         *\n         * @param {string} path The path to fetch value from object, like 'a.b.c'.\n         * @param {boolean} [loop] Whether to loop animation.\n         * @return {module:zrender/animation/Animator}\n         * @example:\n         *     el.animate('style', false)\n         *         .when(1000, {x: 10} )\n         *         .done(function(){ // Animation done })\n         *         .start()\n         */\n        animate: function animate(path, loop) {\n          var target;\n          var animatingShape = false;\n          var el = this;\n          var zr = this.__zr;\n\n          if (path) {\n            var pathSplitted = path.split('.');\n            var prop = el; // If animating shape\n\n            animatingShape = pathSplitted[0] === 'shape';\n\n            for (var i = 0, l = pathSplitted.length; i < l; i++) {\n              if (!prop) {\n                continue;\n              }\n\n              prop = prop[pathSplitted[i]];\n            }\n\n            if (prop) {\n              target = prop;\n            }\n          } else {\n            target = el;\n          }\n\n          if (!target) {\n            log('Property \"' + path + '\" is not existed in element ' + el.id);\n            return;\n          }\n\n          var animators = el.animators;\n          var animator = new Animator(target, loop);\n          animator.during(function (target) {\n            el.dirty(animatingShape);\n          }).done(function () {\n            // FIXME Animator will not be removed if use `Animator#stop` to stop animation\n            animators.splice(indexOf(animators, animator), 1);\n          });\n          animators.push(animator); // If animate after added to the zrender\n\n          if (zr) {\n            zr.animation.addAnimator(animator);\n          }\n\n          return animator;\n        },\n\n        /**\n         * 停止动画\n         * @param {boolean} forwardToLast If move to last frame before stop\n         */\n        stopAnimation: function stopAnimation(forwardToLast) {\n          var animators = this.animators;\n          var len = animators.length;\n\n          for (var i = 0; i < len; i++) {\n            animators[i].stop(forwardToLast);\n          }\n\n          animators.length = 0;\n          return this;\n        },\n\n        /**\n         * Caution: this method will stop previous animation.\n         * So do not use this method to one element twice before\n         * animation starts, unless you know what you are doing.\n         * @param {Object} target\n         * @param {number} [time=500] Time in ms\n         * @param {string} [easing='linear']\n         * @param {number} [delay=0]\n         * @param {Function} [callback]\n         * @param {Function} [forceAnimate] Prevent stop animation and callback\n         *        immediently when target values are the same as current values.\n         *\n         * @example\n         *  // Animate position\n         *  el.animateTo({\n         *      position: [10, 10]\n         *  }, function () { // done })\n         *\n         *  // Animate shape, style and position in 100ms, delayed 100ms, with cubicOut easing\n         *  el.animateTo({\n         *      shape: {\n         *          width: 500\n         *      },\n         *      style: {\n         *          fill: 'red'\n         *      }\n         *      position: [10, 10]\n         *  }, 100, 100, 'cubicOut', function () { // done })\n         */\n        // TODO Return animation key\n        animateTo: function animateTo(target, time, delay, easing, callback, forceAnimate) {\n          // animateTo(target, time, easing, callback);\n          if (isString(delay)) {\n            callback = easing;\n            easing = delay;\n            delay = 0;\n          } // animateTo(target, time, delay, callback);\n          else if (isFunction(easing)) {\n              callback = easing;\n              easing = 'linear';\n              delay = 0;\n            } // animateTo(target, time, callback);\n            else if (isFunction(delay)) {\n                callback = delay;\n                delay = 0;\n              } // animateTo(target, callback)\n              else if (isFunction(time)) {\n                  callback = time;\n                  time = 500;\n                } // animateTo(target)\n                else if (!time) {\n                    time = 500;\n                  } // Stop all previous animations\n\n\n          this.stopAnimation();\n\n          this._animateToShallow('', this, target, time, delay); // Animators may be removed immediately after start\n          // if there is nothing to animate\n\n\n          var animators = this.animators.slice();\n          var count = animators.length;\n\n          function done() {\n            count--;\n\n            if (!count) {\n              callback && callback();\n            }\n          } // No animators. This should be checked before animators[i].start(),\n          // because 'done' may be executed immediately if no need to animate.\n\n\n          if (!count) {\n            callback && callback();\n          } // Start after all animators created\n          // Incase any animator is done immediately when all animation properties are not changed\n\n\n          for (var i = 0; i < animators.length; i++) {\n            animators[i].done(done).start(easing, forceAnimate);\n          }\n        },\n\n        /**\n         * @private\n         * @param {string} path=''\n         * @param {Object} source=this\n         * @param {Object} target\n         * @param {number} [time=500]\n         * @param {number} [delay=0]\n         *\n         * @example\n         *  // Animate position\n         *  el._animateToShallow({\n         *      position: [10, 10]\n         *  })\n         *\n         *  // Animate shape, style and position in 100ms, delayed 100ms\n         *  el._animateToShallow({\n         *      shape: {\n         *          width: 500\n         *      },\n         *      style: {\n         *          fill: 'red'\n         *      }\n         *      position: [10, 10]\n         *  }, 100, 100)\n         */\n        _animateToShallow: function _animateToShallow(path, source, target, time, delay) {\n          var objShallow = {};\n          var propertyCount = 0;\n\n          for (var name in target) {\n            if (!target.hasOwnProperty(name)) {\n              continue;\n            }\n\n            if (source[name] != null) {\n              if (isObject(target[name]) && !isArrayLike(target[name])) {\n                this._animateToShallow(path ? path + '.' + name : name, source[name], target[name], time, delay);\n              } else {\n                objShallow[name] = target[name];\n                propertyCount++;\n              }\n            } else if (target[name] != null) {\n              // Attr directly if not has property\n              // FIXME, if some property not needed for element ?\n              if (!path) {\n                this.attr(name, target[name]);\n              } else {\n                // Shape or style\n                var props = {};\n                props[path] = {};\n                props[path][name] = target[name];\n                this.attr(props);\n              }\n            }\n          }\n\n          if (propertyCount > 0) {\n            this.animate(path, false).when(time == null ? 500 : time, objShallow).delay(delay || 0);\n          }\n\n          return this;\n        }\n      };\n      var _default = Animatable;\n      module.exports = _default;\n      /***/\n    },\n    /* 44 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var Clip = __webpack_require__(45);\n\n      var color = __webpack_require__(18);\n\n      var _util = __webpack_require__(0);\n\n      var isArrayLike = _util.isArrayLike;\n      /**\n       * @module echarts/animation/Animator\n       */\n\n      var arraySlice = Array.prototype.slice;\n\n      function defaultGetter(target, key) {\n        return target[key];\n      }\n\n      function defaultSetter(target, key, value) {\n        target[key] = value;\n      }\n      /**\n       * @param  {number} p0\n       * @param  {number} p1\n       * @param  {number} percent\n       * @return {number}\n       */\n\n\n      function interpolateNumber(p0, p1, percent) {\n        return (p1 - p0) * percent + p0;\n      }\n      /**\n       * @param  {string} p0\n       * @param  {string} p1\n       * @param  {number} percent\n       * @return {string}\n       */\n\n\n      function interpolateString(p0, p1, percent) {\n        return percent > 0.5 ? p1 : p0;\n      }\n      /**\n       * @param  {Array} p0\n       * @param  {Array} p1\n       * @param  {number} percent\n       * @param  {Array} out\n       * @param  {number} arrDim\n       */\n\n\n      function interpolateArray(p0, p1, percent, out, arrDim) {\n        var len = p0.length;\n\n        if (arrDim == 1) {\n          for (var i = 0; i < len; i++) {\n            out[i] = interpolateNumber(p0[i], p1[i], percent);\n          }\n        } else {\n          var len2 = len && p0[0].length;\n\n          for (var i = 0; i < len; i++) {\n            for (var j = 0; j < len2; j++) {\n              out[i][j] = interpolateNumber(p0[i][j], p1[i][j], percent);\n            }\n          }\n        }\n      } // arr0 is source array, arr1 is target array.\n      // Do some preprocess to avoid error happened when interpolating from arr0 to arr1\n\n\n      function fillArr(arr0, arr1, arrDim) {\n        var arr0Len = arr0.length;\n        var arr1Len = arr1.length;\n\n        if (arr0Len !== arr1Len) {\n          // FIXME Not work for TypedArray\n          var isPreviousLarger = arr0Len > arr1Len;\n\n          if (isPreviousLarger) {\n            // Cut the previous\n            arr0.length = arr1Len;\n          } else {\n            // Fill the previous\n            for (var i = arr0Len; i < arr1Len; i++) {\n              arr0.push(arrDim === 1 ? arr1[i] : arraySlice.call(arr1[i]));\n            }\n          }\n        } // Handling NaN value\n\n\n        var len2 = arr0[0] && arr0[0].length;\n\n        for (var i = 0; i < arr0.length; i++) {\n          if (arrDim === 1) {\n            if (isNaN(arr0[i])) {\n              arr0[i] = arr1[i];\n            }\n          } else {\n            for (var j = 0; j < len2; j++) {\n              if (isNaN(arr0[i][j])) {\n                arr0[i][j] = arr1[i][j];\n              }\n            }\n          }\n        }\n      }\n      /**\n       * @param  {Array} arr0\n       * @param  {Array} arr1\n       * @param  {number} arrDim\n       * @return {boolean}\n       */\n\n\n      function isArraySame(arr0, arr1, arrDim) {\n        if (arr0 === arr1) {\n          return true;\n        }\n\n        var len = arr0.length;\n\n        if (len !== arr1.length) {\n          return false;\n        }\n\n        if (arrDim === 1) {\n          for (var i = 0; i < len; i++) {\n            if (arr0[i] !== arr1[i]) {\n              return false;\n            }\n          }\n        } else {\n          var len2 = arr0[0].length;\n\n          for (var i = 0; i < len; i++) {\n            for (var j = 0; j < len2; j++) {\n              if (arr0[i][j] !== arr1[i][j]) {\n                return false;\n              }\n            }\n          }\n        }\n\n        return true;\n      }\n      /**\n       * Catmull Rom interpolate array\n       * @param  {Array} p0\n       * @param  {Array} p1\n       * @param  {Array} p2\n       * @param  {Array} p3\n       * @param  {number} t\n       * @param  {number} t2\n       * @param  {number} t3\n       * @param  {Array} out\n       * @param  {number} arrDim\n       */\n\n\n      function catmullRomInterpolateArray(p0, p1, p2, p3, t, t2, t3, out, arrDim) {\n        var len = p0.length;\n\n        if (arrDim == 1) {\n          for (var i = 0; i < len; i++) {\n            out[i] = catmullRomInterpolate(p0[i], p1[i], p2[i], p3[i], t, t2, t3);\n          }\n        } else {\n          var len2 = p0[0].length;\n\n          for (var i = 0; i < len; i++) {\n            for (var j = 0; j < len2; j++) {\n              out[i][j] = catmullRomInterpolate(p0[i][j], p1[i][j], p2[i][j], p3[i][j], t, t2, t3);\n            }\n          }\n        }\n      }\n      /**\n       * Catmull Rom interpolate number\n       * @param  {number} p0\n       * @param  {number} p1\n       * @param  {number} p2\n       * @param  {number} p3\n       * @param  {number} t\n       * @param  {number} t2\n       * @param  {number} t3\n       * @return {number}\n       */\n\n\n      function catmullRomInterpolate(p0, p1, p2, p3, t, t2, t3) {\n        var v0 = (p2 - p0) * 0.5;\n        var v1 = (p3 - p1) * 0.5;\n        return (2 * (p1 - p2) + v0 + v1) * t3 + (-3 * (p1 - p2) - 2 * v0 - v1) * t2 + v0 * t + p1;\n      }\n\n      function cloneValue(value) {\n        if (isArrayLike(value)) {\n          var len = value.length;\n\n          if (isArrayLike(value[0])) {\n            var ret = [];\n\n            for (var i = 0; i < len; i++) {\n              ret.push(arraySlice.call(value[i]));\n            }\n\n            return ret;\n          }\n\n          return arraySlice.call(value);\n        }\n\n        return value;\n      }\n\n      function rgba2String(rgba) {\n        rgba[0] = Math.floor(rgba[0]);\n        rgba[1] = Math.floor(rgba[1]);\n        rgba[2] = Math.floor(rgba[2]);\n        return 'rgba(' + rgba.join(',') + ')';\n      }\n\n      function getArrayDim(keyframes) {\n        var lastValue = keyframes[keyframes.length - 1].value;\n        return isArrayLike(lastValue && lastValue[0]) ? 2 : 1;\n      }\n\n      function createTrackClip(animator, easing, oneTrackDone, keyframes, propName, forceAnimate) {\n        var getter = animator._getter;\n        var setter = animator._setter;\n        var useSpline = easing === 'spline';\n        var trackLen = keyframes.length;\n\n        if (!trackLen) {\n          return;\n        } // Guess data type\n\n\n        var firstVal = keyframes[0].value;\n        var isValueArray = isArrayLike(firstVal);\n        var isValueColor = false;\n        var isValueString = false; // For vertices morphing\n\n        var arrDim = isValueArray ? getArrayDim(keyframes) : 0;\n        var trackMaxTime; // Sort keyframe as ascending\n\n        keyframes.sort(function (a, b) {\n          return a.time - b.time;\n        });\n        trackMaxTime = keyframes[trackLen - 1].time; // Percents of each keyframe\n\n        var kfPercents = []; // Value of each keyframe\n\n        var kfValues = [];\n        var prevValue = keyframes[0].value;\n        var isAllValueEqual = true;\n\n        for (var i = 0; i < trackLen; i++) {\n          kfPercents.push(keyframes[i].time / trackMaxTime); // Assume value is a color when it is a string\n\n          var value = keyframes[i].value; // Check if value is equal, deep check if value is array\n\n          if (!(isValueArray && isArraySame(value, prevValue, arrDim) || !isValueArray && value === prevValue)) {\n            isAllValueEqual = false;\n          }\n\n          prevValue = value; // Try converting a string to a color array\n\n          if (typeof value == 'string') {\n            var colorArray = color.parse(value);\n\n            if (colorArray) {\n              value = colorArray;\n              isValueColor = true;\n            } else {\n              isValueString = true;\n            }\n          }\n\n          kfValues.push(value);\n        }\n\n        if (!forceAnimate && isAllValueEqual) {\n          return;\n        }\n\n        var lastValue = kfValues[trackLen - 1]; // Polyfill array and NaN value\n\n        for (var i = 0; i < trackLen - 1; i++) {\n          if (isValueArray) {\n            fillArr(kfValues[i], lastValue, arrDim);\n          } else {\n            if (isNaN(kfValues[i]) && !isNaN(lastValue) && !isValueString && !isValueColor) {\n              kfValues[i] = lastValue;\n            }\n          }\n        }\n\n        isValueArray && fillArr(getter(animator._target, propName), lastValue, arrDim); // Cache the key of last frame to speed up when\n        // animation playback is sequency\n\n        var lastFrame = 0;\n        var lastFramePercent = 0;\n        var start;\n        var w;\n        var p0;\n        var p1;\n        var p2;\n        var p3;\n\n        if (isValueColor) {\n          var rgba = [0, 0, 0, 0];\n        }\n\n        var onframe = function onframe(target, percent) {\n          // Find the range keyframes\n          // kf1-----kf2---------current--------kf3\n          // find kf2 and kf3 and do interpolation\n          var frame; // In the easing function like elasticOut, percent may less than 0\n\n          if (percent < 0) {\n            frame = 0;\n          } else if (percent < lastFramePercent) {\n            // Start from next key\n            // PENDING start from lastFrame ?\n            start = Math.min(lastFrame + 1, trackLen - 1);\n\n            for (frame = start; frame >= 0; frame--) {\n              if (kfPercents[frame] <= percent) {\n                break;\n              }\n            } // PENDING really need to do this ?\n\n\n            frame = Math.min(frame, trackLen - 2);\n          } else {\n            for (frame = lastFrame; frame < trackLen; frame++) {\n              if (kfPercents[frame] > percent) {\n                break;\n              }\n            }\n\n            frame = Math.min(frame - 1, trackLen - 2);\n          }\n\n          lastFrame = frame;\n          lastFramePercent = percent;\n          var range = kfPercents[frame + 1] - kfPercents[frame];\n\n          if (range === 0) {\n            return;\n          } else {\n            w = (percent - kfPercents[frame]) / range;\n          }\n\n          if (useSpline) {\n            p1 = kfValues[frame];\n            p0 = kfValues[frame === 0 ? frame : frame - 1];\n            p2 = kfValues[frame > trackLen - 2 ? trackLen - 1 : frame + 1];\n            p3 = kfValues[frame > trackLen - 3 ? trackLen - 1 : frame + 2];\n\n            if (isValueArray) {\n              catmullRomInterpolateArray(p0, p1, p2, p3, w, w * w, w * w * w, getter(target, propName), arrDim);\n            } else {\n              var value;\n\n              if (isValueColor) {\n                value = catmullRomInterpolateArray(p0, p1, p2, p3, w, w * w, w * w * w, rgba, 1);\n                value = rgba2String(rgba);\n              } else if (isValueString) {\n                // String is step(0.5)\n                return interpolateString(p1, p2, w);\n              } else {\n                value = catmullRomInterpolate(p0, p1, p2, p3, w, w * w, w * w * w);\n              }\n\n              setter(target, propName, value);\n            }\n          } else {\n            if (isValueArray) {\n              interpolateArray(kfValues[frame], kfValues[frame + 1], w, getter(target, propName), arrDim);\n            } else {\n              var value;\n\n              if (isValueColor) {\n                interpolateArray(kfValues[frame], kfValues[frame + 1], w, rgba, 1);\n                value = rgba2String(rgba);\n              } else if (isValueString) {\n                // String is step(0.5)\n                return interpolateString(kfValues[frame], kfValues[frame + 1], w);\n              } else {\n                value = interpolateNumber(kfValues[frame], kfValues[frame + 1], w);\n              }\n\n              setter(target, propName, value);\n            }\n          }\n        };\n\n        var clip = new Clip({\n          target: animator._target,\n          life: trackMaxTime,\n          loop: animator._loop,\n          delay: animator._delay,\n          onframe: onframe,\n          ondestroy: oneTrackDone\n        });\n\n        if (easing && easing !== 'spline') {\n          clip.easing = easing;\n        }\n\n        return clip;\n      }\n      /**\n       * @alias module:zrender/animation/Animator\n       * @constructor\n       * @param {Object} target\n       * @param {boolean} loop\n       * @param {Function} getter\n       * @param {Function} setter\n       */\n\n\n      var Animator = function Animator(target, loop, getter, setter) {\n        this._tracks = {};\n        this._target = target;\n        this._loop = loop || false;\n        this._getter = getter || defaultGetter;\n        this._setter = setter || defaultSetter;\n        this._clipCount = 0;\n        this._delay = 0;\n        this._doneList = [];\n        this._onframeList = [];\n        this._clipList = [];\n      };\n\n      Animator.prototype = {\n        /**\n         * 设置动画关键帧\n         * @param  {number} time 关键帧时间，单位是ms\n         * @param  {Object} props 关键帧的属性值，key-value表示\n         * @return {module:zrender/animation/Animator}\n         */\n        when: function when(time\n        /* ms */\n        , props) {\n          var tracks = this._tracks;\n\n          for (var propName in props) {\n            if (!props.hasOwnProperty(propName)) {\n              continue;\n            }\n\n            if (!tracks[propName]) {\n              tracks[propName] = []; // Invalid value\n\n              var value = this._getter(this._target, propName);\n\n              if (value == null) {\n                // zrLog('Invalid property ' + propName);\n                continue;\n              } // If time is 0\n              //  Then props is given initialize value\n              // Else\n              //  Initialize value from current prop value\n\n\n              if (time !== 0) {\n                tracks[propName].push({\n                  time: 0,\n                  value: cloneValue(value)\n                });\n              }\n            }\n\n            tracks[propName].push({\n              time: time,\n              value: props[propName]\n            });\n          }\n\n          return this;\n        },\n\n        /**\n         * 添加动画每一帧的回调函数\n         * @param  {Function} callback\n         * @return {module:zrender/animation/Animator}\n         */\n        during: function during(callback) {\n          this._onframeList.push(callback);\n\n          return this;\n        },\n        pause: function pause() {\n          for (var i = 0; i < this._clipList.length; i++) {\n            this._clipList[i].pause();\n          }\n\n          this._paused = true;\n        },\n        resume: function resume() {\n          for (var i = 0; i < this._clipList.length; i++) {\n            this._clipList[i].resume();\n          }\n\n          this._paused = false;\n        },\n        isPaused: function isPaused() {\n          return !!this._paused;\n        },\n        _doneCallback: function _doneCallback() {\n          // Clear all tracks\n          this._tracks = {}; // Clear all clips\n\n          this._clipList.length = 0;\n          var doneList = this._doneList;\n          var len = doneList.length;\n\n          for (var i = 0; i < len; i++) {\n            doneList[i].call(this);\n          }\n        },\n\n        /**\n         * 开始执行动画\n         * @param  {string|Function} [easing]\n         *         动画缓动函数，详见{@link module:zrender/animation/easing}\n         * @param  {boolean} forceAnimate\n         * @return {module:zrender/animation/Animator}\n         */\n        start: function start(easing, forceAnimate) {\n          var self = this;\n          var clipCount = 0;\n\n          var oneTrackDone = function oneTrackDone() {\n            clipCount--;\n\n            if (!clipCount) {\n              self._doneCallback();\n            }\n          };\n\n          var lastClip;\n\n          for (var propName in this._tracks) {\n            if (!this._tracks.hasOwnProperty(propName)) {\n              continue;\n            }\n\n            var clip = createTrackClip(this, easing, oneTrackDone, this._tracks[propName], propName, forceAnimate);\n\n            if (clip) {\n              this._clipList.push(clip);\n\n              clipCount++; // If start after added to animation\n\n              if (this.animation) {\n                this.animation.addClip(clip);\n              }\n\n              lastClip = clip;\n            }\n          } // Add during callback on the last clip\n\n\n          if (lastClip) {\n            var oldOnFrame = lastClip.onframe;\n\n            lastClip.onframe = function (target, percent) {\n              oldOnFrame(target, percent);\n\n              for (var i = 0; i < self._onframeList.length; i++) {\n                self._onframeList[i](target, percent);\n              }\n            };\n          } // This optimization will help the case that in the upper application\n          // the view may be refreshed frequently, where animation will be\n          // called repeatly but nothing changed.\n\n\n          if (!clipCount) {\n            this._doneCallback();\n          }\n\n          return this;\n        },\n\n        /**\n         * 停止动画\n         * @param {boolean} forwardToLast If move to last frame before stop\n         */\n        stop: function stop(forwardToLast) {\n          var clipList = this._clipList;\n          var animation = this.animation;\n\n          for (var i = 0; i < clipList.length; i++) {\n            var clip = clipList[i];\n\n            if (forwardToLast) {\n              // Move to last frame before stop\n              clip.onframe(this._target, 1);\n            }\n\n            animation && animation.removeClip(clip);\n          }\n\n          clipList.length = 0;\n        },\n\n        /**\n         * 设置动画延迟开始的时间\n         * @param  {number} time 单位ms\n         * @return {module:zrender/animation/Animator}\n         */\n        delay: function delay(time) {\n          this._delay = time;\n          return this;\n        },\n\n        /**\n         * 添加动画结束的回调\n         * @param  {Function} cb\n         * @return {module:zrender/animation/Animator}\n         */\n        done: function done(cb) {\n          if (cb) {\n            this._doneList.push(cb);\n          }\n\n          return this;\n        },\n\n        /**\n         * @return {Array.<module:zrender/animation/Clip>}\n         */\n        getClips: function getClips() {\n          return this._clipList;\n        }\n      };\n      var _default = Animator;\n      module.exports = _default;\n      /***/\n    },\n    /* 45 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var easingFuncs = __webpack_require__(46);\n      /**\n       * 动画主控制器\n       * @config target 动画对象，可以是数组，如果是数组的话会批量分发onframe等事件\n       * @config life(1000) 动画时长\n       * @config delay(0) 动画延迟时间\n       * @config loop(true)\n       * @config gap(0) 循环的间隔时间\n       * @config onframe\n       * @config easing(optional)\n       * @config ondestroy(optional)\n       * @config onrestart(optional)\n       *\n       * TODO pause\n       */\n\n\n      function Clip(options) {\n        this._target = options.target; // 生命周期\n\n        this._life = options.life || 1000; // 延时\n\n        this._delay = options.delay || 0; // 开始时间\n        // this._startTime = new Date().getTime() + this._delay;// 单位毫秒\n\n        this._initialized = false; // 是否循环\n\n        this.loop = options.loop == null ? false : options.loop;\n        this.gap = options.gap || 0;\n        this.easing = options.easing || 'Linear';\n        this.onframe = options.onframe;\n        this.ondestroy = options.ondestroy;\n        this.onrestart = options.onrestart;\n        this._pausedTime = 0;\n        this._paused = false;\n      }\n\n      Clip.prototype = {\n        constructor: Clip,\n        step: function step(globalTime, deltaTime) {\n          // Set startTime on first step, or _startTime may has milleseconds different between clips\n          // PENDING\n          if (!this._initialized) {\n            this._startTime = globalTime + this._delay;\n            this._initialized = true;\n          }\n\n          if (this._paused) {\n            this._pausedTime += deltaTime;\n            return;\n          }\n\n          var percent = (globalTime - this._startTime - this._pausedTime) / this._life; // 还没开始\n\n          if (percent < 0) {\n            return;\n          }\n\n          percent = Math.min(percent, 1);\n          var easing = this.easing;\n          var easingFunc = typeof easing == 'string' ? easingFuncs[easing] : easing;\n          var schedule = typeof easingFunc === 'function' ? easingFunc(percent) : percent;\n          this.fire('frame', schedule); // 结束\n\n          if (percent == 1) {\n            if (this.loop) {\n              this.restart(globalTime); // 重新开始周期\n              // 抛出而不是直接调用事件直到 stage.update 后再统一调用这些事件\n\n              return 'restart';\n            } // 动画完成将这个控制器标识为待删除\n            // 在Animation.update中进行批量删除\n\n\n            this._needsRemove = true;\n            return 'destroy';\n          }\n\n          return null;\n        },\n        restart: function restart(globalTime) {\n          var remainder = (globalTime - this._startTime - this._pausedTime) % this._life;\n          this._startTime = globalTime - remainder + this.gap;\n          this._pausedTime = 0;\n          this._needsRemove = false;\n        },\n        fire: function fire(eventType, arg) {\n          eventType = 'on' + eventType;\n\n          if (this[eventType]) {\n            this[eventType](this._target, arg);\n          }\n        },\n        pause: function pause() {\n          this._paused = true;\n        },\n        resume: function resume() {\n          this._paused = false;\n        }\n      };\n      var _default = Clip;\n      module.exports = _default;\n      /***/\n    },\n    /* 46 */\n\n    /***/\n    function (module, exports) {\n      /**\n       * 缓动代码来自 https://github.com/sole/tween.js/blob/master/src/Tween.js\n       * @see http://sole.github.io/tween.js/examples/03_graphs.html\n       * @exports zrender/animation/easing\n       */\n      var easing = {\n        /**\n        * @param {number} k\n        * @return {number}\n        */\n        linear: function linear(k) {\n          return k;\n        },\n\n        /**\n        * @param {number} k\n        * @return {number}\n        */\n        quadraticIn: function quadraticIn(k) {\n          return k * k;\n        },\n\n        /**\n        * @param {number} k\n        * @return {number}\n        */\n        quadraticOut: function quadraticOut(k) {\n          return k * (2 - k);\n        },\n\n        /**\n        * @param {number} k\n        * @return {number}\n        */\n        quadraticInOut: function quadraticInOut(k) {\n          if ((k *= 2) < 1) {\n            return 0.5 * k * k;\n          }\n\n          return -0.5 * (--k * (k - 2) - 1);\n        },\n        // 三次方的缓动（t^3）\n\n        /**\n        * @param {number} k\n        * @return {number}\n        */\n        cubicIn: function cubicIn(k) {\n          return k * k * k;\n        },\n\n        /**\n        * @param {number} k\n        * @return {number}\n        */\n        cubicOut: function cubicOut(k) {\n          return --k * k * k + 1;\n        },\n\n        /**\n        * @param {number} k\n        * @return {number}\n        */\n        cubicInOut: function cubicInOut(k) {\n          if ((k *= 2) < 1) {\n            return 0.5 * k * k * k;\n          }\n\n          return 0.5 * ((k -= 2) * k * k + 2);\n        },\n        // 四次方的缓动（t^4）\n\n        /**\n        * @param {number} k\n        * @return {number}\n        */\n        quarticIn: function quarticIn(k) {\n          return k * k * k * k;\n        },\n\n        /**\n        * @param {number} k\n        * @return {number}\n        */\n        quarticOut: function quarticOut(k) {\n          return 1 - --k * k * k * k;\n        },\n\n        /**\n        * @param {number} k\n        * @return {number}\n        */\n        quarticInOut: function quarticInOut(k) {\n          if ((k *= 2) < 1) {\n            return 0.5 * k * k * k * k;\n          }\n\n          return -0.5 * ((k -= 2) * k * k * k - 2);\n        },\n        // 五次方的缓动（t^5）\n\n        /**\n        * @param {number} k\n        * @return {number}\n        */\n        quinticIn: function quinticIn(k) {\n          return k * k * k * k * k;\n        },\n\n        /**\n        * @param {number} k\n        * @return {number}\n        */\n        quinticOut: function quinticOut(k) {\n          return --k * k * k * k * k + 1;\n        },\n\n        /**\n        * @param {number} k\n        * @return {number}\n        */\n        quinticInOut: function quinticInOut(k) {\n          if ((k *= 2) < 1) {\n            return 0.5 * k * k * k * k * k;\n          }\n\n          return 0.5 * ((k -= 2) * k * k * k * k + 2);\n        },\n        // 正弦曲线的缓动（sin(t)）\n\n        /**\n        * @param {number} k\n        * @return {number}\n        */\n        sinusoidalIn: function sinusoidalIn(k) {\n          return 1 - Math.cos(k * Math.PI / 2);\n        },\n\n        /**\n        * @param {number} k\n        * @return {number}\n        */\n        sinusoidalOut: function sinusoidalOut(k) {\n          return Math.sin(k * Math.PI / 2);\n        },\n\n        /**\n        * @param {number} k\n        * @return {number}\n        */\n        sinusoidalInOut: function sinusoidalInOut(k) {\n          return 0.5 * (1 - Math.cos(Math.PI * k));\n        },\n        // 指数曲线的缓动（2^t）\n\n        /**\n        * @param {number} k\n        * @return {number}\n        */\n        exponentialIn: function exponentialIn(k) {\n          return k === 0 ? 0 : Math.pow(1024, k - 1);\n        },\n\n        /**\n        * @param {number} k\n        * @return {number}\n        */\n        exponentialOut: function exponentialOut(k) {\n          return k === 1 ? 1 : 1 - Math.pow(2, -10 * k);\n        },\n\n        /**\n        * @param {number} k\n        * @return {number}\n        */\n        exponentialInOut: function exponentialInOut(k) {\n          if (k === 0) {\n            return 0;\n          }\n\n          if (k === 1) {\n            return 1;\n          }\n\n          if ((k *= 2) < 1) {\n            return 0.5 * Math.pow(1024, k - 1);\n          }\n\n          return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2);\n        },\n        // 圆形曲线的缓动（sqrt(1-t^2)）\n\n        /**\n        * @param {number} k\n        * @return {number}\n        */\n        circularIn: function circularIn(k) {\n          return 1 - Math.sqrt(1 - k * k);\n        },\n\n        /**\n        * @param {number} k\n        * @return {number}\n        */\n        circularOut: function circularOut(k) {\n          return Math.sqrt(1 - --k * k);\n        },\n\n        /**\n        * @param {number} k\n        * @return {number}\n        */\n        circularInOut: function circularInOut(k) {\n          if ((k *= 2) < 1) {\n            return -0.5 * (Math.sqrt(1 - k * k) - 1);\n          }\n\n          return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n        },\n        // 创建类似于弹簧在停止前来回振荡的动画\n\n        /**\n        * @param {number} k\n        * @return {number}\n        */\n        elasticIn: function elasticIn(k) {\n          var s;\n          var a = 0.1;\n          var p = 0.4;\n\n          if (k === 0) {\n            return 0;\n          }\n\n          if (k === 1) {\n            return 1;\n          }\n\n          if (!a || a < 1) {\n            a = 1;\n            s = p / 4;\n          } else {\n            s = p * Math.asin(1 / a) / (2 * Math.PI);\n          }\n\n          return -(a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));\n        },\n\n        /**\n        * @param {number} k\n        * @return {number}\n        */\n        elasticOut: function elasticOut(k) {\n          var s;\n          var a = 0.1;\n          var p = 0.4;\n\n          if (k === 0) {\n            return 0;\n          }\n\n          if (k === 1) {\n            return 1;\n          }\n\n          if (!a || a < 1) {\n            a = 1;\n            s = p / 4;\n          } else {\n            s = p * Math.asin(1 / a) / (2 * Math.PI);\n          }\n\n          return a * Math.pow(2, -10 * k) * Math.sin((k - s) * (2 * Math.PI) / p) + 1;\n        },\n\n        /**\n        * @param {number} k\n        * @return {number}\n        */\n        elasticInOut: function elasticInOut(k) {\n          var s;\n          var a = 0.1;\n          var p = 0.4;\n\n          if (k === 0) {\n            return 0;\n          }\n\n          if (k === 1) {\n            return 1;\n          }\n\n          if (!a || a < 1) {\n            a = 1;\n            s = p / 4;\n          } else {\n            s = p * Math.asin(1 / a) / (2 * Math.PI);\n          }\n\n          if ((k *= 2) < 1) {\n            return -0.5 * (a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));\n          }\n\n          return a * Math.pow(2, -10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p) * 0.5 + 1;\n        },\n        // 在某一动画开始沿指示的路径进行动画处理前稍稍收回该动画的移动\n\n        /**\n        * @param {number} k\n        * @return {number}\n        */\n        backIn: function backIn(k) {\n          var s = 1.70158;\n          return k * k * ((s + 1) * k - s);\n        },\n\n        /**\n        * @param {number} k\n        * @return {number}\n        */\n        backOut: function backOut(k) {\n          var s = 1.70158;\n          return --k * k * ((s + 1) * k + s) + 1;\n        },\n\n        /**\n        * @param {number} k\n        * @return {number}\n        */\n        backInOut: function backInOut(k) {\n          var s = 1.70158 * 1.525;\n\n          if ((k *= 2) < 1) {\n            return 0.5 * (k * k * ((s + 1) * k - s));\n          }\n\n          return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n        },\n        // 创建弹跳效果\n\n        /**\n        * @param {number} k\n        * @return {number}\n        */\n        bounceIn: function bounceIn(k) {\n          return 1 - easing.bounceOut(1 - k);\n        },\n\n        /**\n        * @param {number} k\n        * @return {number}\n        */\n        bounceOut: function bounceOut(k) {\n          if (k < 1 / 2.75) {\n            return 7.5625 * k * k;\n          } else if (k < 2 / 2.75) {\n            return 7.5625 * (k -= 1.5 / 2.75) * k + 0.75;\n          } else if (k < 2.5 / 2.75) {\n            return 7.5625 * (k -= 2.25 / 2.75) * k + 0.9375;\n          } else {\n            return 7.5625 * (k -= 2.625 / 2.75) * k + 0.984375;\n          }\n        },\n\n        /**\n        * @param {number} k\n        * @return {number}\n        */\n        bounceInOut: function bounceInOut(k) {\n          if (k < 0.5) {\n            return easing.bounceIn(k * 2) * 0.5;\n          }\n\n          return easing.bounceOut(k * 2 - 1) * 0.5 + 0.5;\n        }\n      };\n      var _default = easing;\n      module.exports = _default;\n      /***/\n    },\n    /* 47 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var _config = __webpack_require__(19);\n\n      var debugMode = _config.debugMode;\n\n      var log = function log() {};\n\n      if (debugMode === 1) {\n        log = function log() {\n          for (var k in arguments) {\n            throw new Error(arguments[k]);\n          }\n        };\n      } else if (debugMode > 1) {\n        log = function log() {\n          for (var k in arguments) {\n            console.log(arguments[k]);\n          }\n        };\n      }\n\n      var _default = log;\n      module.exports = _default;\n      /***/\n    },\n    /* 48 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var textHelper = __webpack_require__(20);\n\n      var BoundingRect = __webpack_require__(3);\n      /**\n       * Mixin for drawing text in a element bounding rect\n       * @module zrender/mixin/RectText\n       */\n\n\n      var tmpRect = new BoundingRect();\n\n      var RectText = function RectText() {};\n\n      RectText.prototype = {\n        constructor: RectText,\n\n        /**\n         * Draw text in a rect with specified position.\n         * @param  {CanvasRenderingContext2D} ctx\n         * @param  {Object} rect Displayable rect\n         */\n        drawRectText: function drawRectText(ctx, rect) {\n          var style = this.style;\n          rect = style.textRect || rect; // Optimize, avoid normalize every time.\n\n          this.__dirty && textHelper.normalizeTextStyle(style, true);\n          var text = style.text; // Convert to string\n\n          text != null && (text += '');\n\n          if (!textHelper.needDrawText(text, style)) {\n            return;\n          } // FIXME\n\n\n          ctx.save(); // Transform rect to view space\n\n          var transform = this.transform;\n\n          if (!style.transformText) {\n            if (transform) {\n              tmpRect.copy(rect);\n              tmpRect.applyTransform(transform);\n              rect = tmpRect;\n            }\n          } else {\n            this.setTransform(ctx);\n          } // transformText and textRotation can not be used at the same time.\n\n\n          textHelper.renderText(this, ctx, text, style, rect);\n          ctx.restore();\n        }\n      };\n      var _default = RectText;\n      module.exports = _default;\n      /***/\n    },\n    /* 49 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var vec2 = __webpack_require__(2);\n\n      var curve = __webpack_require__(4);\n      /**\n       * @author Yi Shen(https://github.com/pissang)\n       */\n\n\n      var mathMin = Math.min;\n      var mathMax = Math.max;\n      var mathSin = Math.sin;\n      var mathCos = Math.cos;\n      var PI2 = Math.PI * 2;\n      var start = vec2.create();\n      var end = vec2.create();\n      var extremity = vec2.create();\n      /**\n       * 从顶点数组中计算出最小包围盒，写入`min`和`max`中\n       * @module zrender/core/bbox\n       * @param {Array<Object>} points 顶点数组\n       * @param {number} min\n       * @param {number} max\n       */\n\n      function fromPoints(points, min, max) {\n        if (points.length === 0) {\n          return;\n        }\n\n        var p = points[0];\n        var left = p[0];\n        var right = p[0];\n        var top = p[1];\n        var bottom = p[1];\n        var i;\n\n        for (i = 1; i < points.length; i++) {\n          p = points[i];\n          left = mathMin(left, p[0]);\n          right = mathMax(right, p[0]);\n          top = mathMin(top, p[1]);\n          bottom = mathMax(bottom, p[1]);\n        }\n\n        min[0] = left;\n        min[1] = top;\n        max[0] = right;\n        max[1] = bottom;\n      }\n      /**\n       * @memberOf module:zrender/core/bbox\n       * @param {number} x0\n       * @param {number} y0\n       * @param {number} x1\n       * @param {number} y1\n       * @param {Array.<number>} min\n       * @param {Array.<number>} max\n       */\n\n\n      function fromLine(x0, y0, x1, y1, min, max) {\n        min[0] = mathMin(x0, x1);\n        min[1] = mathMin(y0, y1);\n        max[0] = mathMax(x0, x1);\n        max[1] = mathMax(y0, y1);\n      }\n\n      var xDim = [];\n      var yDim = [];\n      /**\n       * 从三阶贝塞尔曲线(p0, p1, p2, p3)中计算出最小包围盒，写入`min`和`max`中\n       * @memberOf module:zrender/core/bbox\n       * @param {number} x0\n       * @param {number} y0\n       * @param {number} x1\n       * @param {number} y1\n       * @param {number} x2\n       * @param {number} y2\n       * @param {number} x3\n       * @param {number} y3\n       * @param {Array.<number>} min\n       * @param {Array.<number>} max\n       */\n\n      function fromCubic(x0, y0, x1, y1, x2, y2, x3, y3, min, max) {\n        var cubicExtrema = curve.cubicExtrema;\n        var cubicAt = curve.cubicAt;\n        var i;\n        var n = cubicExtrema(x0, x1, x2, x3, xDim);\n        min[0] = Infinity;\n        min[1] = Infinity;\n        max[0] = -Infinity;\n        max[1] = -Infinity;\n\n        for (i = 0; i < n; i++) {\n          var x = cubicAt(x0, x1, x2, x3, xDim[i]);\n          min[0] = mathMin(x, min[0]);\n          max[0] = mathMax(x, max[0]);\n        }\n\n        n = cubicExtrema(y0, y1, y2, y3, yDim);\n\n        for (i = 0; i < n; i++) {\n          var y = cubicAt(y0, y1, y2, y3, yDim[i]);\n          min[1] = mathMin(y, min[1]);\n          max[1] = mathMax(y, max[1]);\n        }\n\n        min[0] = mathMin(x0, min[0]);\n        max[0] = mathMax(x0, max[0]);\n        min[0] = mathMin(x3, min[0]);\n        max[0] = mathMax(x3, max[0]);\n        min[1] = mathMin(y0, min[1]);\n        max[1] = mathMax(y0, max[1]);\n        min[1] = mathMin(y3, min[1]);\n        max[1] = mathMax(y3, max[1]);\n      }\n      /**\n       * 从二阶贝塞尔曲线(p0, p1, p2)中计算出最小包围盒，写入`min`和`max`中\n       * @memberOf module:zrender/core/bbox\n       * @param {number} x0\n       * @param {number} y0\n       * @param {number} x1\n       * @param {number} y1\n       * @param {number} x2\n       * @param {number} y2\n       * @param {Array.<number>} min\n       * @param {Array.<number>} max\n       */\n\n\n      function fromQuadratic(x0, y0, x1, y1, x2, y2, min, max) {\n        var quadraticExtremum = curve.quadraticExtremum;\n        var quadraticAt = curve.quadraticAt; // Find extremities, where derivative in x dim or y dim is zero\n\n        var tx = mathMax(mathMin(quadraticExtremum(x0, x1, x2), 1), 0);\n        var ty = mathMax(mathMin(quadraticExtremum(y0, y1, y2), 1), 0);\n        var x = quadraticAt(x0, x1, x2, tx);\n        var y = quadraticAt(y0, y1, y2, ty);\n        min[0] = mathMin(x0, x2, x);\n        min[1] = mathMin(y0, y2, y);\n        max[0] = mathMax(x0, x2, x);\n        max[1] = mathMax(y0, y2, y);\n      }\n      /**\n       * 从圆弧中计算出最小包围盒，写入`min`和`max`中\n       * @method\n       * @memberOf module:zrender/core/bbox\n       * @param {number} x\n       * @param {number} y\n       * @param {number} rx\n       * @param {number} ry\n       * @param {number} startAngle\n       * @param {number} endAngle\n       * @param {number} anticlockwise\n       * @param {Array.<number>} min\n       * @param {Array.<number>} max\n       */\n\n\n      function fromArc(x, y, rx, ry, startAngle, endAngle, anticlockwise, min, max) {\n        var vec2Min = vec2.min;\n        var vec2Max = vec2.max;\n        var diff = Math.abs(startAngle - endAngle);\n\n        if (diff % PI2 < 1e-4 && diff > 1e-4) {\n          // Is a circle\n          min[0] = x - rx;\n          min[1] = y - ry;\n          max[0] = x + rx;\n          max[1] = y + ry;\n          return;\n        }\n\n        start[0] = mathCos(startAngle) * rx + x;\n        start[1] = mathSin(startAngle) * ry + y;\n        end[0] = mathCos(endAngle) * rx + x;\n        end[1] = mathSin(endAngle) * ry + y;\n        vec2Min(min, start, end);\n        vec2Max(max, start, end); // Thresh to [0, Math.PI * 2]\n\n        startAngle = startAngle % PI2;\n\n        if (startAngle < 0) {\n          startAngle = startAngle + PI2;\n        }\n\n        endAngle = endAngle % PI2;\n\n        if (endAngle < 0) {\n          endAngle = endAngle + PI2;\n        }\n\n        if (startAngle > endAngle && !anticlockwise) {\n          endAngle += PI2;\n        } else if (startAngle < endAngle && anticlockwise) {\n          startAngle += PI2;\n        }\n\n        if (anticlockwise) {\n          var tmp = endAngle;\n          endAngle = startAngle;\n          startAngle = tmp;\n        } // var number = 0;\n        // var step = (anticlockwise ? -Math.PI : Math.PI) / 2;\n\n\n        for (var angle = 0; angle < endAngle; angle += Math.PI / 2) {\n          if (angle > startAngle) {\n            extremity[0] = mathCos(angle) * rx + x;\n            extremity[1] = mathSin(angle) * ry + y;\n            vec2Min(min, extremity, min);\n            vec2Max(max, extremity, max);\n          }\n        }\n      }\n\n      exports.fromPoints = fromPoints;\n      exports.fromLine = fromLine;\n      exports.fromCubic = fromCubic;\n      exports.fromQuadratic = fromQuadratic;\n      exports.fromArc = fromArc;\n      /***/\n    },\n    /* 50 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var PathProxy = __webpack_require__(6);\n\n      var line = __webpack_require__(51);\n\n      var cubic = __webpack_require__(52);\n\n      var quadratic = __webpack_require__(53);\n\n      var arc = __webpack_require__(54);\n\n      var _util = __webpack_require__(22);\n\n      var normalizeRadian = _util.normalizeRadian;\n\n      var curve = __webpack_require__(4);\n\n      var windingLine = __webpack_require__(55);\n\n      var CMD = PathProxy.CMD;\n      var PI2 = Math.PI * 2;\n      var EPSILON = 1e-4;\n\n      function isAroundEqual(a, b) {\n        return Math.abs(a - b) < EPSILON;\n      } // 临时数组\n\n\n      var roots = [-1, -1, -1];\n      var extrema = [-1, -1];\n\n      function swapExtrema() {\n        var tmp = extrema[0];\n        extrema[0] = extrema[1];\n        extrema[1] = tmp;\n      }\n\n      function windingCubic(x0, y0, x1, y1, x2, y2, x3, y3, x, y) {\n        // Quick reject\n        if (y > y0 && y > y1 && y > y2 && y > y3 || y < y0 && y < y1 && y < y2 && y < y3) {\n          return 0;\n        }\n\n        var nRoots = curve.cubicRootAt(y0, y1, y2, y3, y, roots);\n\n        if (nRoots === 0) {\n          return 0;\n        } else {\n          var w = 0;\n          var nExtrema = -1;\n          var y0_, y1_;\n\n          for (var i = 0; i < nRoots; i++) {\n            var t = roots[i]; // Avoid winding error when intersection point is the connect point of two line of polygon\n\n            var unit = t === 0 || t === 1 ? 0.5 : 1;\n            var x_ = curve.cubicAt(x0, x1, x2, x3, t);\n\n            if (x_ < x) {\n              // Quick reject\n              continue;\n            }\n\n            if (nExtrema < 0) {\n              nExtrema = curve.cubicExtrema(y0, y1, y2, y3, extrema);\n\n              if (extrema[1] < extrema[0] && nExtrema > 1) {\n                swapExtrema();\n              }\n\n              y0_ = curve.cubicAt(y0, y1, y2, y3, extrema[0]);\n\n              if (nExtrema > 1) {\n                y1_ = curve.cubicAt(y0, y1, y2, y3, extrema[1]);\n              }\n            }\n\n            if (nExtrema == 2) {\n              // 分成三段单调函数\n              if (t < extrema[0]) {\n                w += y0_ < y0 ? unit : -unit;\n              } else if (t < extrema[1]) {\n                w += y1_ < y0_ ? unit : -unit;\n              } else {\n                w += y3 < y1_ ? unit : -unit;\n              }\n            } else {\n              // 分成两段单调函数\n              if (t < extrema[0]) {\n                w += y0_ < y0 ? unit : -unit;\n              } else {\n                w += y3 < y0_ ? unit : -unit;\n              }\n            }\n          }\n\n          return w;\n        }\n      }\n\n      function windingQuadratic(x0, y0, x1, y1, x2, y2, x, y) {\n        // Quick reject\n        if (y > y0 && y > y1 && y > y2 || y < y0 && y < y1 && y < y2) {\n          return 0;\n        }\n\n        var nRoots = curve.quadraticRootAt(y0, y1, y2, y, roots);\n\n        if (nRoots === 0) {\n          return 0;\n        } else {\n          var t = curve.quadraticExtremum(y0, y1, y2);\n\n          if (t >= 0 && t <= 1) {\n            var w = 0;\n            var y_ = curve.quadraticAt(y0, y1, y2, t);\n\n            for (var i = 0; i < nRoots; i++) {\n              // Remove one endpoint.\n              var unit = roots[i] === 0 || roots[i] === 1 ? 0.5 : 1;\n              var x_ = curve.quadraticAt(x0, x1, x2, roots[i]);\n\n              if (x_ < x) {\n                // Quick reject\n                continue;\n              }\n\n              if (roots[i] < t) {\n                w += y_ < y0 ? unit : -unit;\n              } else {\n                w += y2 < y_ ? unit : -unit;\n              }\n            }\n\n            return w;\n          } else {\n            // Remove one endpoint.\n            var unit = roots[0] === 0 || roots[0] === 1 ? 0.5 : 1;\n            var x_ = curve.quadraticAt(x0, x1, x2, roots[0]);\n\n            if (x_ < x) {\n              // Quick reject\n              return 0;\n            }\n\n            return y2 < y0 ? unit : -unit;\n          }\n        }\n      } // TODO\n      // Arc 旋转\n\n\n      function windingArc(cx, cy, r, startAngle, endAngle, anticlockwise, x, y) {\n        y -= cy;\n\n        if (y > r || y < -r) {\n          return 0;\n        }\n\n        var tmp = Math.sqrt(r * r - y * y);\n        roots[0] = -tmp;\n        roots[1] = tmp;\n        var diff = Math.abs(startAngle - endAngle);\n\n        if (diff < 1e-4) {\n          return 0;\n        }\n\n        if (diff % PI2 < 1e-4) {\n          // Is a circle\n          startAngle = 0;\n          endAngle = PI2;\n          var dir = anticlockwise ? 1 : -1;\n\n          if (x >= roots[0] + cx && x <= roots[1] + cx) {\n            return dir;\n          } else {\n            return 0;\n          }\n        }\n\n        if (anticlockwise) {\n          var tmp = startAngle;\n          startAngle = normalizeRadian(endAngle);\n          endAngle = normalizeRadian(tmp);\n        } else {\n          startAngle = normalizeRadian(startAngle);\n          endAngle = normalizeRadian(endAngle);\n        }\n\n        if (startAngle > endAngle) {\n          endAngle += PI2;\n        }\n\n        var w = 0;\n\n        for (var i = 0; i < 2; i++) {\n          var x_ = roots[i];\n\n          if (x_ + cx > x) {\n            var angle = Math.atan2(y, x_);\n            var dir = anticlockwise ? 1 : -1;\n\n            if (angle < 0) {\n              angle = PI2 + angle;\n            }\n\n            if (angle >= startAngle && angle <= endAngle || angle + PI2 >= startAngle && angle + PI2 <= endAngle) {\n              if (angle > Math.PI / 2 && angle < Math.PI * 1.5) {\n                dir = -dir;\n              }\n\n              w += dir;\n            }\n          }\n        }\n\n        return w;\n      }\n\n      function containPath(data, lineWidth, isStroke, x, y) {\n        var w = 0;\n        var xi = 0;\n        var yi = 0;\n        var x0 = 0;\n        var y0 = 0;\n\n        for (var i = 0; i < data.length;) {\n          var cmd = data[i++]; // Begin a new subpath\n\n          if (cmd === CMD.M && i > 1) {\n            // Close previous subpath\n            if (!isStroke) {\n              w += windingLine(xi, yi, x0, y0, x, y);\n            } // 如果被任何一个 subpath 包含\n            // if (w !== 0) {\n            //     return true;\n            // }\n\n          }\n\n          if (i == 1) {\n            // 如果第一个命令是 L, C, Q\n            // 则 previous point 同绘制命令的第一个 point\n            //\n            // 第一个命令为 Arc 的情况下会在后面特殊处理\n            xi = data[i];\n            yi = data[i + 1];\n            x0 = xi;\n            y0 = yi;\n          }\n\n          switch (cmd) {\n            case CMD.M:\n              // moveTo 命令重新创建一个新的 subpath, 并且更新新的起点\n              // 在 closePath 的时候使用\n              x0 = data[i++];\n              y0 = data[i++];\n              xi = x0;\n              yi = y0;\n              break;\n\n            case CMD.L:\n              if (isStroke) {\n                if (line.containStroke(xi, yi, data[i], data[i + 1], lineWidth, x, y)) {\n                  return true;\n                }\n              } else {\n                // NOTE 在第一个命令为 L, C, Q 的时候会计算出 NaN\n                w += windingLine(xi, yi, data[i], data[i + 1], x, y) || 0;\n              }\n\n              xi = data[i++];\n              yi = data[i++];\n              break;\n\n            case CMD.C:\n              if (isStroke) {\n                if (cubic.containStroke(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], lineWidth, x, y)) {\n                  return true;\n                }\n              } else {\n                w += windingCubic(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], x, y) || 0;\n              }\n\n              xi = data[i++];\n              yi = data[i++];\n              break;\n\n            case CMD.Q:\n              if (isStroke) {\n                if (quadratic.containStroke(xi, yi, data[i++], data[i++], data[i], data[i + 1], lineWidth, x, y)) {\n                  return true;\n                }\n              } else {\n                w += windingQuadratic(xi, yi, data[i++], data[i++], data[i], data[i + 1], x, y) || 0;\n              }\n\n              xi = data[i++];\n              yi = data[i++];\n              break;\n\n            case CMD.A:\n              // TODO Arc 判断的开销比较大\n              var cx = data[i++];\n              var cy = data[i++];\n              var rx = data[i++];\n              var ry = data[i++];\n              var theta = data[i++];\n              var dTheta = data[i++]; // TODO Arc 旋转\n\n              var psi = data[i++];\n              var anticlockwise = 1 - data[i++];\n              var x1 = Math.cos(theta) * rx + cx;\n              var y1 = Math.sin(theta) * ry + cy; // 不是直接使用 arc 命令\n\n              if (i > 1) {\n                w += windingLine(xi, yi, x1, y1, x, y);\n              } else {\n                // 第一个命令起点还未定义\n                x0 = x1;\n                y0 = y1;\n              } // zr 使用scale来模拟椭圆, 这里也对x做一定的缩放\n\n\n              var _x = (x - cx) * ry / rx + cx;\n\n              if (isStroke) {\n                if (arc.containStroke(cx, cy, ry, theta, theta + dTheta, anticlockwise, lineWidth, _x, y)) {\n                  return true;\n                }\n              } else {\n                w += windingArc(cx, cy, ry, theta, theta + dTheta, anticlockwise, _x, y);\n              }\n\n              xi = Math.cos(theta + dTheta) * rx + cx;\n              yi = Math.sin(theta + dTheta) * ry + cy;\n              break;\n\n            case CMD.R:\n              x0 = xi = data[i++];\n              y0 = yi = data[i++];\n              var width = data[i++];\n              var height = data[i++];\n              var x1 = x0 + width;\n              var y1 = y0 + height;\n\n              if (isStroke) {\n                if (line.containStroke(x0, y0, x1, y0, lineWidth, x, y) || line.containStroke(x1, y0, x1, y1, lineWidth, x, y) || line.containStroke(x1, y1, x0, y1, lineWidth, x, y) || line.containStroke(x0, y1, x0, y0, lineWidth, x, y)) {\n                  return true;\n                }\n              } else {\n                // FIXME Clockwise ?\n                w += windingLine(x1, y0, x1, y1, x, y);\n                w += windingLine(x0, y1, x0, y0, x, y);\n              }\n\n              break;\n\n            case CMD.Z:\n              if (isStroke) {\n                if (line.containStroke(xi, yi, x0, y0, lineWidth, x, y)) {\n                  return true;\n                }\n              } else {\n                // Close a subpath\n                w += windingLine(xi, yi, x0, y0, x, y); // 如果被任何一个 subpath 包含\n                // FIXME subpaths may overlap\n                // if (w !== 0) {\n                //     return true;\n                // }\n              }\n\n              xi = x0;\n              yi = y0;\n              break;\n          }\n        }\n\n        if (!isStroke && !isAroundEqual(yi, y0)) {\n          w += windingLine(xi, yi, x0, y0, x, y) || 0;\n        }\n\n        return w !== 0;\n      }\n\n      function contain(pathData, x, y) {\n        return containPath(pathData, 0, false, x, y);\n      }\n\n      function containStroke(pathData, lineWidth, x, y) {\n        return containPath(pathData, lineWidth, true, x, y);\n      }\n\n      exports.contain = contain;\n      exports.containStroke = containStroke;\n      /***/\n    },\n    /* 51 */\n\n    /***/\n    function (module, exports) {\n      /**\n       * 线段包含判断\n       * @param  {number}  x0\n       * @param  {number}  y0\n       * @param  {number}  x1\n       * @param  {number}  y1\n       * @param  {number}  lineWidth\n       * @param  {number}  x\n       * @param  {number}  y\n       * @return {boolean}\n       */\n      function containStroke(x0, y0, x1, y1, lineWidth, x, y) {\n        if (lineWidth === 0) {\n          return false;\n        }\n\n        var _l = lineWidth;\n        var _a = 0;\n        var _b = x0; // Quick reject\n\n        if (y > y0 + _l && y > y1 + _l || y < y0 - _l && y < y1 - _l || x > x0 + _l && x > x1 + _l || x < x0 - _l && x < x1 - _l) {\n          return false;\n        }\n\n        if (x0 !== x1) {\n          _a = (y0 - y1) / (x0 - x1);\n          _b = (x0 * y1 - x1 * y0) / (x0 - x1);\n        } else {\n          return Math.abs(x - x0) <= _l / 2;\n        }\n\n        var tmp = _a * x - y + _b;\n\n        var _s = tmp * tmp / (_a * _a + 1);\n\n        return _s <= _l / 2 * _l / 2;\n      }\n\n      exports.containStroke = containStroke;\n      /***/\n    },\n    /* 52 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var curve = __webpack_require__(4);\n      /**\n       * 三次贝塞尔曲线描边包含判断\n       * @param  {number}  x0\n       * @param  {number}  y0\n       * @param  {number}  x1\n       * @param  {number}  y1\n       * @param  {number}  x2\n       * @param  {number}  y2\n       * @param  {number}  x3\n       * @param  {number}  y3\n       * @param  {number}  lineWidth\n       * @param  {number}  x\n       * @param  {number}  y\n       * @return {boolean}\n       */\n\n\n      function containStroke(x0, y0, x1, y1, x2, y2, x3, y3, lineWidth, x, y) {\n        if (lineWidth === 0) {\n          return false;\n        }\n\n        var _l = lineWidth; // Quick reject\n\n        if (y > y0 + _l && y > y1 + _l && y > y2 + _l && y > y3 + _l || y < y0 - _l && y < y1 - _l && y < y2 - _l && y < y3 - _l || x > x0 + _l && x > x1 + _l && x > x2 + _l && x > x3 + _l || x < x0 - _l && x < x1 - _l && x < x2 - _l && x < x3 - _l) {\n          return false;\n        }\n\n        var d = curve.cubicProjectPoint(x0, y0, x1, y1, x2, y2, x3, y3, x, y, null);\n        return d <= _l / 2;\n      }\n\n      exports.containStroke = containStroke;\n      /***/\n    },\n    /* 53 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var _curve = __webpack_require__(4);\n\n      var quadraticProjectPoint = _curve.quadraticProjectPoint;\n      /**\n       * 二次贝塞尔曲线描边包含判断\n       * @param  {number}  x0\n       * @param  {number}  y0\n       * @param  {number}  x1\n       * @param  {number}  y1\n       * @param  {number}  x2\n       * @param  {number}  y2\n       * @param  {number}  lineWidth\n       * @param  {number}  x\n       * @param  {number}  y\n       * @return {boolean}\n       */\n\n      function containStroke(x0, y0, x1, y1, x2, y2, lineWidth, x, y) {\n        if (lineWidth === 0) {\n          return false;\n        }\n\n        var _l = lineWidth; // Quick reject\n\n        if (y > y0 + _l && y > y1 + _l && y > y2 + _l || y < y0 - _l && y < y1 - _l && y < y2 - _l || x > x0 + _l && x > x1 + _l && x > x2 + _l || x < x0 - _l && x < x1 - _l && x < x2 - _l) {\n          return false;\n        }\n\n        var d = quadraticProjectPoint(x0, y0, x1, y1, x2, y2, x, y, null);\n        return d <= _l / 2;\n      }\n\n      exports.containStroke = containStroke;\n      /***/\n    },\n    /* 54 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var _util = __webpack_require__(22);\n\n      var normalizeRadian = _util.normalizeRadian;\n      var PI2 = Math.PI * 2;\n      /**\n       * 圆弧描边包含判断\n       * @param  {number}  cx\n       * @param  {number}  cy\n       * @param  {number}  r\n       * @param  {number}  startAngle\n       * @param  {number}  endAngle\n       * @param  {boolean}  anticlockwise\n       * @param  {number} lineWidth\n       * @param  {number}  x\n       * @param  {number}  y\n       * @return {Boolean}\n       */\n\n      function containStroke(cx, cy, r, startAngle, endAngle, anticlockwise, lineWidth, x, y) {\n        if (lineWidth === 0) {\n          return false;\n        }\n\n        var _l = lineWidth;\n        x -= cx;\n        y -= cy;\n        var d = Math.sqrt(x * x + y * y);\n\n        if (d - _l > r || d + _l < r) {\n          return false;\n        }\n\n        if (Math.abs(startAngle - endAngle) % PI2 < 1e-4) {\n          // Is a circle\n          return true;\n        }\n\n        if (anticlockwise) {\n          var tmp = startAngle;\n          startAngle = normalizeRadian(endAngle);\n          endAngle = normalizeRadian(tmp);\n        } else {\n          startAngle = normalizeRadian(startAngle);\n          endAngle = normalizeRadian(endAngle);\n        }\n\n        if (startAngle > endAngle) {\n          endAngle += PI2;\n        }\n\n        var angle = Math.atan2(y, x);\n\n        if (angle < 0) {\n          angle += PI2;\n        }\n\n        return angle >= startAngle && angle <= endAngle || angle + PI2 >= startAngle && angle + PI2 <= endAngle;\n      }\n\n      exports.containStroke = containStroke;\n      /***/\n    },\n    /* 55 */\n\n    /***/\n    function (module, exports) {\n      function windingLine(x0, y0, x1, y1, x, y) {\n        if (y > y0 && y > y1 || y < y0 && y < y1) {\n          return 0;\n        } // Ignore horizontal line\n\n\n        if (y1 === y0) {\n          return 0;\n        }\n\n        var dir = y1 < y0 ? 1 : -1;\n        var t = (y - y0) / (y1 - y0); // Avoid winding error when intersection point is the connect point of two line of polygon\n\n        if (t === 1 || t === 0) {\n          dir = y1 < y0 ? 0.5 : -0.5;\n        }\n\n        var x_ = t * (x1 - x0) + x0;\n        return x_ > x ? dir : 0;\n      }\n\n      module.exports = windingLine;\n      /***/\n    },\n    /* 56 */\n\n    /***/\n    function (module, exports) {\n      var Pattern = function Pattern(image, repeat) {\n        // Should do nothing more in this constructor. Because gradient can be\n        // declard by `color: {image: ...}`, where this constructor will not be called.\n        this.image = image;\n        this.repeat = repeat; // Can be cloned\n\n        this.type = 'pattern';\n      };\n\n      Pattern.prototype.getCanvasPattern = function (ctx) {\n        return ctx.createPattern(this.image, this.repeat || 'repeat');\n      };\n\n      var _default = Pattern;\n      module.exports = _default;\n      /***/\n    },\n    /* 57 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var PathProxy = __webpack_require__(6);\n\n      var _vector = __webpack_require__(2);\n\n      var v2ApplyTransform = _vector.applyTransform;\n      var CMD = PathProxy.CMD;\n      var points = [[], [], []];\n      var mathSqrt = Math.sqrt;\n      var mathAtan2 = Math.atan2;\n\n      function _default(path, m) {\n        var data = path.data;\n        var cmd;\n        var nPoint;\n        var i;\n        var j;\n        var k;\n        var p;\n        var M = CMD.M;\n        var C = CMD.C;\n        var L = CMD.L;\n        var R = CMD.R;\n        var A = CMD.A;\n        var Q = CMD.Q;\n\n        for (i = 0, j = 0; i < data.length;) {\n          cmd = data[i++];\n          j = i;\n          nPoint = 0;\n\n          switch (cmd) {\n            case M:\n              nPoint = 1;\n              break;\n\n            case L:\n              nPoint = 1;\n              break;\n\n            case C:\n              nPoint = 3;\n              break;\n\n            case Q:\n              nPoint = 2;\n              break;\n\n            case A:\n              var x = m[4];\n              var y = m[5];\n              var sx = mathSqrt(m[0] * m[0] + m[1] * m[1]);\n              var sy = mathSqrt(m[2] * m[2] + m[3] * m[3]);\n              var angle = mathAtan2(-m[1] / sy, m[0] / sx); // cx\n\n              data[i] *= sx;\n              data[i++] += x; // cy\n\n              data[i] *= sy;\n              data[i++] += y; // Scale rx and ry\n              // FIXME Assume psi is 0 here\n\n              data[i++] *= sx;\n              data[i++] *= sy; // Start angle\n\n              data[i++] += angle; // end angle\n\n              data[i++] += angle; // FIXME psi\n\n              i += 2;\n              j = i;\n              break;\n\n            case R:\n              // x0, y0\n              p[0] = data[i++];\n              p[1] = data[i++];\n              v2ApplyTransform(p, p, m);\n              data[j++] = p[0];\n              data[j++] = p[1]; // x1, y1\n\n              p[0] += data[i++];\n              p[1] += data[i++];\n              v2ApplyTransform(p, p, m);\n              data[j++] = p[0];\n              data[j++] = p[1];\n          }\n\n          for (k = 0; k < nPoint; k++) {\n            var p = points[k];\n            p[0] = data[i++];\n            p[1] = data[i++];\n            v2ApplyTransform(p, p, m); // Write back\n\n            data[j++] = p[0];\n            data[j++] = p[1];\n          }\n        }\n      }\n\n      module.exports = _default;\n      /***/\n    },\n    /* 58 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var Displayable = __webpack_require__(12);\n\n      var BoundingRect = __webpack_require__(3);\n\n      var zrUtil = __webpack_require__(0);\n\n      var imageHelper = __webpack_require__(10);\n      /**\n       * @alias zrender/graphic/Image\n       * @extends module:zrender/graphic/Displayable\n       * @constructor\n       * @param {Object} opts\n       */\n\n\n      function ZImage(opts) {\n        Displayable.call(this, opts);\n      }\n\n      ZImage.prototype = {\n        constructor: ZImage,\n        type: 'image',\n        brush: function brush(ctx, prevEl) {\n          var style = this.style;\n          var src = style.image; // Must bind each time\n\n          style.bind(ctx, this, prevEl);\n          var image = this._image = imageHelper.createOrUpdateImage(src, this._image, this, this.onload);\n\n          if (!image || !imageHelper.isImageReady(image)) {\n            return;\n          } // 图片已经加载完成\n          // if (image.nodeName.toUpperCase() == 'IMG') {\n          //     if (!image.complete) {\n          //         return;\n          //     }\n          // }\n          // Else is canvas\n\n\n          var x = style.x || 0;\n          var y = style.y || 0;\n          var width = style.width;\n          var height = style.height;\n          var aspect = image.width / image.height;\n\n          if (width == null && height != null) {\n            // Keep image/height ratio\n            width = height * aspect;\n          } else if (height == null && width != null) {\n            height = width / aspect;\n          } else if (width == null && height == null) {\n            width = image.width;\n            height = image.height;\n          } // 设置transform\n\n\n          this.setTransform(ctx);\n\n          if (style.sWidth && style.sHeight) {\n            var sx = style.sx || 0;\n            var sy = style.sy || 0;\n            ctx.drawImage(image, sx, sy, style.sWidth, style.sHeight, x, y, width, height);\n          } else if (style.sx && style.sy) {\n            var sx = style.sx;\n            var sy = style.sy;\n            var sWidth = width - sx;\n            var sHeight = height - sy;\n            ctx.drawImage(image, sx, sy, sWidth, sHeight, x, y, width, height);\n          } else {\n            ctx.drawImage(image, x, y, width, height);\n          }\n\n          this.restoreTransform(ctx); // Draw rect text\n\n          if (style.text != null) {\n            this.drawRectText(ctx, this.getBoundingRect());\n          }\n        },\n        getBoundingRect: function getBoundingRect() {\n          var style = this.style;\n\n          if (!this._rect) {\n            this._rect = new BoundingRect(style.x || 0, style.y || 0, style.width || 0, style.height || 0);\n          }\n\n          return this._rect;\n        }\n      };\n      zrUtil.inherits(ZImage, Displayable);\n      var _default = ZImage;\n      module.exports = _default;\n      /***/\n    },\n    /* 59 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var zrUtil = __webpack_require__(0);\n\n      var Element = __webpack_require__(16);\n\n      var BoundingRect = __webpack_require__(3);\n      /**\n       * Group是一个容器，可以插入子节点，Group的变换也会被应用到子节点上\n       * @module zrender/graphic/Group\n       * @example\n       *     var Group = require('zrender/container/Group');\n       *     var Circle = require('zrender/graphic/shape/Circle');\n       *     var g = new Group();\n       *     g.position[0] = 100;\n       *     g.position[1] = 100;\n       *     g.add(new Circle({\n       *         style: {\n       *             x: 100,\n       *             y: 100,\n       *             r: 20,\n       *         }\n       *     }));\n       *     zr.add(g);\n       */\n\n      /**\n       * @alias module:zrender/graphic/Group\n       * @constructor\n       * @extends module:zrender/mixin/Transformable\n       * @extends module:zrender/mixin/Eventful\n       */\n\n\n      var Group = function Group(opts) {\n        opts = opts || {};\n        Element.call(this, opts);\n\n        for (var key in opts) {\n          if (opts.hasOwnProperty(key)) {\n            this[key] = opts[key];\n          }\n        }\n\n        this._children = [];\n        this.__storage = null;\n        this.__dirty = true;\n      };\n\n      Group.prototype = {\n        constructor: Group,\n        isGroup: true,\n\n        /**\n         * @type {string}\n         */\n        type: 'group',\n\n        /**\n         * 所有子孙元素是否响应鼠标事件\n         * @name module:/zrender/container/Group#silent\n         * @type {boolean}\n         * @default false\n         */\n        silent: false,\n\n        /**\n         * @return {Array.<module:zrender/Element>}\n         */\n        children: function children() {\n          return this._children.slice();\n        },\n\n        /**\n         * 获取指定 index 的儿子节点\n         * @param  {number} idx\n         * @return {module:zrender/Element}\n         */\n        childAt: function childAt(idx) {\n          return this._children[idx];\n        },\n\n        /**\n         * 获取指定名字的儿子节点\n         * @param  {string} name\n         * @return {module:zrender/Element}\n         */\n        childOfName: function childOfName(name) {\n          var children = this._children;\n\n          for (var i = 0; i < children.length; i++) {\n            if (children[i].name === name) {\n              return children[i];\n            }\n          }\n        },\n\n        /**\n         * @return {number}\n         */\n        childCount: function childCount() {\n          return this._children.length;\n        },\n\n        /**\n         * 添加子节点到最后\n         * @param {module:zrender/Element} child\n         */\n        add: function add(child) {\n          if (child && child !== this && child.parent !== this) {\n            this._children.push(child);\n\n            this._doAdd(child);\n          }\n\n          return this;\n        },\n\n        /**\n         * 添加子节点在 nextSibling 之前\n         * @param {module:zrender/Element} child\n         * @param {module:zrender/Element} nextSibling\n         */\n        addBefore: function addBefore(child, nextSibling) {\n          if (child && child !== this && child.parent !== this && nextSibling && nextSibling.parent === this) {\n            var children = this._children;\n            var idx = children.indexOf(nextSibling);\n\n            if (idx >= 0) {\n              children.splice(idx, 0, child);\n\n              this._doAdd(child);\n            }\n          }\n\n          return this;\n        },\n        _doAdd: function _doAdd(child) {\n          if (child.parent) {\n            child.parent.remove(child);\n          }\n\n          child.parent = this;\n          var storage = this.__storage;\n          var zr = this.__zr;\n\n          if (storage && storage !== child.__storage) {\n            storage.addToStorage(child);\n\n            if (child instanceof Group) {\n              child.addChildrenToStorage(storage);\n            }\n          }\n\n          zr && zr.refresh();\n        },\n\n        /**\n         * 移除子节点\n         * @param {module:zrender/Element} child\n         */\n        remove: function remove(child) {\n          var zr = this.__zr;\n          var storage = this.__storage;\n          var children = this._children;\n          var idx = zrUtil.indexOf(children, child);\n\n          if (idx < 0) {\n            return this;\n          }\n\n          children.splice(idx, 1);\n          child.parent = null;\n\n          if (storage) {\n            storage.delFromStorage(child);\n\n            if (child instanceof Group) {\n              child.delChildrenFromStorage(storage);\n            }\n          }\n\n          zr && zr.refresh();\n          return this;\n        },\n\n        /**\n         * 移除所有子节点\n         */\n        removeAll: function removeAll() {\n          var children = this._children;\n          var storage = this.__storage;\n          var child;\n          var i;\n\n          for (i = 0; i < children.length; i++) {\n            child = children[i];\n\n            if (storage) {\n              storage.delFromStorage(child);\n\n              if (child instanceof Group) {\n                child.delChildrenFromStorage(storage);\n              }\n            }\n\n            child.parent = null;\n          }\n\n          children.length = 0;\n          return this;\n        },\n\n        /**\n         * 遍历所有子节点\n         * @param  {Function} cb\n         * @param  {}   context\n         */\n        eachChild: function eachChild(cb, context) {\n          var children = this._children;\n\n          for (var i = 0; i < children.length; i++) {\n            var child = children[i];\n            cb.call(context, child, i);\n          }\n\n          return this;\n        },\n\n        /**\n         * 深度优先遍历所有子孙节点\n         * @param  {Function} cb\n         * @param  {}   context\n         */\n        traverse: function traverse(cb, context) {\n          for (var i = 0; i < this._children.length; i++) {\n            var child = this._children[i];\n            cb.call(context, child);\n\n            if (child.type === 'group') {\n              child.traverse(cb, context);\n            }\n          }\n\n          return this;\n        },\n        addChildrenToStorage: function addChildrenToStorage(storage) {\n          for (var i = 0; i < this._children.length; i++) {\n            var child = this._children[i];\n            storage.addToStorage(child);\n\n            if (child instanceof Group) {\n              child.addChildrenToStorage(storage);\n            }\n          }\n        },\n        delChildrenFromStorage: function delChildrenFromStorage(storage) {\n          for (var i = 0; i < this._children.length; i++) {\n            var child = this._children[i];\n            storage.delFromStorage(child);\n\n            if (child instanceof Group) {\n              child.delChildrenFromStorage(storage);\n            }\n          }\n        },\n        dirty: function dirty() {\n          this.__dirty = true;\n          this.__zr && this.__zr.refresh();\n          return this;\n        },\n\n        /**\n         * @return {module:zrender/core/BoundingRect}\n         */\n        getBoundingRect: function getBoundingRect(includeChildren) {\n          // TODO Caching\n          var rect = null;\n          var tmpRect = new BoundingRect(0, 0, 0, 0);\n          var children = includeChildren || this._children;\n          var tmpMat = [];\n\n          for (var i = 0; i < children.length; i++) {\n            var child = children[i];\n\n            if (child.ignore || child.invisible) {\n              continue;\n            }\n\n            var childRect = child.getBoundingRect();\n            var transform = child.getLocalTransform(tmpMat); // TODO\n            // The boundingRect cacluated by transforming original\n            // rect may be bigger than the actual bundingRect when rotation\n            // is used. (Consider a circle rotated aginst its center, where\n            // the actual boundingRect should be the same as that not be\n            // rotated.) But we can not find better approach to calculate\n            // actual boundingRect yet, considering performance.\n\n            if (transform) {\n              tmpRect.copy(childRect);\n              tmpRect.applyTransform(transform);\n              rect = rect || tmpRect.clone();\n              rect.union(tmpRect);\n            } else {\n              rect = rect || childRect.clone();\n              rect.union(childRect);\n            }\n          }\n\n          return rect || tmpRect;\n        }\n      };\n      zrUtil.inherits(Group, Element);\n      var _default = Group;\n      module.exports = _default;\n      /***/\n    },\n    /* 60 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var Displayable = __webpack_require__(12);\n\n      var zrUtil = __webpack_require__(0);\n\n      var textContain = __webpack_require__(5);\n\n      var textHelper = __webpack_require__(20);\n      /**\n       * @alias zrender/graphic/Text\n       * @extends module:zrender/graphic/Displayable\n       * @constructor\n       * @param {Object} opts\n       */\n\n\n      var Text = function Text(opts) {\n        // jshint ignore:line\n        Displayable.call(this, opts);\n      };\n\n      Text.prototype = {\n        constructor: Text,\n        type: 'text',\n        brush: function brush(ctx, prevEl) {\n          var style = this.style; // Optimize, avoid normalize every time.\n\n          this.__dirty && textHelper.normalizeTextStyle(style, true); // Use props with prefix 'text'.\n\n          style.fill = style.stroke = style.shadowBlur = style.shadowColor = style.shadowOffsetX = style.shadowOffsetY = null;\n          var text = style.text; // Convert to string\n\n          text != null && (text += ''); // Always bind style\n\n          style.bind(ctx, this, prevEl);\n\n          if (!textHelper.needDrawText(text, style)) {\n            return;\n          }\n\n          this.setTransform(ctx);\n          textHelper.renderText(this, ctx, text, style);\n          this.restoreTransform(ctx);\n        },\n        getBoundingRect: function getBoundingRect() {\n          var style = this.style; // Optimize, avoid normalize every time.\n\n          this.__dirty && textHelper.normalizeTextStyle(style, true);\n\n          if (!this._rect) {\n            var text = style.text;\n            text != null ? text += '' : text = '';\n            var rect = textContain.getBoundingRect(style.text + '', style.font, style.textAlign, style.textVerticalAlign, style.textPadding, style.rich);\n            rect.x += style.x || 0;\n            rect.y += style.y || 0;\n\n            if (textHelper.getStroke(style.textStroke, style.textStrokeWidth)) {\n              var w = style.textStrokeWidth;\n              rect.x -= w / 2;\n              rect.y -= w / 2;\n              rect.width += w;\n              rect.height += w;\n            }\n\n            this._rect = rect;\n          }\n\n          return this._rect;\n        }\n      };\n      zrUtil.inherits(Text, Displayable);\n      var _default = Text;\n      module.exports = _default;\n      /***/\n    },\n    /* 61 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var Path = __webpack_require__(1);\n      /**\n       * 圆形\n       * @module zrender/shape/Circle\n       */\n\n\n      var _default = Path.extend({\n        type: 'circle',\n        shape: {\n          cx: 0,\n          cy: 0,\n          r: 0\n        },\n        buildPath: function buildPath(ctx, shape, inBundle) {\n          // Better stroking in ShapeBundle\n          // Always do it may have performence issue ( fill may be 2x more cost)\n          if (inBundle) {\n            ctx.moveTo(shape.cx + shape.r, shape.cy);\n          } // else {\n          //     if (ctx.allocate && !ctx.data.length) {\n          //         ctx.allocate(ctx.CMD_MEM_SIZE.A);\n          //     }\n          // }\n          // Better stroking in ShapeBundle\n          // ctx.moveTo(shape.cx + shape.r, shape.cy);\n\n\n          ctx.arc(shape.cx, shape.cy, shape.r, 0, Math.PI * 2, true);\n        }\n      });\n\n      module.exports = _default;\n      /***/\n    },\n    /* 62 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var Path = __webpack_require__(1);\n\n      var fixClipWithShadow = __webpack_require__(63);\n      /**\n       * 扇形\n       * @module zrender/graphic/shape/Sector\n       */\n\n\n      var _default = Path.extend({\n        type: 'sector',\n        shape: {\n          cx: 0,\n          cy: 0,\n          r0: 0,\n          r: 0,\n          startAngle: 0,\n          endAngle: Math.PI * 2,\n          clockwise: true\n        },\n        brush: fixClipWithShadow(Path.prototype.brush),\n        buildPath: function buildPath(ctx, shape) {\n          var x = shape.cx;\n          var y = shape.cy;\n          var r0 = Math.max(shape.r0 || 0, 0);\n          var r = Math.max(shape.r, 0);\n          var startAngle = shape.startAngle;\n          var endAngle = shape.endAngle;\n          var clockwise = shape.clockwise;\n          var unitX = Math.cos(startAngle);\n          var unitY = Math.sin(startAngle);\n          ctx.moveTo(unitX * r0 + x, unitY * r0 + y);\n          ctx.lineTo(unitX * r + x, unitY * r + y);\n          ctx.arc(x, y, r, startAngle, endAngle, !clockwise);\n          ctx.lineTo(Math.cos(endAngle) * r0 + x, Math.sin(endAngle) * r0 + y);\n\n          if (r0 !== 0) {\n            ctx.arc(x, y, r0, endAngle, startAngle, clockwise);\n          }\n\n          ctx.closePath();\n        }\n      });\n\n      module.exports = _default;\n      /***/\n    },\n    /* 63 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var env = __webpack_require__(15); // Fix weird bug in some version of IE11 (like 11.0.9600.178**),\n      // where exception \"unexpected call to method or property access\"\n      // might be thrown when calling ctx.fill or ctx.stroke after a path\n      // whose area size is zero is drawn and ctx.clip() is called and\n      // shadowBlur is set. See #4572, #3112, #5777.\n      // (e.g.,\n      //  ctx.moveTo(10, 10);\n      //  ctx.lineTo(20, 10);\n      //  ctx.closePath();\n      //  ctx.clip();\n      //  ctx.shadowBlur = 10;\n      //  ...\n      //  ctx.fill();\n      // )\n\n\n      var shadowTemp = [['shadowBlur', 0], ['shadowColor', '#000'], ['shadowOffsetX', 0], ['shadowOffsetY', 0]];\n\n      function _default(orignalBrush) {\n        // version string can be: '11.0'\n        return env.browser.ie && env.browser.version >= 11 ? function () {\n          var clipPaths = this.__clipPaths;\n          var style = this.style;\n          var modified;\n\n          if (clipPaths) {\n            for (var i = 0; i < clipPaths.length; i++) {\n              var clipPath = clipPaths[i];\n              var shape = clipPath && clipPath.shape;\n              var type = clipPath && clipPath.type;\n\n              if (shape && (type === 'sector' && shape.startAngle === shape.endAngle || type === 'rect' && (!shape.width || !shape.height))) {\n                for (var j = 0; j < shadowTemp.length; j++) {\n                  // It is save to put shadowTemp static, because shadowTemp\n                  // will be all modified each item brush called.\n                  shadowTemp[j][2] = style[shadowTemp[j][0]];\n                  style[shadowTemp[j][0]] = shadowTemp[j][1];\n                }\n\n                modified = true;\n                break;\n              }\n            }\n          }\n\n          orignalBrush.apply(this, arguments);\n\n          if (modified) {\n            for (var j = 0; j < shadowTemp.length; j++) {\n              style[shadowTemp[j][0]] = shadowTemp[j][2];\n            }\n          }\n        } : orignalBrush;\n      }\n\n      module.exports = _default;\n      /***/\n    },\n    /* 64 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var Path = __webpack_require__(1);\n      /**\n       * 圆环\n       * @module zrender/graphic/shape/Ring\n       */\n\n\n      var _default = Path.extend({\n        type: 'ring',\n        shape: {\n          cx: 0,\n          cy: 0,\n          r: 0,\n          r0: 0\n        },\n        buildPath: function buildPath(ctx, shape) {\n          var x = shape.cx;\n          var y = shape.cy;\n          var PI2 = Math.PI * 2;\n          ctx.moveTo(x + shape.r, y);\n          ctx.arc(x, y, shape.r, 0, PI2, false);\n          ctx.moveTo(x + shape.r0, y);\n          ctx.arc(x, y, shape.r0, 0, PI2, true);\n        }\n      });\n\n      module.exports = _default;\n      /***/\n    },\n    /* 65 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var Path = __webpack_require__(1);\n\n      var polyHelper = __webpack_require__(23);\n      /**\n       * 多边形\n       * @module zrender/shape/Polygon\n       */\n\n\n      var _default = Path.extend({\n        type: 'polygon',\n        shape: {\n          points: null,\n          smooth: false,\n          smoothConstraint: null\n        },\n        buildPath: function buildPath(ctx, shape) {\n          polyHelper.buildPath(ctx, shape, true);\n        }\n      });\n\n      module.exports = _default;\n      /***/\n    },\n    /* 66 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var _vector = __webpack_require__(2);\n\n      var v2Distance = _vector.distance;\n      /**\n       * Catmull-Rom spline 插值折线\n       * @module zrender/shape/util/smoothSpline\n       * @author pissang (https://www.github.com/pissang)\n       *         Kener (@Kener-林峰, kener.linfeng@gmail.com)\n       *         errorrik (errorrik@gmail.com)\n       */\n\n      /**\n       * @inner\n       */\n\n      function interpolate(p0, p1, p2, p3, t, t2, t3) {\n        var v0 = (p2 - p0) * 0.5;\n        var v1 = (p3 - p1) * 0.5;\n        return (2 * (p1 - p2) + v0 + v1) * t3 + (-3 * (p1 - p2) - 2 * v0 - v1) * t2 + v0 * t + p1;\n      }\n      /**\n       * @alias module:zrender/shape/util/smoothSpline\n       * @param {Array} points 线段顶点数组\n       * @param {boolean} isLoop\n       * @return {Array}\n       */\n\n\n      function _default(points, isLoop) {\n        var len = points.length;\n        var ret = [];\n        var distance = 0;\n\n        for (var i = 1; i < len; i++) {\n          distance += v2Distance(points[i - 1], points[i]);\n        }\n\n        var segs = distance / 2;\n        segs = segs < len ? len : segs;\n\n        for (var i = 0; i < segs; i++) {\n          var pos = i / (segs - 1) * (isLoop ? len : len - 1);\n          var idx = Math.floor(pos);\n          var w = pos - idx;\n          var p0;\n          var p1 = points[idx % len];\n          var p2;\n          var p3;\n\n          if (!isLoop) {\n            p0 = points[idx === 0 ? idx : idx - 1];\n            p2 = points[idx > len - 2 ? len - 1 : idx + 1];\n            p3 = points[idx > len - 3 ? len - 1 : idx + 2];\n          } else {\n            p0 = points[(idx - 1 + len) % len];\n            p2 = points[(idx + 1) % len];\n            p3 = points[(idx + 2) % len];\n          }\n\n          var w2 = w * w;\n          var w3 = w * w2;\n          ret.push([interpolate(p0[0], p1[0], p2[0], p3[0], w, w2, w3), interpolate(p0[1], p1[1], p2[1], p3[1], w, w2, w3)]);\n        }\n\n        return ret;\n      }\n\n      module.exports = _default;\n      /***/\n    },\n    /* 67 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var _vector = __webpack_require__(2);\n\n      var v2Min = _vector.min;\n      var v2Max = _vector.max;\n      var v2Scale = _vector.scale;\n      var v2Distance = _vector.distance;\n      var v2Add = _vector.add;\n      var v2Clone = _vector.clone;\n      var v2Sub = _vector.sub;\n      /**\n       * 贝塞尔平滑曲线\n       * @module zrender/shape/util/smoothBezier\n       * @author pissang (https://www.github.com/pissang)\n       *         Kener (@Kener-林峰, kener.linfeng@gmail.com)\n       *         errorrik (errorrik@gmail.com)\n       */\n\n      /**\n       * 贝塞尔平滑曲线\n       * @alias module:zrender/shape/util/smoothBezier\n       * @param {Array} points 线段顶点数组\n       * @param {number} smooth 平滑等级, 0-1\n       * @param {boolean} isLoop\n       * @param {Array} constraint 将计算出来的控制点约束在一个包围盒内\n       *                           比如 [[0, 0], [100, 100]], 这个包围盒会与\n       *                           整个折线的包围盒做一个并集用来约束控制点。\n       * @param {Array} 计算出来的控制点数组\n       */\n\n      function _default(points, smooth, isLoop, constraint) {\n        var cps = [];\n        var v = [];\n        var v1 = [];\n        var v2 = [];\n        var prevPoint;\n        var nextPoint;\n        var min, max;\n\n        if (constraint) {\n          min = [Infinity, Infinity];\n          max = [-Infinity, -Infinity];\n\n          for (var i = 0, len = points.length; i < len; i++) {\n            v2Min(min, min, points[i]);\n            v2Max(max, max, points[i]);\n          } // 与指定的包围盒做并集\n\n\n          v2Min(min, min, constraint[0]);\n          v2Max(max, max, constraint[1]);\n        }\n\n        for (var i = 0, len = points.length; i < len; i++) {\n          var point = points[i];\n\n          if (isLoop) {\n            prevPoint = points[i ? i - 1 : len - 1];\n            nextPoint = points[(i + 1) % len];\n          } else {\n            if (i === 0 || i === len - 1) {\n              cps.push(v2Clone(points[i]));\n              continue;\n            } else {\n              prevPoint = points[i - 1];\n              nextPoint = points[i + 1];\n            }\n          }\n\n          v2Sub(v, nextPoint, prevPoint); // use degree to scale the handle length\n\n          v2Scale(v, v, smooth);\n          var d0 = v2Distance(point, prevPoint);\n          var d1 = v2Distance(point, nextPoint);\n          var sum = d0 + d1;\n\n          if (sum !== 0) {\n            d0 /= sum;\n            d1 /= sum;\n          }\n\n          v2Scale(v1, v, -d0);\n          v2Scale(v2, v, d1);\n          var cp0 = v2Add([], point, v1);\n          var cp1 = v2Add([], point, v2);\n\n          if (constraint) {\n            v2Max(cp0, cp0, min);\n            v2Min(cp0, cp0, max);\n            v2Max(cp1, cp1, min);\n            v2Min(cp1, cp1, max);\n          }\n\n          cps.push(cp0);\n          cps.push(cp1);\n        }\n\n        if (isLoop) {\n          cps.push(cps.shift());\n        }\n\n        return cps;\n      }\n\n      module.exports = _default;\n      /***/\n    },\n    /* 68 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var Path = __webpack_require__(1);\n\n      var polyHelper = __webpack_require__(23);\n      /**\n       * @module zrender/graphic/shape/Polyline\n       */\n\n\n      var _default = Path.extend({\n        type: 'polyline',\n        shape: {\n          points: null,\n          smooth: false,\n          smoothConstraint: null\n        },\n        style: {\n          stroke: '#000',\n          fill: null\n        },\n        buildPath: function buildPath(ctx, shape) {\n          polyHelper.buildPath(ctx, shape, false);\n        }\n      });\n\n      module.exports = _default;\n      /***/\n    },\n    /* 69 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var Path = __webpack_require__(1);\n\n      var roundRectHelper = __webpack_require__(21);\n      /**\n       * 矩形\n       * @module zrender/graphic/shape/Rect\n       */\n\n\n      var _default = Path.extend({\n        type: 'rect',\n        shape: {\n          // 左上、右上、右下、左下角的半径依次为r1、r2、r3、r4\n          // r缩写为1         相当于 [1, 1, 1, 1]\n          // r缩写为[1]       相当于 [1, 1, 1, 1]\n          // r缩写为[1, 2]    相当于 [1, 2, 1, 2]\n          // r缩写为[1, 2, 3] 相当于 [1, 2, 3, 2]\n          r: 0,\n          x: 0,\n          y: 0,\n          width: 0,\n          height: 0\n        },\n        buildPath: function buildPath(ctx, shape) {\n          var x = shape.x;\n          var y = shape.y;\n          var width = shape.width;\n          var height = shape.height;\n\n          if (!shape.r) {\n            ctx.rect(x, y, width, height);\n          } else {\n            roundRectHelper.buildPath(ctx, shape);\n          }\n\n          ctx.closePath();\n          return;\n        }\n      });\n\n      module.exports = _default;\n      /***/\n    },\n    /* 70 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var Path = __webpack_require__(1);\n      /**\n       * 直线\n       * @module zrender/graphic/shape/Line\n       */\n\n\n      var _default = Path.extend({\n        type: 'line',\n        shape: {\n          // Start point\n          x1: 0,\n          y1: 0,\n          // End point\n          x2: 0,\n          y2: 0,\n          percent: 1\n        },\n        style: {\n          stroke: '#000',\n          fill: null\n        },\n        buildPath: function buildPath(ctx, shape) {\n          var x1 = shape.x1;\n          var y1 = shape.y1;\n          var x2 = shape.x2;\n          var y2 = shape.y2;\n          var percent = shape.percent;\n\n          if (percent === 0) {\n            return;\n          }\n\n          ctx.moveTo(x1, y1);\n\n          if (percent < 1) {\n            x2 = x1 * (1 - percent) + x2 * percent;\n            y2 = y1 * (1 - percent) + y2 * percent;\n          }\n\n          ctx.lineTo(x2, y2);\n        },\n\n        /**\n         * Get point at percent\n         * @param  {number} percent\n         * @return {Array.<number>}\n         */\n        pointAt: function pointAt(p) {\n          var shape = this.shape;\n          return [shape.x1 * (1 - p) + shape.x2 * p, shape.y1 * (1 - p) + shape.y2 * p];\n        }\n      });\n\n      module.exports = _default;\n      /***/\n    },\n    /* 71 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var Path = __webpack_require__(1);\n\n      var vec2 = __webpack_require__(2);\n\n      var _curve = __webpack_require__(4);\n\n      var quadraticSubdivide = _curve.quadraticSubdivide;\n      var cubicSubdivide = _curve.cubicSubdivide;\n      var quadraticAt = _curve.quadraticAt;\n      var cubicAt = _curve.cubicAt;\n      var quadraticDerivativeAt = _curve.quadraticDerivativeAt;\n      var cubicDerivativeAt = _curve.cubicDerivativeAt;\n      /**\n       * 贝塞尔曲线\n       * @module zrender/shape/BezierCurve\n       */\n\n      var out = [];\n\n      function someVectorAt(shape, t, isTangent) {\n        var cpx2 = shape.cpx2;\n        var cpy2 = shape.cpy2;\n\n        if (cpx2 === null || cpy2 === null) {\n          return [(isTangent ? cubicDerivativeAt : cubicAt)(shape.x1, shape.cpx1, shape.cpx2, shape.x2, t), (isTangent ? cubicDerivativeAt : cubicAt)(shape.y1, shape.cpy1, shape.cpy2, shape.y2, t)];\n        } else {\n          return [(isTangent ? quadraticDerivativeAt : quadraticAt)(shape.x1, shape.cpx1, shape.x2, t), (isTangent ? quadraticDerivativeAt : quadraticAt)(shape.y1, shape.cpy1, shape.y2, t)];\n        }\n      }\n\n      var _default = Path.extend({\n        type: 'bezier-curve',\n        shape: {\n          x1: 0,\n          y1: 0,\n          x2: 0,\n          y2: 0,\n          cpx1: 0,\n          cpy1: 0,\n          // cpx2: 0,\n          // cpy2: 0\n          // Curve show percent, for animating\n          percent: 1\n        },\n        style: {\n          stroke: '#000',\n          fill: null\n        },\n        buildPath: function buildPath(ctx, shape) {\n          var x1 = shape.x1;\n          var y1 = shape.y1;\n          var x2 = shape.x2;\n          var y2 = shape.y2;\n          var cpx1 = shape.cpx1;\n          var cpy1 = shape.cpy1;\n          var cpx2 = shape.cpx2;\n          var cpy2 = shape.cpy2;\n          var percent = shape.percent;\n\n          if (percent === 0) {\n            return;\n          }\n\n          ctx.moveTo(x1, y1);\n\n          if (cpx2 == null || cpy2 == null) {\n            if (percent < 1) {\n              quadraticSubdivide(x1, cpx1, x2, percent, out);\n              cpx1 = out[1];\n              x2 = out[2];\n              quadraticSubdivide(y1, cpy1, y2, percent, out);\n              cpy1 = out[1];\n              y2 = out[2];\n            }\n\n            ctx.quadraticCurveTo(cpx1, cpy1, x2, y2);\n          } else {\n            if (percent < 1) {\n              cubicSubdivide(x1, cpx1, cpx2, x2, percent, out);\n              cpx1 = out[1];\n              cpx2 = out[2];\n              x2 = out[3];\n              cubicSubdivide(y1, cpy1, cpy2, y2, percent, out);\n              cpy1 = out[1];\n              cpy2 = out[2];\n              y2 = out[3];\n            }\n\n            ctx.bezierCurveTo(cpx1, cpy1, cpx2, cpy2, x2, y2);\n          }\n        },\n\n        /**\n         * Get point at percent\n         * @param  {number} t\n         * @return {Array.<number>}\n         */\n        pointAt: function pointAt(t) {\n          return someVectorAt(this.shape, t, false);\n        },\n\n        /**\n         * Get tangent at percent\n         * @param  {number} t\n         * @return {Array.<number>}\n         */\n        tangentAt: function tangentAt(t) {\n          var p = someVectorAt(this.shape, t, true);\n          return vec2.normalize(p, p);\n        }\n      });\n\n      module.exports = _default;\n      /***/\n    },\n    /* 72 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var Path = __webpack_require__(1);\n      /**\n       * 圆弧\n       * @module zrender/graphic/shape/Arc\n       */\n\n\n      var _default = Path.extend({\n        type: 'arc',\n        shape: {\n          cx: 0,\n          cy: 0,\n          r: 0,\n          startAngle: 0,\n          endAngle: Math.PI * 2,\n          clockwise: true\n        },\n        style: {\n          stroke: '#000',\n          fill: null\n        },\n        buildPath: function buildPath(ctx, shape) {\n          var x = shape.cx;\n          var y = shape.cy;\n          var r = Math.max(shape.r, 0);\n          var startAngle = shape.startAngle;\n          var endAngle = shape.endAngle;\n          var clockwise = shape.clockwise;\n          var unitX = Math.cos(startAngle);\n          var unitY = Math.sin(startAngle);\n          ctx.moveTo(unitX * r + x, unitY * r + y);\n          ctx.arc(x, y, r, startAngle, endAngle, !clockwise);\n        }\n      });\n\n      module.exports = _default;\n      /***/\n    },\n    /* 73 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var Path = __webpack_require__(1); // CompoundPath to improve performance\n\n\n      var _default = Path.extend({\n        type: 'compound',\n        shape: {\n          paths: null\n        },\n        _updatePathDirty: function _updatePathDirty() {\n          var dirtyPath = this.__dirtyPath;\n          var paths = this.shape.paths;\n\n          for (var i = 0; i < paths.length; i++) {\n            // Mark as dirty if any subpath is dirty\n            dirtyPath = dirtyPath || paths[i].__dirtyPath;\n          }\n\n          this.__dirtyPath = dirtyPath;\n          this.__dirty = this.__dirty || dirtyPath;\n        },\n        beforeBrush: function beforeBrush() {\n          this._updatePathDirty();\n\n          var paths = this.shape.paths || [];\n          var scale = this.getGlobalScale(); // Update path scale\n\n          for (var i = 0; i < paths.length; i++) {\n            if (!paths[i].path) {\n              paths[i].createPathProxy();\n            }\n\n            paths[i].path.setScale(scale[0], scale[1]);\n          }\n        },\n        buildPath: function buildPath(ctx, shape) {\n          var paths = shape.paths || [];\n\n          for (var i = 0; i < paths.length; i++) {\n            paths[i].buildPath(ctx, paths[i].shape, true);\n          }\n        },\n        afterBrush: function afterBrush() {\n          var paths = this.shape.paths || [];\n\n          for (var i = 0; i < paths.length; i++) {\n            paths[i].__dirtyPath = false;\n          }\n        },\n        getBoundingRect: function getBoundingRect() {\n          this._updatePathDirty();\n\n          return Path.prototype.getBoundingRect.call(this);\n        }\n      });\n\n      module.exports = _default;\n      /***/\n    },\n    /* 74 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var zrUtil = __webpack_require__(0);\n\n      var Gradient = __webpack_require__(24);\n      /**\n       * x, y, x2, y2 are all percent from 0 to 1\n       * @param {number} [x=0]\n       * @param {number} [y=0]\n       * @param {number} [x2=1]\n       * @param {number} [y2=0]\n       * @param {Array.<Object>} colorStops\n       * @param {boolean} [globalCoord=false]\n       */\n\n\n      var LinearGradient = function LinearGradient(x, y, x2, y2, colorStops, globalCoord) {\n        // Should do nothing more in this constructor. Because gradient can be\n        // declard by `color: {type: 'linear', colorStops: ...}`, where\n        // this constructor will not be called.\n        this.x = x == null ? 0 : x;\n        this.y = y == null ? 0 : y;\n        this.x2 = x2 == null ? 1 : x2;\n        this.y2 = y2 == null ? 0 : y2; // Can be cloned\n\n        this.type = 'linear'; // If use global coord\n\n        this.global = globalCoord || false;\n        Gradient.call(this, colorStops);\n      };\n\n      LinearGradient.prototype = {\n        constructor: LinearGradient\n      };\n      zrUtil.inherits(LinearGradient, Gradient);\n      var _default = LinearGradient;\n      module.exports = _default;\n      /***/\n    },\n    /* 75 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var zrUtil = __webpack_require__(0);\n\n      var Gradient = __webpack_require__(24);\n      /**\n       * x, y, r are all percent from 0 to 1\n       * @param {number} [x=0.5]\n       * @param {number} [y=0.5]\n       * @param {number} [r=0.5]\n       * @param {Array.<Object>} [colorStops]\n       * @param {boolean} [globalCoord=false]\n       */\n\n\n      var RadialGradient = function RadialGradient(x, y, r, colorStops, globalCoord) {\n        // Should do nothing more in this constructor. Because gradient can be\n        // declard by `color: {type: 'radial', colorStops: ...}`, where\n        // this constructor will not be called.\n        this.x = x == null ? 0.5 : x;\n        this.y = y == null ? 0.5 : y;\n        this.r = r == null ? 0.5 : r; // Can be cloned\n\n        this.type = 'radial'; // If use global coord\n\n        this.global = globalCoord || false;\n        Gradient.call(this, colorStops);\n      };\n\n      RadialGradient.prototype = {\n        constructor: RadialGradient\n      };\n      zrUtil.inherits(RadialGradient, Gradient);\n      var _default = RadialGradient;\n      module.exports = _default;\n      /***/\n    },\n    /* 76 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var makeStyleMapper = __webpack_require__(11);\n\n      var _getItemStyle = makeStyleMapper([['fill', 'color'], ['stroke', 'borderColor'], ['lineWidth', 'borderWidth'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor'], ['textPosition'], ['textAlign']]);\n\n      var _default = {\n        getItemStyle: function getItemStyle(excludes, includes) {\n          var style = _getItemStyle(this, excludes, includes);\n\n          var lineDash = this.getBorderLineDash();\n          lineDash && (style.lineDash = lineDash);\n          return style;\n        },\n        getBorderLineDash: function getBorderLineDash() {\n          var lineType = this.get('borderType');\n          return lineType === 'solid' || lineType == null ? null : lineType === 'dashed' ? [5, 5] : [1, 1];\n        }\n      };\n      module.exports = _default;\n      /***/\n    },\n    /* 77 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var echarts = __webpack_require__(7);\n\n      function getShallow(model, path) {\n        return model && model.getShallow(path);\n      }\n\n      echarts.extendChartView({\n        type: 'wordCloud',\n        render: function render(seriesModel, ecModel, api) {\n          var group = this.group;\n          group.removeAll();\n          var data = seriesModel.getData();\n          var gridSize = seriesModel.get('gridSize');\n\n          seriesModel.layoutInstance.ondraw = function (text, size, dataIdx, drawn) {\n            var itemModel = data.getItemModel(dataIdx);\n            var textStyleModel = itemModel.getModel('textStyle.normal');\n            var emphasisTextStyleModel = itemModel.getModel('textStyle.emphasis');\n            var textEl = new echarts.graphic.Text({\n              style: echarts.graphic.setTextStyle({}, textStyleModel, {\n                x: drawn.info.fillTextOffsetX,\n                y: drawn.info.fillTextOffsetY + size * 0.5,\n                text: text,\n                textBaseline: 'middle',\n                textFill: data.getItemVisual(dataIdx, 'color'),\n                fontSize: size\n              }),\n              scale: [1 / drawn.info.mu, 1 / drawn.info.mu],\n              position: [(drawn.gx + drawn.info.gw / 2) * gridSize, (drawn.gy + drawn.info.gh / 2) * gridSize],\n              rotation: drawn.rot\n            });\n            group.add(textEl);\n            data.setItemGraphicEl(dataIdx, textEl);\n            echarts.graphic.setHoverStyle(textEl, echarts.graphic.setTextStyle({}, emphasisTextStyleModel, null, {\n              forMerge: true\n            }, true));\n          };\n\n          this._model = seriesModel;\n        },\n        remove: function remove() {\n          this.group.removeAll();\n\n          this._model.layoutInstance.dispose();\n        },\n        dispose: function dispose() {\n          this._model.layoutInstance.dispose();\n        }\n      });\n      /***/\n    },\n    /* 78 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n      /*!\n      * wordcloud2.js\n      * http://timdream.org/wordcloud2.js/\n      *\n      * Copyright 2011 - 2013 Tim Chien\n      * Released under the MIT license\n      */\n      // setImmediate\n\n\n      if (!window.setImmediate) {\n        window.setImmediate = function setupSetImmediate() {\n          return window.msSetImmediate || window.webkitSetImmediate || window.mozSetImmediate || window.oSetImmediate || function setupSetZeroTimeout() {\n            if (!window.postMessage || !window.addEventListener) {\n              return null;\n            }\n\n            var callbacks = [undefined];\n            var message = 'zero-timeout-message'; // Like setTimeout, but only takes a function argument.  There's\n            // no time argument (always zero) and no arguments (you have to\n            // use a closure).\n\n            var setZeroTimeout = function setZeroTimeout(callback) {\n              var id = callbacks.length;\n              callbacks.push(callback);\n              window.postMessage(message + id.toString(36), '*');\n              return id;\n            };\n\n            window.addEventListener('message', function setZeroTimeoutMessage(evt) {\n              // Skipping checking event source, retarded IE confused this window\n              // object with another in the presence of iframe\n              if (typeof evt.data !== 'string' || evt.data.substr(0, message.length) !== message\n              /* ||\n              evt.source !== window */\n              ) {\n                  return;\n                }\n\n              evt.stopImmediatePropagation();\n              var id = parseInt(evt.data.substr(message.length), 36);\n\n              if (!callbacks[id]) {\n                return;\n              }\n\n              callbacks[id]();\n              callbacks[id] = undefined;\n            }, true);\n            /* specify clearImmediate() here since we need the scope */\n\n            window.clearImmediate = function clearZeroTimeout(id) {\n              if (!callbacks[id]) {\n                return;\n              }\n\n              callbacks[id] = undefined;\n            };\n\n            return setZeroTimeout;\n          }() || // fallback\n          function setImmediateFallback(fn) {\n            window.setTimeout(fn, 0);\n          };\n        }();\n      }\n\n      if (!window.clearImmediate) {\n        window.clearImmediate = function setupClearImmediate() {\n          return window.msClearImmediate || window.webkitClearImmediate || window.mozClearImmediate || window.oClearImmediate || // \"clearZeroTimeout\" is implement on the previous block ||\n          // fallback\n          function clearImmediateFallback(timer) {\n            window.clearTimeout(timer);\n          };\n        }();\n      }\n\n      (function (global) {\n        // Check if WordCloud can run on this browser\n        var isSupported = function isSupported() {\n          var canvas = document.createElement('canvas');\n\n          if (!canvas || !canvas.getContext) {\n            return false;\n          }\n\n          var ctx = canvas.getContext('2d');\n\n          if (!ctx.getImageData) {\n            return false;\n          }\n\n          if (!ctx.fillText) {\n            return false;\n          }\n\n          if (!Array.prototype.some) {\n            return false;\n          }\n\n          if (!Array.prototype.push) {\n            return false;\n          }\n\n          return true;\n        }(); // Find out if the browser impose minium font size by\n        // drawing small texts on a canvas and measure it's width.\n\n\n        var minFontSize = function getMinFontSize() {\n          if (!isSupported) {\n            return;\n          }\n\n          var ctx = document.createElement('canvas').getContext('2d'); // start from 20\n\n          var size = 20; // two sizes to measure\n\n          var hanWidth, mWidth;\n\n          while (size) {\n            ctx.font = size.toString(10) + 'px sans-serif';\n\n            if (ctx.measureText(\"\\uFF37\").width === hanWidth && ctx.measureText('m').width === mWidth) {\n              return size + 1;\n            }\n\n            hanWidth = ctx.measureText(\"\\uFF37\").width;\n            mWidth = ctx.measureText('m').width;\n            size--;\n          }\n\n          return 0;\n        }(); // Based on http://jsfromhell.com/array/shuffle\n\n\n        var shuffleArray = function shuffleArray(arr) {\n          for (var j, x, i = arr.length; i; j = Math.floor(Math.random() * i), x = arr[--i], arr[i] = arr[j], arr[j] = x) {}\n\n          return arr;\n        };\n\n        var WordCloud = function WordCloud(elements, options) {\n          if (!isSupported) {\n            return;\n          }\n\n          if (!Array.isArray(elements)) {\n            elements = [elements];\n          }\n\n          elements.forEach(function (el, i) {\n            if (typeof el === 'string') {\n              elements[i] = document.getElementById(el);\n\n              if (!elements[i]) {\n                throw 'The element id specified is not found.';\n              }\n            } else if (!el.tagName && !el.appendChild) {\n              throw 'You must pass valid HTML elements, or ID of the element.';\n            }\n          });\n          /* Default values to be overwritten by options object */\n\n          var settings = {\n            list: [],\n            fontFamily: '\"Trebuchet MS\", \"Heiti TC\", \"微軟正黑體\", ' + '\"Arial Unicode MS\", \"Droid Fallback Sans\", sans-serif',\n            fontWeight: 'normal',\n            color: 'random-dark',\n            minSize: 0,\n            // 0 to disable\n            weightFactor: 1,\n            clearCanvas: true,\n            backgroundColor: '#fff',\n            // opaque white = rgba(255, 255, 255, 1)\n            gridSize: 8,\n            drawOutOfBound: false,\n            origin: null,\n            drawMask: false,\n            maskColor: 'rgba(255,0,0,0.3)',\n            maskGapWidth: 0.3,\n            wait: 0,\n            abortThreshold: 0,\n            // disabled\n            abort: function noop() {},\n            minRotation: -Math.PI / 2,\n            maxRotation: Math.PI / 2,\n            rotationStep: 0.1,\n            shuffle: true,\n            rotateRatio: 0.1,\n            shape: 'circle',\n            ellipticity: 0.65,\n            classes: null,\n            hover: null,\n            click: null\n          };\n\n          if (options) {\n            for (var key in options) {\n              if (key in settings) {\n                settings[key] = options[key];\n              }\n            }\n          }\n          /* Convert weightFactor into a function */\n\n\n          if (typeof settings.weightFactor !== 'function') {\n            var factor = settings.weightFactor;\n\n            settings.weightFactor = function weightFactor(pt) {\n              return pt * factor; //in px\n            };\n          }\n          /* Convert shape into a function */\n\n\n          if (typeof settings.shape !== 'function') {\n            switch (settings.shape) {\n              case 'circle':\n              /* falls through */\n\n              default:\n                // 'circle' is the default and a shortcut in the code loop.\n                settings.shape = 'circle';\n                break;\n\n              case 'cardioid':\n                settings.shape = function shapeCardioid(theta) {\n                  return 1 - Math.sin(theta);\n                };\n\n                break;\n\n              /*\n              To work out an X-gon, one has to calculate \"m\",\n              where 1/(cos(2*PI/X)+m*sin(2*PI/X)) = 1/(cos(0)+m*sin(0))\n              http://www.wolframalpha.com/input/?i=1%2F%28cos%282*PI%2FX%29%2Bm*sin%28\n              2*PI%2FX%29%29+%3D+1%2F%28cos%280%29%2Bm*sin%280%29%29\n              Copy the solution into polar equation r = 1/(cos(t') + m*sin(t'))\n              where t' equals to mod(t, 2PI/X);\n              */\n\n              case 'diamond':\n              case 'square':\n                // http://www.wolframalpha.com/input/?i=plot+r+%3D+1%2F%28cos%28mod+\n                // %28t%2C+PI%2F2%29%29%2Bsin%28mod+%28t%2C+PI%2F2%29%29%29%2C+t+%3D\n                // +0+..+2*PI\n                settings.shape = function shapeSquare(theta) {\n                  var thetaPrime = theta % (2 * Math.PI / 4);\n                  return 1 / (Math.cos(thetaPrime) + Math.sin(thetaPrime));\n                };\n\n                break;\n\n              case 'triangle-forward':\n                // http://www.wolframalpha.com/input/?i=plot+r+%3D+1%2F%28cos%28mod+\n                // %28t%2C+2*PI%2F3%29%29%2Bsqrt%283%29sin%28mod+%28t%2C+2*PI%2F3%29\n                // %29%29%2C+t+%3D+0+..+2*PI\n                settings.shape = function shapeTriangle(theta) {\n                  var thetaPrime = theta % (2 * Math.PI / 3);\n                  return 1 / (Math.cos(thetaPrime) + Math.sqrt(3) * Math.sin(thetaPrime));\n                };\n\n                break;\n\n              case 'triangle':\n              case 'triangle-upright':\n                settings.shape = function shapeTriangle(theta) {\n                  var thetaPrime = (theta + Math.PI * 3 / 2) % (2 * Math.PI / 3);\n                  return 1 / (Math.cos(thetaPrime) + Math.sqrt(3) * Math.sin(thetaPrime));\n                };\n\n                break;\n\n              case 'pentagon':\n                settings.shape = function shapePentagon(theta) {\n                  var thetaPrime = (theta + 0.955) % (2 * Math.PI / 5);\n                  return 1 / (Math.cos(thetaPrime) + 0.726543 * Math.sin(thetaPrime));\n                };\n\n                break;\n\n              case 'star':\n                settings.shape = function shapeStar(theta) {\n                  var thetaPrime = (theta + 0.955) % (2 * Math.PI / 10);\n\n                  if ((theta + 0.955) % (2 * Math.PI / 5) - 2 * Math.PI / 10 >= 0) {\n                    return 1 / (Math.cos(2 * Math.PI / 10 - thetaPrime) + 3.07768 * Math.sin(2 * Math.PI / 10 - thetaPrime));\n                  } else {\n                    return 1 / (Math.cos(thetaPrime) + 3.07768 * Math.sin(thetaPrime));\n                  }\n                };\n\n                break;\n            }\n          }\n          /* Make sure gridSize is a whole number and is not smaller than 4px */\n\n\n          settings.gridSize = Math.max(Math.floor(settings.gridSize), 4);\n          /* shorthand */\n\n          var g = settings.gridSize;\n          var maskRectWidth = g - settings.maskGapWidth;\n          /* normalize rotation settings */\n\n          var rotationRange = Math.abs(settings.maxRotation - settings.minRotation);\n          var minRotation = Math.min(settings.maxRotation, settings.minRotation);\n          var rotationStep = settings.rotationStep;\n          /* information/object available to all functions, set when start() */\n\n          var grid, // 2d array containing filling information\n          ngx, ngy, // width and height of the grid\n          center, // position of the center of the cloud\n          maxRadius;\n          /* timestamp for measuring each putWord() action */\n\n          var escapeTime;\n          /* function for getting the color of the text */\n\n          var getTextColor;\n\n          function random_hsl_color(min, max) {\n            return 'hsl(' + (Math.random() * 360).toFixed() + ',' + (Math.random() * 30 + 70).toFixed() + '%,' + (Math.random() * (max - min) + min).toFixed() + '%)';\n          }\n\n          switch (settings.color) {\n            case 'random-dark':\n              getTextColor = function getRandomDarkColor() {\n                return random_hsl_color(10, 50);\n              };\n\n              break;\n\n            case 'random-light':\n              getTextColor = function getRandomLightColor() {\n                return random_hsl_color(50, 90);\n              };\n\n              break;\n\n            default:\n              if (typeof settings.color === 'function') {\n                getTextColor = settings.color;\n              }\n\n              break;\n          }\n          /* function for getting the classes of the text */\n\n\n          var getTextClasses = null;\n\n          if (typeof settings.classes === 'function') {\n            getTextClasses = settings.classes;\n          }\n          /* Interactive */\n\n\n          var interactive = false;\n          var infoGrid = [];\n          var hovered;\n\n          var getInfoGridFromMouseTouchEvent = function getInfoGridFromMouseTouchEvent(evt) {\n            var canvas = evt.currentTarget;\n            var rect = canvas.getBoundingClientRect();\n            var clientX;\n            var clientY;\n            /** Detect if touches are available */\n\n            if (evt.touches) {\n              clientX = evt.touches[0].clientX;\n              clientY = evt.touches[0].clientY;\n            } else {\n              clientX = evt.clientX;\n              clientY = evt.clientY;\n            }\n\n            var eventX = clientX - rect.left;\n            var eventY = clientY - rect.top;\n            var x = Math.floor(eventX * (canvas.width / rect.width || 1) / g);\n            var y = Math.floor(eventY * (canvas.height / rect.height || 1) / g);\n            return infoGrid[x][y];\n          };\n\n          var wordcloudhover = function wordcloudhover(evt) {\n            var info = getInfoGridFromMouseTouchEvent(evt);\n\n            if (hovered === info) {\n              return;\n            }\n\n            hovered = info;\n\n            if (!info) {\n              settings.hover(undefined, undefined, evt);\n              return;\n            }\n\n            settings.hover(info.item, info.dimension, evt);\n          };\n\n          var wordcloudclick = function wordcloudclick(evt) {\n            var info = getInfoGridFromMouseTouchEvent(evt);\n\n            if (!info) {\n              return;\n            }\n\n            settings.click(info.item, info.dimension, evt);\n            evt.preventDefault();\n          };\n          /* Get points on the grid for a given radius away from the center */\n\n\n          var pointsAtRadius = [];\n\n          var getPointsAtRadius = function getPointsAtRadius(radius) {\n            if (pointsAtRadius[radius]) {\n              return pointsAtRadius[radius];\n            } // Look for these number of points on each radius\n\n\n            var T = radius * 8; // Getting all the points at this radius\n\n            var t = T;\n            var points = [];\n\n            if (radius === 0) {\n              points.push([center[0], center[1], 0]);\n            }\n\n            while (t--) {\n              // distort the radius to put the cloud in shape\n              var rx = 1;\n\n              if (settings.shape !== 'circle') {\n                rx = settings.shape(t / T * 2 * Math.PI); // 0 to 1\n              } // Push [x, y, t]; t is used solely for getTextColor()\n\n\n              points.push([center[0] + radius * rx * Math.cos(-t / T * 2 * Math.PI), center[1] + radius * rx * Math.sin(-t / T * 2 * Math.PI) * settings.ellipticity, t / T * 2 * Math.PI]);\n            }\n\n            pointsAtRadius[radius] = points;\n            return points;\n          };\n          /* Return true if we had spent too much time */\n\n\n          var exceedTime = function exceedTime() {\n            return settings.abortThreshold > 0 && new Date().getTime() - escapeTime > settings.abortThreshold;\n          };\n          /* Get the deg of rotation according to settings, and luck. */\n\n\n          var getRotateDeg = function getRotateDeg() {\n            if (settings.rotateRatio === 0) {\n              return 0;\n            }\n\n            if (Math.random() > settings.rotateRatio) {\n              return 0;\n            }\n\n            if (rotationRange === 0) {\n              return minRotation;\n            }\n\n            return minRotation + Math.round(Math.random() * rotationRange / rotationStep) * rotationStep;\n          };\n\n          var getTextInfo = function getTextInfo(word, weight, rotateDeg) {\n            // calculate the acutal font size\n            // fontSize === 0 means weightFactor function wants the text skipped,\n            // and size < minSize means we cannot draw the text.\n            var debug = false;\n            var fontSize = settings.weightFactor(weight);\n\n            if (fontSize <= settings.minSize) {\n              return false;\n            } // Scale factor here is to make sure fillText is not limited by\n            // the minium font size set by browser.\n            // It will always be 1 or 2n.\n\n\n            var mu = 1;\n\n            if (fontSize < minFontSize) {\n              mu = function calculateScaleFactor() {\n                var mu = 2;\n\n                while (mu * fontSize < minFontSize) {\n                  mu += 2;\n                }\n\n                return mu;\n              }();\n            }\n\n            var fcanvas = document.createElement('canvas');\n            var fctx = fcanvas.getContext('2d', {\n              willReadFrequently: true\n            });\n            fctx.font = settings.fontWeight + ' ' + (fontSize * mu).toString(10) + 'px ' + settings.fontFamily; // Estimate the dimension of the text with measureText().\n\n            var fw = fctx.measureText(word).width / mu;\n            var fh = Math.max(fontSize * mu, fctx.measureText('m').width, fctx.measureText(\"\\uFF37\").width) / mu; // Create a boundary box that is larger than our estimates,\n            // so text don't get cut of (it sill might)\n\n            var boxWidth = fw + fh * 2;\n            var boxHeight = fh * 3;\n            var fgw = Math.ceil(boxWidth / g);\n            var fgh = Math.ceil(boxHeight / g);\n            boxWidth = fgw * g;\n            boxHeight = fgh * g; // Calculate the proper offsets to make the text centered at\n            // the preferred position.\n            // This is simply half of the width.\n\n            var fillTextOffsetX = -fw / 2; // Instead of moving the box to the exact middle of the preferred\n            // position, for Y-offset we move 0.4 instead, so Latin alphabets look\n            // vertical centered.\n\n            var fillTextOffsetY = -fh * 0.4; // Calculate the actual dimension of the canvas, considering the rotation.\n\n            var cgh = Math.ceil((boxWidth * Math.abs(Math.sin(rotateDeg)) + boxHeight * Math.abs(Math.cos(rotateDeg))) / g);\n            var cgw = Math.ceil((boxWidth * Math.abs(Math.cos(rotateDeg)) + boxHeight * Math.abs(Math.sin(rotateDeg))) / g);\n            var width = cgw * g;\n            var height = cgh * g;\n            fcanvas.setAttribute('width', width);\n            fcanvas.setAttribute('height', height);\n\n            if (debug) {\n              // Attach fcanvas to the DOM\n              document.body.appendChild(fcanvas); // Save it's state so that we could restore and draw the grid correctly.\n\n              fctx.save();\n            } // Scale the canvas with |mu|.\n\n\n            fctx.scale(1 / mu, 1 / mu);\n            fctx.translate(width * mu / 2, height * mu / 2);\n            fctx.rotate(-rotateDeg); // Once the width/height is set, ctx info will be reset.\n            // Set it again here.\n\n            fctx.font = settings.fontWeight + ' ' + (fontSize * mu).toString(10) + 'px ' + settings.fontFamily; // Fill the text into the fcanvas.\n            // XXX: We cannot because textBaseline = 'top' here because\n            // Firefox and Chrome uses different default line-height for canvas.\n            // Please read https://bugzil.la/737852#c6.\n            // Here, we use textBaseline = 'middle' and draw the text at exactly\n            // 0.5 * fontSize lower.\n\n            fctx.fillStyle = '#000';\n            fctx.textBaseline = 'middle';\n            fctx.fillText(word, fillTextOffsetX * mu, (fillTextOffsetY + fontSize * 0.5) * mu); // Get the pixels of the text\n\n            var imageData = fctx.getImageData(0, 0, width, height).data;\n\n            if (exceedTime()) {\n              return false;\n            }\n\n            if (debug) {\n              // Draw the box of the original estimation\n              fctx.strokeRect(fillTextOffsetX * mu, fillTextOffsetY, fw * mu, fh * mu);\n              fctx.restore();\n            } // Read the pixels and save the information to the occupied array\n\n\n            var occupied = [];\n            var gx = cgw,\n                gy,\n                x,\n                y;\n            var bounds = [cgh / 2, cgw / 2, cgh / 2, cgw / 2];\n\n            while (gx--) {\n              gy = cgh;\n\n              while (gy--) {\n                y = g;\n\n                singleGridLoop: {\n                  while (y--) {\n                    x = g;\n\n                    while (x--) {\n                      if (imageData[((gy * g + y) * width + (gx * g + x)) * 4 + 3]) {\n                        occupied.push([gx, gy]);\n\n                        if (gx < bounds[3]) {\n                          bounds[3] = gx;\n                        }\n\n                        if (gx > bounds[1]) {\n                          bounds[1] = gx;\n                        }\n\n                        if (gy < bounds[0]) {\n                          bounds[0] = gy;\n                        }\n\n                        if (gy > bounds[2]) {\n                          bounds[2] = gy;\n                        }\n\n                        if (debug) {\n                          fctx.fillStyle = 'rgba(255, 0, 0, 0.5)';\n                          fctx.fillRect(gx * g, gy * g, g - 0.5, g - 0.5);\n                        }\n\n                        break singleGridLoop;\n                      }\n                    }\n                  }\n\n                  if (debug) {\n                    fctx.fillStyle = 'rgba(0, 0, 255, 0.5)';\n                    fctx.fillRect(gx * g, gy * g, g - 0.5, g - 0.5);\n                  }\n                }\n              }\n            }\n\n            if (debug) {\n              fctx.fillStyle = 'rgba(0, 255, 0, 0.5)';\n              fctx.fillRect(bounds[3] * g, bounds[0] * g, (bounds[1] - bounds[3] + 1) * g, (bounds[2] - bounds[0] + 1) * g);\n            } // Return information needed to create the text on the real canvas\n\n\n            return {\n              mu: mu,\n              occupied: occupied,\n              bounds: bounds,\n              gw: cgw,\n              gh: cgh,\n              fillTextOffsetX: fillTextOffsetX,\n              fillTextOffsetY: fillTextOffsetY,\n              fillTextWidth: fw,\n              fillTextHeight: fh,\n              fontSize: fontSize\n            };\n          };\n          /* Determine if there is room available in the given dimension */\n\n\n          var canFitText = function canFitText(gx, gy, gw, gh, occupied) {\n            // Go through the occupied points,\n            // return false if the space is not available.\n            var i = occupied.length;\n\n            while (i--) {\n              var px = gx + occupied[i][0];\n              var py = gy + occupied[i][1];\n\n              if (px >= ngx || py >= ngy || px < 0 || py < 0) {\n                if (!settings.drawOutOfBound) {\n                  return false;\n                }\n\n                continue;\n              }\n\n              if (!grid[px][py]) {\n                return false;\n              }\n            }\n\n            return true;\n          };\n          /* Actually draw the text on the grid */\n\n\n          var drawText = function drawText(gx, gy, info, word, weight, distance, theta, rotateDeg, attributes) {\n            var fontSize = info.fontSize;\n            var color;\n\n            if (getTextColor) {\n              color = getTextColor(word, weight, fontSize, distance, theta);\n            } else {\n              color = settings.color;\n            }\n\n            var classes;\n\n            if (getTextClasses) {\n              classes = getTextClasses(word, weight, fontSize, distance, theta);\n            } else {\n              classes = settings.classes;\n            }\n\n            var dimension;\n            var bounds = info.bounds;\n            dimension = {\n              x: (gx + bounds[3]) * g,\n              y: (gy + bounds[0]) * g,\n              w: (bounds[1] - bounds[3] + 1) * g,\n              h: (bounds[2] - bounds[0] + 1) * g\n            };\n            elements.forEach(function (el) {\n              if (el.getContext) {\n                var ctx = el.getContext('2d');\n                var mu = info.mu; // Save the current state before messing it\n\n                ctx.save();\n                ctx.scale(1 / mu, 1 / mu);\n                ctx.font = settings.fontWeight + ' ' + (fontSize * mu).toString(10) + 'px ' + settings.fontFamily;\n                ctx.fillStyle = color; // Translate the canvas position to the origin coordinate of where\n                // the text should be put.\n\n                ctx.translate((gx + info.gw / 2) * g * mu, (gy + info.gh / 2) * g * mu);\n\n                if (rotateDeg !== 0) {\n                  ctx.rotate(-rotateDeg);\n                } // Finally, fill the text.\n                // XXX: We cannot because textBaseline = 'top' here because\n                // Firefox and Chrome uses different default line-height for canvas.\n                // Please read https://bugzil.la/737852#c6.\n                // Here, we use textBaseline = 'middle' and draw the text at exactly\n                // 0.5 * fontSize lower.\n\n\n                ctx.textBaseline = 'middle';\n                ctx.fillText(word, info.fillTextOffsetX * mu, (info.fillTextOffsetY + fontSize * 0.5) * mu); // The below box is always matches how <span>s are positioned\n\n                /* ctx.strokeRect(info.fillTextOffsetX, info.fillTextOffsetY,\n                  info.fillTextWidth, info.fillTextHeight); */\n                // Restore the state.\n\n                ctx.restore();\n              } else {\n                // drawText on DIV element\n                var span = document.createElement('span');\n                var transformRule = '';\n                transformRule = 'rotate(' + -rotateDeg / Math.PI * 180 + 'deg) ';\n\n                if (info.mu !== 1) {\n                  transformRule += 'translateX(-' + info.fillTextWidth / 4 + 'px) ' + 'scale(' + 1 / info.mu + ')';\n                }\n\n                var styleRules = {\n                  'position': 'absolute',\n                  'display': 'block',\n                  'font': settings.fontWeight + ' ' + fontSize * info.mu + 'px ' + settings.fontFamily,\n                  'left': (gx + info.gw / 2) * g + info.fillTextOffsetX + 'px',\n                  'top': (gy + info.gh / 2) * g + info.fillTextOffsetY + 'px',\n                  'width': info.fillTextWidth + 'px',\n                  'height': info.fillTextHeight + 'px',\n                  'lineHeight': fontSize + 'px',\n                  'whiteSpace': 'nowrap',\n                  'transform': transformRule,\n                  'webkitTransform': transformRule,\n                  'msTransform': transformRule,\n                  'transformOrigin': '50% 40%',\n                  'webkitTransformOrigin': '50% 40%',\n                  'msTransformOrigin': '50% 40%'\n                };\n\n                if (color) {\n                  styleRules.color = color;\n                }\n\n                span.textContent = word;\n\n                for (var cssProp in styleRules) {\n                  span.style[cssProp] = styleRules[cssProp];\n                }\n\n                if (attributes) {\n                  for (var attribute in attributes) {\n                    span.setAttribute(attribute, attributes[attribute]);\n                  }\n                }\n\n                if (classes) {\n                  span.className += classes;\n                }\n\n                el.appendChild(span);\n              }\n            });\n          };\n          /* Help function to updateGrid */\n\n\n          var fillGridAt = function fillGridAt(x, y, drawMask, dimension, item) {\n            if (x >= ngx || y >= ngy || x < 0 || y < 0) {\n              return;\n            }\n\n            grid[x][y] = false;\n\n            if (drawMask) {\n              var ctx = elements[0].getContext('2d');\n              ctx.fillRect(x * g, y * g, maskRectWidth, maskRectWidth);\n            }\n\n            if (interactive) {\n              infoGrid[x][y] = {\n                item: item,\n                dimension: dimension\n              };\n            }\n          };\n          /* Update the filling information of the given space with occupied points.\n             Draw the mask on the canvas if necessary. */\n\n\n          var updateGrid = function updateGrid(gx, gy, gw, gh, info, item) {\n            var occupied = info.occupied;\n            var drawMask = settings.drawMask;\n            var ctx;\n\n            if (drawMask) {\n              ctx = elements[0].getContext('2d');\n              ctx.save();\n              ctx.fillStyle = settings.maskColor;\n            }\n\n            var dimension;\n\n            if (interactive) {\n              var bounds = info.bounds;\n              dimension = {\n                x: (gx + bounds[3]) * g,\n                y: (gy + bounds[0]) * g,\n                w: (bounds[1] - bounds[3] + 1) * g,\n                h: (bounds[2] - bounds[0] + 1) * g\n              };\n            }\n\n            var i = occupied.length;\n\n            while (i--) {\n              var px = gx + occupied[i][0];\n              var py = gy + occupied[i][1];\n\n              if (px >= ngx || py >= ngy || px < 0 || py < 0) {\n                continue;\n              }\n\n              fillGridAt(px, py, drawMask, dimension, item);\n            }\n\n            if (drawMask) {\n              ctx.restore();\n            }\n          };\n          /* putWord() processes each item on the list,\n             calculate it's size and determine it's position, and actually\n             put it on the canvas. */\n\n\n          var putWord = function putWord(item) {\n            var word, weight, attributes;\n\n            if (Array.isArray(item)) {\n              word = item[0];\n              weight = item[1];\n            } else {\n              word = item.word;\n              weight = item.weight;\n              attributes = item.attributes;\n            }\n\n            var rotateDeg = getRotateDeg(); // get info needed to put the text onto the canvas\n\n            var info = getTextInfo(word, weight, rotateDeg); // not getting the info means we shouldn't be drawing this one.\n\n            if (!info) {\n              return false;\n            }\n\n            if (exceedTime()) {\n              return false;\n            } // If drawOutOfBound is set to false,\n            // skip the loop if we have already know the bounding box of\n            // word is larger than the canvas.\n\n\n            if (!settings.drawOutOfBound) {\n              var bounds = info.bounds;\n\n              if (bounds[1] - bounds[3] + 1 > ngx || bounds[2] - bounds[0] + 1 > ngy) {\n                return false;\n              }\n            } // Determine the position to put the text by\n            // start looking for the nearest points\n\n\n            var r = maxRadius + 1;\n\n            var tryToPutWordAtPoint = function tryToPutWordAtPoint(gxy) {\n              var gx = Math.floor(gxy[0] - info.gw / 2);\n              var gy = Math.floor(gxy[1] - info.gh / 2);\n              var gw = info.gw;\n              var gh = info.gh; // If we cannot fit the text at this position, return false\n              // and go to the next position.\n\n              if (!canFitText(gx, gy, gw, gh, info.occupied)) {\n                return false;\n              } // Actually put the text on the canvas\n\n\n              drawText(gx, gy, info, word, weight, maxRadius - r, gxy[2], rotateDeg, attributes); // Mark the spaces on the grid as filled\n\n              updateGrid(gx, gy, gw, gh, info, item);\n              return {\n                gx: gx,\n                gy: gy,\n                rot: rotateDeg,\n                info: info\n              };\n            };\n\n            while (r--) {\n              var points = getPointsAtRadius(maxRadius - r);\n\n              if (settings.shuffle) {\n                points = [].concat(points);\n                shuffleArray(points);\n              } // Try to fit the words by looking at each point.\n              // array.some() will stop and return true\n              // when putWordAtPoint() returns true.\n\n\n              for (var i = 0; i < points.length; i++) {\n                var res = tryToPutWordAtPoint(points[i]);\n\n                if (res) {\n                  return res;\n                }\n              } // var drawn = points.some(tryToPutWordAtPoint);\n              // if (drawn) {\n              //   // leave putWord() and return true\n              //   return true;\n              // }\n\n            } // we tried all distances but text won't fit, return null\n\n\n            return null;\n          };\n          /* Send DOM event to all elements. Will stop sending event and return\n             if the previous one is canceled (for cancelable events). */\n\n\n          var sendEvent = function sendEvent(type, cancelable, detail) {\n            if (cancelable) {\n              return !elements.some(function (el) {\n                var evt = document.createEvent('CustomEvent');\n                evt.initCustomEvent(type, true, cancelable, detail || {});\n                return !el.dispatchEvent(evt);\n              }, this);\n            } else {\n              elements.forEach(function (el) {\n                var evt = document.createEvent('CustomEvent');\n                evt.initCustomEvent(type, true, cancelable, detail || {});\n                el.dispatchEvent(evt);\n              }, this);\n            }\n          };\n          /* Start drawing on a canvas */\n\n\n          var start = function start() {\n            // For dimensions, clearCanvas etc.,\n            // we only care about the first element.\n            var canvas = elements[0];\n\n            if (canvas.getContext) {\n              ngx = Math.ceil(canvas.width / g);\n              ngy = Math.ceil(canvas.height / g);\n            } else {\n              var rect = canvas.getBoundingClientRect();\n              ngx = Math.ceil(rect.width / g);\n              ngy = Math.ceil(rect.height / g);\n            } // Sending a wordcloudstart event which cause the previous loop to stop.\n            // Do nothing if the event is canceled.\n\n\n            if (!sendEvent('wordcloudstart', true)) {\n              return;\n            } // Determine the center of the word cloud\n\n\n            center = settings.origin ? [settings.origin[0] / g, settings.origin[1] / g] : [ngx / 2, ngy / 2]; // Maxium radius to look for space\n\n            maxRadius = Math.floor(Math.sqrt(ngx * ngx + ngy * ngy));\n            /* Clear the canvas only if the clearCanvas is set,\n               if not, update the grid to the current canvas state */\n\n            grid = [];\n            var gx, gy, i;\n\n            if (!canvas.getContext || settings.clearCanvas) {\n              elements.forEach(function (el) {\n                if (el.getContext) {\n                  var ctx = el.getContext('2d');\n                  ctx.fillStyle = settings.backgroundColor;\n                  ctx.clearRect(0, 0, ngx * (g + 1), ngy * (g + 1));\n                  ctx.fillRect(0, 0, ngx * (g + 1), ngy * (g + 1));\n                } else {\n                  el.textContent = '';\n                  el.style.backgroundColor = settings.backgroundColor;\n                  el.style.position = 'relative';\n                }\n              });\n              /* fill the grid with empty state */\n\n              gx = ngx;\n\n              while (gx--) {\n                grid[gx] = [];\n                gy = ngy;\n\n                while (gy--) {\n                  grid[gx][gy] = true;\n                }\n              }\n            } else {\n              /* Determine bgPixel by creating\n                 another canvas and fill the specified background color. */\n              var bctx = document.createElement('canvas').getContext('2d');\n              bctx.fillStyle = settings.backgroundColor;\n              bctx.fillRect(0, 0, 1, 1);\n              var bgPixel = bctx.getImageData(0, 0, 1, 1).data;\n              /* Read back the pixels of the canvas we got to tell which part of the\n                 canvas is empty.\n                 (no clearCanvas only works with a canvas, not divs) */\n\n              var imageData = canvas.getContext('2d').getImageData(0, 0, ngx * g, ngy * g).data;\n              gx = ngx;\n              var x, y;\n\n              while (gx--) {\n                grid[gx] = [];\n                gy = ngy;\n\n                while (gy--) {\n                  y = g;\n\n                  singleGridLoop: while (y--) {\n                    x = g;\n\n                    while (x--) {\n                      i = 4;\n\n                      while (i--) {\n                        if (imageData[((gy * g + y) * ngx * g + (gx * g + x)) * 4 + i] !== bgPixel[i]) {\n                          grid[gx][gy] = false;\n                          break singleGridLoop;\n                        }\n                      }\n                    }\n                  }\n\n                  if (grid[gx][gy] !== false) {\n                    grid[gx][gy] = true;\n                  }\n                }\n              }\n\n              imageData = bctx = bgPixel = undefined;\n            } // fill the infoGrid with empty state if we need it\n\n\n            if (settings.hover || settings.click) {\n              interactive = true;\n              /* fill the grid with empty state */\n\n              gx = ngx + 1;\n\n              while (gx--) {\n                infoGrid[gx] = [];\n              }\n\n              if (settings.hover) {\n                canvas.addEventListener('mousemove', wordcloudhover);\n              }\n\n              if (settings.click) {\n                canvas.addEventListener('click', wordcloudclick);\n                canvas.addEventListener('touchstart', wordcloudclick);\n                canvas.addEventListener('touchend', function (e) {\n                  e.preventDefault();\n                });\n                canvas.style.webkitTapHighlightColor = 'rgba(0, 0, 0, 0)';\n              }\n\n              canvas.addEventListener('wordcloudstart', function stopInteraction() {\n                canvas.removeEventListener('wordcloudstart', stopInteraction);\n                canvas.removeEventListener('mousemove', wordcloudhover);\n                canvas.removeEventListener('click', wordcloudclick);\n                hovered = undefined;\n              });\n            }\n\n            i = 0;\n            var loopingFunction, stoppingFunction;\n\n            if (settings.wait !== 0) {\n              loopingFunction = window.setTimeout;\n              stoppingFunction = window.clearTimeout;\n            } else {\n              loopingFunction = window.setImmediate;\n              stoppingFunction = window.clearImmediate;\n            }\n\n            var addEventListener = function addEventListener(type, listener) {\n              elements.forEach(function (el) {\n                el.addEventListener(type, listener);\n              }, this);\n            };\n\n            var removeEventListener = function removeEventListener(type, listener) {\n              elements.forEach(function (el) {\n                el.removeEventListener(type, listener);\n              }, this);\n            };\n\n            var anotherWordCloudStart = function anotherWordCloudStart() {\n              removeEventListener('wordcloudstart', anotherWordCloudStart);\n              stoppingFunction(timer);\n            };\n\n            addEventListener('wordcloudstart', anotherWordCloudStart);\n            var timer = loopingFunction(function loop() {\n              if (i >= settings.list.length) {\n                stoppingFunction(timer);\n                sendEvent('wordcloudstop', false);\n                removeEventListener('wordcloudstart', anotherWordCloudStart);\n                return;\n              }\n\n              escapeTime = new Date().getTime();\n              var drawn = putWord(settings.list[i]);\n              var canceled = !sendEvent('wordclouddrawn', true, {\n                item: settings.list[i],\n                drawn: drawn\n              });\n\n              if (exceedTime() || canceled) {\n                stoppingFunction(timer);\n                settings.abort();\n                sendEvent('wordcloudabort', false);\n                sendEvent('wordcloudstop', false);\n                removeEventListener('wordcloudstart', anotherWordCloudStart);\n                return;\n              }\n\n              i++;\n              timer = loopingFunction(loop, settings.wait);\n            }, settings.wait);\n          }; // All set, start the drawing\n\n\n          start();\n        };\n\n        WordCloud.isSupported = isSupported;\n        WordCloud.minFontSize = minFontSize; // Expose the library as an AMD module\n\n        if (true) {\n          !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function () {\n            return WordCloud;\n          }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n        } else if (typeof module !== 'undefined' && module.exports) {\n          module.exports = WordCloud;\n        } else {\n          global.WordCloud = WordCloud;\n        }\n      })(this); //jshint ignore:line\n\n      /***/\n\n    }]\n    /******/\n    )\n  );\n});",{"version":3,"sources":["C:\\Users\\asus\\Desktop\\GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\src\\views\\recommendation\\js\\echarts-wordcloud.js"],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","require","define","amd","__WEBPACK_EXTERNAL_MODULE_7__","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","BUILTIN_OBJECT","TYPED_ARRAY","objToString","toString","arrayProto","Array","nativeForEach","forEach","nativeFilter","filter","nativeSlice","slice","nativeMap","map","nativeReduce","reduce","methods","$override","fn","clone","source","result","typeStr","len","length","Ctor","constructor","from","isPrimitive","isDom","key","merge","target","overwrite","isObject","targetProp","sourceProp","isArray","isBuiltInObject","mergeAll","targetAndSources","extend","defaults","overlay","createCanvas","document","createElement","_ctx","getContext","indexOf","array","value","inherits","clazz","baseClazz","clazzPrototype","F","prop","superClass","mixin","isArrayLike","data","each","obj","cb","context","push","memo","find","bind","func","args","arguments","apply","concat","curry","isFunction","isString","type","nodeType","ownerDocument","eqNaN","retrieve","values","retrieve2","value0","value1","retrieve3","value2","Function","normalizeCssArray","val","assert","condition","message","Error","primitiveKey","setAsPrimitive","HashMap","set","HASH_MAP_PREFIX","HASH_MAP_PREFIX_LENGTH","prefixedKey","removeKey","createHashMap","noop","Displayable","zrUtil","PathProxy","pathContain","Pattern","getCanvasPattern","abs","Math","pathProxyForDraw","Path","opts","path","__dirtyPath","strokeContainThreshold","brush","ctx","prevEl","style","hasStroke","hasFill","fill","stroke","hasFillGradient","colorStops","hasStrokeGradient","hasFillPattern","image","hasStrokePattern","setTransform","__dirty","rect","getBoundingRect","_fillGradient","getGradient","_strokeGradient","fillStyle","strokeStyle","lineDash","lineDashOffset","ctxLineDash","setLineDash","scale","getGlobalScale","setScale","beginPath","setLineDashOffset","buildPath","shape","rebuildPath","restoreTransform","text","drawRectText","shapeCfg","inBundle","createPathProxy","_rect","needsUpdateRect","rectWithStroke","_rectWithStroke","copy","w","lineWidth","lineScale","strokeNoScale","getLineScale","max","width","height","x","y","contain","localPos","transformCoordToLocal","pathData","containStroke","dirty","dirtyPath","__zr","refresh","__clipTarget","animateShape","loop","animate","attrKV","setShape","transform","sqrt","Sub","extendFrom","defaultShape","thisShape","init","_default","ArrayCtor","Float32Array","create","out","v","a","b","add","v1","v2","scaleAndAdd","sub","lenSquare","lengthSquare","mul","div","dot","normalize","distance","dist","distanceSquare","distSquare","negate","lerp","t","applyTransform","min","vec2","matrix","v2ApplyTransform","mathMin","mathMax","BoundingRect","union","other","lt","rb","lb","rt","maxX","maxY","calculateTransform","sx","sy","translate","intersect","ax0","ax1","ay0","ay1","bx0","bx1","by0","by1","plain","_vector","v2Create","v2DistSquare","mathPow","pow","mathSqrt","EPSILON","EPSILON_NUMERIC","THREE_SQRT","ONE_THIRD","_v0","_v1","_v2","isAroundZero","isNotAroundZero","cubicAt","p0","p1","p2","p3","onet","cubicDerivativeAt","cubicRootAt","roots","A","B","C","t1","disc","K","t2","discSqrt","Y1","Y2","T","theta","acos","ASqrt","tmp","cos","sin","t3","cubicExtrema","extrema","cubicSubdivide","p01","p12","p23","p012","p123","p0123","cubicProjectPoint","x0","y0","x1","y1","x2","y2","x3","y3","interval","Infinity","prev","next","d1","d2","_t","quadraticAt","quadraticDerivativeAt","quadraticRootAt","quadraticExtremum","divider","quadraticSubdivide","quadraticProjectPoint","imageHelper","_util","textWidthCache","textWidthCacheCounter","TEXT_CACHE_MAX","STYLE_REG","DEFAULT_FONT","getWidth","font","textLines","split","measureText","textAlign","textVerticalAlign","textPadding","rich","truncate","getRichTextRect","getPlainTextRect","contentBlock","parsePlainText","outerWidth","outerHeight","adjustTextX","adjustTextY","lineHeight","parseRichText","adjustTextPositionOnRect","textPosition","halfHeight","truncateText","containerWidth","ellipsis","options","prepareTruncateOptions","truncateSingleLine","join","maxIterations","minChar","cnCharWidth","ascCharWidth","placeholder","contentWidth","ellipsisWidth","textLine","j","subLength","estimateLength","floor","substr","charCode","charCodeAt","getLineHeight","padding","lines","truncOuterHeight","truncOuterWidth","lastIndex","exec","matchedIndex","index","pushTokens","substring","contentHeight","pendingList","stlPadding","truncateWidth","truncateHeight","line","tokens","token","tokenStyle","styleName","tokenHeight","textHeight","textLineHeight","textWidth","tokenWidth","tokenWidthNotSpecified","charAt","percentWidth","textBackgroundColor","bgImg","findExistImage","isImageReady","paddingW","remianTruncWidth","parseInt","block","str","isEmptyStr","strs","isLineHolder","tokensLen","makeFont","fontSize","fontFamily","fontStyle","fontWeight","textFont","curve","bbox","_config","dpr","devicePixelRatio","CMD","M","L","Q","Z","R","min2","max2","mathCos","mathSin","mathAbs","hasTypedArray","notSaveData","_saveData","_xi","_yi","_x0","_y0","_ux","_uy","_len","_lineDash","_dashOffset","_dashIdx","_dashSum","moveTo","addData","lineTo","exceedUnit","_needsDash","_dashedLineTo","bezierCurveTo","_dashedBezierTo","quadraticCurveTo","_dashedQuadraticTo","arc","cx","cy","r","startAngle","endAngle","anticlockwise","arcTo","radius","h","closePath","toStatic","lineDashSum","offset","setData","appendPath","appendSize","appendPathData","k","cmd","_expandData","_prevCmd","newData","dashSum","dx","dy","dash","nDash","idx","bezierLen","tmpLen","Number","MAX_VALUE","xi","yi","fromLine","fromCubic","fromQuadratic","rx","ry","psi","fromArc","ux","uy","dTheta","fs","scaleX","scaleY","isEllipse","rotate","identity","m1","m2","out0","out1","out2","out3","out4","out5","rad","aa","ac","atx","ab","ad","aty","st","ct","vx","vy","invert","det","RADIAN_EPSILON","_trim","replace","linearMap","domain","range","clamp","subDomain","subRange","parsePercent","percent","all","match","parseFloat","NaN","round","precision","returnStr","toFixed","asc","arr","sort","getPrecision","isNaN","e","count","getPrecisionSafe","eIndex","dotIndex","getPixelPrecision","dataExtent","pixelExtent","log","LN10","dataQuantity","sizeQuantity","isFinite","getPercentWithPrecision","valueList","sum","acc","digits","votesPerQuota","targetSeats","seats","votes","currentSum","remainder","NEGATIVE_INFINITY","maxId","MAX_SAFE_INTEGER","remRadian","radian","pi2","PI","isRadianAroundZero","TIME_REG","parseDate","Date","hour","toUpperCase","UTC","quantity","quantityExponent","nice","exponent","exp10","f","nf","reformIntervals","list","littleThan","curr","currClose","close","lg","splice","isNumeric","LRU","globalImageCache","newImageOrSrc","cachedImgObj","createOrUpdateImage","hostEl","cbPayload","__zrImageSrc","pendingWrap","pending","Image","onload","imageOnLoad","put","__cachedImgObj","src","properties","model","excludes","includes","propName","getShallow","Style","Element","RectText","__clipPaths","invisible","z","z2","zlevel","draggable","dragging","silent","culling","cursor","rectHover","progressive","beforeBrush","afterBrush","rectContain","traverse","coord","animateStyle","setStyle","useStyle","textContain","numberUtil","addCommas","toCamelCase","upperCaseFirst","toLowerCase","group1","encodeHTML","String","TPL_VAR_ALIAS","wrapVar","varName","seriesIdx","formatTpl","tpl","paramsList","encode","seriesLen","$vars","alias","formatTplSimple","param","getTooltipMarker","color","extraCssText","s2d","formatTime","isUTC","date","utc","capitalFirst","getTextRect","LinkedList","head","tail","linkedListProto","insert","entry","Entry","insertEntry","remove","clear","maxSize","_list","_map","_maxSize","_lastRemovedEntry","LRUProto","removed","leastUsedEntry","env","navigator","browser","os","node","canvasSupported","svgSupported","detect","userAgent","ua","firefox","ie","edge","weChat","test","version","SVGRect","touchEventsSupported","window","pointerEventsSupported","guid","Eventful","Transformable","Animatable","id","ignore","clipPath","drift","decomposeTransform","beforeUpdate","afterUpdate","update","updateTransform","hide","show","attr","setClipPath","zr","addSelfToZr","removeClipPath","removeSelfFromZr","animators","animation","addAnimator","removeAnimator","vector","mIdentity","position","rotation","origin","transformableProto","needLocalTransform","parent","parentHasTransform","getLocalTransform","invTransform","tmpTransform","atan2","transformCoordToGlobal","kCSSColorTable","clampCssByte","clampCssAngle","clampCssFloat","parseCssInt","parseCssFloat","cssHueToRgb","lerpNumber","setRgba","g","copyRgba","colorCache","lastRemovedArr","putToCache","colorStr","rgbaArr","parse","cached","iv","op","ep","fname","params","alpha","pop","hsla2rgba","hsla","rgba","rgba2hsla","G","vMin","vMax","delta","H","S","deltaR","deltaG","deltaB","lift","level","colorArr","stringify","toHex","fastLerp","normalizedValue","colors","leftIndex","rightIndex","ceil","leftColor","rightColor","dv","fastMapToColor","fullOutput","mapToColor","modifyHSL","modifyAlpha","arrColor","debugMode","roundRectHelper","VALID_TEXT_ALIGN","left","right","center","VALID_TEXT_VERTICAL_ALIGN","top","bottom","middle","normalizeTextStyle","normalizeStyle","textBaseline","renderText","renderRichText","renderPlainText","setCtx","__textCotentBlock","boxPos","getBoxPosition","baseX","baseY","applyTextRotation","boxY","textX","textY","needDrawBg","needDrawBackground","boxX","drawBackground","getTextXForPadding","textShadowBlur","textShadowColor","textShadowOffsetX","textShadowOffsetY","textStrokeWidth","textStroke","getStroke","textFill","getFill","strokeText","fillText","drawRichText","xLeft","lineTop","xRight","tokenCount","usedWidth","lineXLeft","lineXRight","placeToken","textRotation","textOrigin","textBorderWidth","textBorderColor","isPlainBg","textBoxShadowBlur","textBoxShadowColor","textBoxShadowOffsetX","textBoxShadowOffsetY","textBorderRadius","onBgImageLoaded","drawImage","blockHeiht","res","textDistance","textOffset","maxValue","lastIndexOf","needDrawText","r1","r2","r3","r4","total","PI2","normalizeRadian","angle","smoothSpline","smoothBezier","points","smooth","controlPoints","smoothConstraint","cp1","cp2","Gradient","addColorStop","echarts","layoutUtil","wordCloudLayoutHelper","isSupported","updateCanvasMask","maskCanvas","imageData","getImageData","newImageData","createImageData","toneSum","toneCnt","tone","threshold","putImageData","registerLayout","ecModel","api","eachSeriesByType","seriesModel","gridRect","getLayoutRect","getBoxLayoutParams","getHeight","getData","canvas","maskImage","console","error","sizeRange","rotationRange","valueExtent","getDataExtent","DEGREE_TO_RAD","gridSize","mapArray","itemModel","getItemModel","getName","number","ellipticity","minRotation","maxRotation","clearCanvas","rotateRatio","rotationStep","drawOutOfBound","shuffle","onWordCloudDrawn","item","detail","drawn","layoutInstance","ondraw","gx","gy","addEventListener","dispose","removeEventListener","preventDefault","registerPreprocessor","option","series","util","compats","seriesItem","textStyle","compatTextStyle","normal","emphasis","format","_number","formatUtil","LOCATION_PARAMS","HV_NAMES","boxLayout","orient","group","gap","maxWidth","maxHeight","currentLineMaxSize","eachChild","child","nextChild","childAt","nextChildRect","nextX","nextY","moveX","newline","moveY","box","vbox","hbox","getAvailableSize","positionInfo","containerRect","margin","containerHeight","verticalMargin","horizontalMargin","aspect","positionElement","el","opt","hv","boundingMode","elPos","sizeCalculable","hvIdx","mergeLayoutParam","targetOption","newOption","ignoreSize","hResult","vResult","names","newParams","newValueCount","merged","mergedValueCount","enoughParamNumber","hasProp","hasValue","getLayoutParams","copyLayoutParams","completeDimensions","extendSeriesModel","visualColorAccessPath","optionUpdated","getInitialData","dimensions","List","initData","defaultOption","_model","normalizeToArray","OTHER_DIMS","tooltip","label","itemName","sysDims","dimsDef","encodeDef","dataDimNameMap","coordDimNameMap","dimCount","retrieveValue","sysDimItem","sysDimItemDimsDef","dimDefItem","userDimName","resultItem","otherDims","tooltipName","dataDims","coordDim","resultDimIdx","coordDimIndex","applyDim","availDimIdx","sysDimIndex","sysDimItemOtherDims","extra","extraPrefix","genName","extraFromZero","isExtraCoord","guessOrdinal","fromZero","dimIndex","nubmerUtil","Model","defaultEmphasis","subOpts","emphasisOpt","normalOpt","subOptName","TEXT_STYLE_OPTIONS","getDataItemValue","dataItem","isDataItemOption","converDataValue","dimInfo","dimType","createDataFormatModel","dataFormatMixin","seriesIndex","mainType","subType","getDataParams","dataIndex","dataType","rawValue","getRawValue","rawDataIndex","getRawIndex","itemOpt","getRawDataItem","getItemVisual","componentType","componentSubType","seriesType","seriesId","seriesName","marker","getFormattedLabel","status","labelProp","formatter","formatTooltip","mappingToExists","exists","newCptOptions","exist","cptOption","isIdInner","makeIdAndName","mapResult","idMap","existCpt","keyInfo","idNum","compressBatches","batchA","batchB","mapA","mapB","makeMap","mapToArray","sourceBatch","otherMap","dataIndices","otherDataIndices","lenj","isData","queryDataIndex","payload","dataIndexInside","indexOfRawIndex","indexOfName","makeGetter","hostObj","parseFinder","finder","defaultMainType","has","parsedKey","queryType","includeMainTypes","queryParam","models","queryComponents","dataDimToCoordDim","dataDim","getDimension","dimItem","getDimensionInfo","coordDimToDataDim","dimName","otherDimToDataDim","otherDim","clazzUtil","lineStyleMixin","areaStyleMixin","textStyleMixin","itemStyleMixin","parentModel","mergeOption","ignoreParent","doGet","parsePath","getParent","getModel","thisParentModel","isEmpty","restoreData","setReadOnly","customizeGetParent","getParentMethod","isAnimationEnabled","pathArr","enableClassExtend","__DEV__","TYPE_DELIMITER","IS_CONTAINER","MEMBER_PRIFIX","host","hasOwn","parseClassType","ret","main","checkClassType","RootClass","mandatoryMethods","$constructor","proto","ExtendedClass","superCall","superApply","methodName","enableClassManagement","entity","storage","registerClass","Clazz","container","makeContainer","getClass","componentMainType","throwWhenNotFound","getClassesByMainType","hasClass","getAllClassMainTypes","types","hasSubTypes","registerWhenExtend","originalExtend","global","dev","eval","makeStyleMapper","getLineStyle","getLineDash","lineType","dotSize","dashSize","getAreaStyle","graphicUtil","PATH_COLOR","getTextColor","isEmphasis","getFont","pathTool","colorTool","Group","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","CompoundPath","LinearGradient","RadialGradient","EMPTY_OBJ","extendShape","extendPath","extendFromString","makePath","layout","createFromString","boundingRect","centerGraphic","resizePath","makeImage","imageUrl","img","mergePath","pathRect","subPixelOptimizeLine","subPixelOptimize","subPixelOptimizeRect","originX","originY","originWidth","originHeight","positiveOrNegative","doubledPosition","hasFillOrStroke","fillOrStroke","liftColor","cacheElementStl","__hoverStlDirty","hoverStyle","__hoverStl","normalStyle","__normalStl","doSingleEnterHover","__isHover","useHoverLayer","addHover","insideRollbackOpt","rollbackInsideStyle","applyInsideStyle","insideOriginalTextPosition","autoColor","doSingleLeaveHover","normalStl","removeHover","doEnterHover","doLeaveHover","setElementHoverStl","hoverStl","onElementMouseOver","__hoverSilentOnTouch","zrByTouch","__isEmphasis","onElementMouseOut","enterEmphasis","leaveEmphasis","setHoverStyle","hoverSilentOnTouch","on","setLabelStyle","emphasisStyle","normalModel","emphasisModel","normalSpecified","emphasisSpecified","labelFetcher","labelDataIndex","labelDimIndex","showNormal","showEmphasis","baseText","defaultText","normalStyleText","emphasisStyleText","setTextStyle","textStyleModel","specifiedTextStyle","setTextStyleCommon","setText","labelModel","defaultColor","isRectText","labelRotate","globalTextStyle","richItemNames","getRichItemNames","richResult","richTextStyle","setTokenTextStyle","forceRich","richItemNameMap","isBlock","getAutoColor","originalTextPosition","insideRollback","textTag","disableBox","useInsideStyle","gTextStyleModel","animateOrSetProps","isUpdate","props","animatableModel","animationEnabled","postfix","duration","animationEasing","animationDelay","getAnimationDelayParams","animateTo","stopAnimation","updateProps","initProps","getTransform","ancestor","mat","transformDirection","direction","hBase","vBase","vertex","groupTransition","g1","g2","getElMap","elMap","isGroup","anid","getAnimatableProps","elMap1","oldEl","newProp","clipPointsByRect","point","clipRectByRect","targetRect","createIcon","iconStr","transformPath","cc","vMag","vRatio","u","vAngle","processArc","fa","psiDeg","xp","yp","lambda","cxp","cyp","createPathProxyFromString","cs","RegExp","cpx","cpy","prevCmd","off","shift","ctlPtx","ctlPty","createPathOptions","pathProxy","pathEls","pathList","pathEl","pathBundle","STYLE_COMMON_PROPS","createLinearGradient","canvasGradient","createRadialGradient","opacity","shadowBlur","shadowOffsetX","shadowOffsetY","textRect","transformText","blend","prevStyle","firstDraw","globalAlpha","globalCompositeOperation","otherStyle","newStyle","method","styleProto","idStart","arrySlice","_$handlers","one","event","handler","_h","isSilent","newList","trigger","argLen","triggerWithContext","Animator","animatingShape","pathSplitted","animator","during","done","forwardToLast","stop","time","delay","easing","callback","forceAnimate","_animateToShallow","start","objShallow","propertyCount","when","Clip","arraySlice","defaultGetter","defaultSetter","interpolateNumber","interpolateString","interpolateArray","arrDim","len2","fillArr","arr0","arr1","arr0Len","arr1Len","isPreviousLarger","isArraySame","catmullRomInterpolateArray","catmullRomInterpolate","v0","cloneValue","rgba2String","getArrayDim","keyframes","lastValue","createTrackClip","oneTrackDone","_getter","setter","_setter","useSpline","trackLen","firstVal","isValueArray","isValueColor","isValueString","trackMaxTime","kfPercents","kfValues","prevValue","isAllValueEqual","colorArray","_target","lastFrame","lastFramePercent","onframe","frame","clip","life","_loop","_delay","ondestroy","_tracks","_clipCount","_doneList","_onframeList","_clipList","tracks","pause","_paused","resume","isPaused","_doneCallback","doneList","self","clipCount","lastClip","addClip","oldOnFrame","clipList","removeClip","getClips","easingFuncs","_life","_initialized","onrestart","_pausedTime","step","globalTime","deltaTime","_startTime","easingFunc","schedule","fire","restart","_needsRemove","eventType","arg","linear","quadraticIn","quadraticOut","quadraticInOut","cubicIn","cubicOut","cubicInOut","quarticIn","quarticOut","quarticInOut","quinticIn","quinticOut","quinticInOut","sinusoidalIn","sinusoidalOut","sinusoidalInOut","exponentialIn","exponentialOut","exponentialInOut","circularIn","circularOut","circularInOut","elasticIn","asin","elasticOut","elasticInOut","backIn","backOut","backInOut","bounceIn","bounceOut","bounceInOut","textHelper","tmpRect","save","restore","end","extremity","fromPoints","xDim","yDim","tx","ty","vec2Min","vec2Max","diff","cubic","quadratic","windingLine","isAroundEqual","swapExtrema","windingCubic","nRoots","nExtrema","y0_","y1_","unit","x_","windingQuadratic","y_","windingArc","dir","containPath","isStroke","_x","_l","_a","_b","_s","_curve","repeat","createPattern","mathAtan2","nPoint","ZImage","_image","sWidth","sHeight","_children","__storage","children","childOfName","childCount","_doAdd","addBefore","nextSibling","addToStorage","addChildrenToStorage","delFromStorage","delChildrenFromStorage","removeAll","includeChildren","tmpMat","childRect","shadowColor","fixClipWithShadow","r0","clockwise","unitX","unitY","shadowTemp","orignalBrush","clipPaths","modified","polyHelper","v2Distance","interpolate","isLoop","segs","pos","w2","w3","v2Min","v2Max","v2Scale","v2Add","v2Clone","v2Sub","constraint","cps","prevPoint","nextPoint","d0","cp0","pointAt","someVectorAt","isTangent","cpx2","cpy2","cpx1","cpy1","tangentAt","paths","_updatePathDirty","globalCoord","getItemStyle","getBorderLineDash","extendChartView","render","size","dataIdx","emphasisTextStyleModel","textEl","graphic","info","fillTextOffsetX","fillTextOffsetY","mu","gw","gh","rot","setItemGraphicEl","forMerge","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","setImmediate","setupSetImmediate","msSetImmediate","webkitSetImmediate","mozSetImmediate","oSetImmediate","setupSetZeroTimeout","postMessage","callbacks","undefined","setZeroTimeout","setZeroTimeoutMessage","evt","stopImmediatePropagation","clearImmediate","clearZeroTimeout","setImmediateFallback","setTimeout","setupClearImmediate","msClearImmediate","webkitClearImmediate","mozClearImmediate","oClearImmediate","clearImmediateFallback","timer","clearTimeout","some","minFontSize","getMinFontSize","hanWidth","mWidth","shuffleArray","random","WordCloud","elements","getElementById","tagName","appendChild","settings","minSize","weightFactor","backgroundColor","drawMask","maskColor","maskGapWidth","wait","abortThreshold","abort","classes","hover","click","factor","pt","shapeCardioid","shapeSquare","thetaPrime","shapeTriangle","shapePentagon","shapeStar","maskRectWidth","grid","ngx","ngy","maxRadius","escapeTime","random_hsl_color","getRandomDarkColor","getRandomLightColor","getTextClasses","interactive","infoGrid","hovered","getInfoGridFromMouseTouchEvent","currentTarget","getBoundingClientRect","clientX","clientY","touches","eventX","eventY","wordcloudhover","dimension","wordcloudclick","pointsAtRadius","getPointsAtRadius","exceedTime","getTime","getRotateDeg","getTextInfo","word","weight","rotateDeg","debug","calculateScaleFactor","fcanvas","fctx","willReadFrequently","fw","fh","boxWidth","boxHeight","fgw","fgh","cgh","cgw","setAttribute","body","strokeRect","occupied","bounds","singleGridLoop","fillRect","fillTextWidth","fillTextHeight","canFitText","px","py","drawText","attributes","span","transformRule","styleRules","textContent","cssProp","attribute","className","fillGridAt","updateGrid","putWord","tryToPutWordAtPoint","gxy","sendEvent","cancelable","createEvent","initCustomEvent","dispatchEvent","clearRect","bctx","bgPixel","webkitTapHighlightColor","stopInteraction","loopingFunction","stoppingFunction","listener","anotherWordCloudStart","canceled"],"mappings":"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","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"echarts\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"echarts\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"echarts-wordcloud\"] = factory(require(\"echarts\"));\n\telse\n\t\troot[\"echarts-wordcloud\"] = factory(root[\"echarts\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_7__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 25);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\n/**\n * @module zrender/core/util\n */\n// 用于处理merge时无法遍历Date等对象的问题\nvar BUILTIN_OBJECT = {\n  '[object Function]': 1,\n  '[object RegExp]': 1,\n  '[object Date]': 1,\n  '[object Error]': 1,\n  '[object CanvasGradient]': 1,\n  '[object CanvasPattern]': 1,\n  // For node-canvas\n  '[object Image]': 1,\n  '[object Canvas]': 1\n};\nvar TYPED_ARRAY = {\n  '[object Int8Array]': 1,\n  '[object Uint8Array]': 1,\n  '[object Uint8ClampedArray]': 1,\n  '[object Int16Array]': 1,\n  '[object Uint16Array]': 1,\n  '[object Int32Array]': 1,\n  '[object Uint32Array]': 1,\n  '[object Float32Array]': 1,\n  '[object Float64Array]': 1\n};\nvar objToString = Object.prototype.toString;\nvar arrayProto = Array.prototype;\nvar nativeForEach = arrayProto.forEach;\nvar nativeFilter = arrayProto.filter;\nvar nativeSlice = arrayProto.slice;\nvar nativeMap = arrayProto.map;\nvar nativeReduce = arrayProto.reduce; // Avoid assign to an exported variable, for transforming to cjs.\n\nvar methods = {};\n\nfunction $override(name, fn) {\n  methods[name] = fn;\n}\n/**\n * Those data types can be cloned:\n *     Plain object, Array, TypedArray, number, string, null, undefined.\n * Those data types will be assgined using the orginal data:\n *     BUILTIN_OBJECT\n * Instance of user defined class will be cloned to a plain object, without\n * properties in prototype.\n * Other data types is not supported (not sure what will happen).\n *\n * Caution: do not support clone Date, for performance consideration.\n * (There might be a large number of date in `series.data`).\n * So date should not be modified in and out of echarts.\n *\n * @param {*} source\n * @return {*} new\n */\n\n\nfunction clone(source) {\n  if (source == null || typeof source != 'object') {\n    return source;\n  }\n\n  var result = source;\n  var typeStr = objToString.call(source);\n\n  if (typeStr === '[object Array]') {\n    result = [];\n\n    for (var i = 0, len = source.length; i < len; i++) {\n      result[i] = clone(source[i]);\n    }\n  } else if (TYPED_ARRAY[typeStr]) {\n    var Ctor = source.constructor;\n\n    if (source.constructor.from) {\n      result = Ctor.from(source);\n    } else {\n      result = new Ctor(source.length);\n\n      for (var i = 0, len = source.length; i < len; i++) {\n        result[i] = clone(source[i]);\n      }\n    }\n  } else if (!BUILTIN_OBJECT[typeStr] && !isPrimitive(source) && !isDom(source)) {\n    result = {};\n\n    for (var key in source) {\n      if (source.hasOwnProperty(key)) {\n        result[key] = clone(source[key]);\n      }\n    }\n  }\n\n  return result;\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} target\n * @param {*} source\n * @param {boolean} [overwrite=false]\n */\n\n\nfunction merge(target, source, overwrite) {\n  // We should escapse that source is string\n  // and enter for ... in ...\n  if (!isObject(source) || !isObject(target)) {\n    return overwrite ? clone(source) : target;\n  }\n\n  for (var key in source) {\n    if (source.hasOwnProperty(key)) {\n      var targetProp = target[key];\n      var sourceProp = source[key];\n\n      if (isObject(sourceProp) && isObject(targetProp) && !isArray(sourceProp) && !isArray(targetProp) && !isDom(sourceProp) && !isDom(targetProp) && !isBuiltInObject(sourceProp) && !isBuiltInObject(targetProp) && !isPrimitive(sourceProp) && !isPrimitive(targetProp)) {\n        // 如果需要递归覆盖，就递归调用merge\n        merge(targetProp, sourceProp, overwrite);\n      } else if (overwrite || !(key in target)) {\n        // 否则只处理overwrite为true，或者在目标对象中没有此属性的情况\n        // NOTE，在 target[key] 不存在的时候也是直接覆盖\n        target[key] = clone(source[key], true);\n      }\n    }\n  }\n\n  return target;\n}\n/**\n * @param {Array} targetAndSources The first item is target, and the rests are source.\n * @param {boolean} [overwrite=false]\n * @return {*} target\n */\n\n\nfunction mergeAll(targetAndSources, overwrite) {\n  var result = targetAndSources[0];\n\n  for (var i = 1, len = targetAndSources.length; i < len; i++) {\n    result = merge(result, targetAndSources[i], overwrite);\n  }\n\n  return result;\n}\n/**\n * @param {*} target\n * @param {*} source\n * @memberOf module:zrender/core/util\n */\n\n\nfunction extend(target, source) {\n  for (var key in source) {\n    if (source.hasOwnProperty(key)) {\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n/**\n * @param {*} target\n * @param {*} source\n * @param {boolean} [overlay=false]\n * @memberOf module:zrender/core/util\n */\n\n\nfunction defaults(target, source, overlay) {\n  for (var key in source) {\n    if (source.hasOwnProperty(key) && (overlay ? source[key] != null : target[key] == null)) {\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nvar createCanvas = function () {\n  return methods.createCanvas();\n};\n\nmethods.createCanvas = function () {\n  return document.createElement('canvas');\n}; // FIXME\n\n\nvar _ctx;\n\nfunction getContext() {\n  if (!_ctx) {\n    // Use util.createCanvas instead of createCanvas\n    // because createCanvas may be overwritten in different environment\n    _ctx = createCanvas().getContext('2d');\n  }\n\n  return _ctx;\n}\n/**\n * 查询数组中元素的index\n * @memberOf module:zrender/core/util\n */\n\n\nfunction indexOf(array, value) {\n  if (array) {\n    if (array.indexOf) {\n      return array.indexOf(value);\n    }\n\n    for (var i = 0, len = array.length; i < len; i++) {\n      if (array[i] === value) {\n        return i;\n      }\n    }\n  }\n\n  return -1;\n}\n/**\n * 构造类继承关系\n *\n * @memberOf module:zrender/core/util\n * @param {Function} clazz 源类\n * @param {Function} baseClazz 基类\n */\n\n\nfunction inherits(clazz, baseClazz) {\n  var clazzPrototype = clazz.prototype;\n\n  function F() {}\n\n  F.prototype = baseClazz.prototype;\n  clazz.prototype = new F();\n\n  for (var prop in clazzPrototype) {\n    clazz.prototype[prop] = clazzPrototype[prop];\n  }\n\n  clazz.prototype.constructor = clazz;\n  clazz.superClass = baseClazz;\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {Object|Function} target\n * @param {Object|Function} sorce\n * @param {boolean} overlay\n */\n\n\nfunction mixin(target, source, overlay) {\n  target = 'prototype' in target ? target.prototype : target;\n  source = 'prototype' in source ? source.prototype : source;\n  defaults(target, source, overlay);\n}\n/**\n * Consider typed array.\n * @param {Array|TypedArray} data\n */\n\n\nfunction isArrayLike(data) {\n  if (!data) {\n    return;\n  }\n\n  if (typeof data == 'string') {\n    return false;\n  }\n\n  return typeof data.length == 'number';\n}\n/**\n * 数组或对象遍历\n * @memberOf module:zrender/core/util\n * @param {Object|Array} obj\n * @param {Function} cb\n * @param {*} [context]\n */\n\n\nfunction each(obj, cb, context) {\n  if (!(obj && cb)) {\n    return;\n  }\n\n  if (obj.forEach && obj.forEach === nativeForEach) {\n    obj.forEach(cb, context);\n  } else if (obj.length === +obj.length) {\n    for (var i = 0, len = obj.length; i < len; i++) {\n      cb.call(context, obj[i], i, obj);\n    }\n  } else {\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        cb.call(context, obj[key], key, obj);\n      }\n    }\n  }\n}\n/**\n * 数组映射\n * @memberOf module:zrender/core/util\n * @param {Array} obj\n * @param {Function} cb\n * @param {*} [context]\n * @return {Array}\n */\n\n\nfunction map(obj, cb, context) {\n  if (!(obj && cb)) {\n    return;\n  }\n\n  if (obj.map && obj.map === nativeMap) {\n    return obj.map(cb, context);\n  } else {\n    var result = [];\n\n    for (var i = 0, len = obj.length; i < len; i++) {\n      result.push(cb.call(context, obj[i], i, obj));\n    }\n\n    return result;\n  }\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {Array} obj\n * @param {Function} cb\n * @param {Object} [memo]\n * @param {*} [context]\n * @return {Array}\n */\n\n\nfunction reduce(obj, cb, memo, context) {\n  if (!(obj && cb)) {\n    return;\n  }\n\n  if (obj.reduce && obj.reduce === nativeReduce) {\n    return obj.reduce(cb, memo, context);\n  } else {\n    for (var i = 0, len = obj.length; i < len; i++) {\n      memo = cb.call(context, memo, obj[i], i, obj);\n    }\n\n    return memo;\n  }\n}\n/**\n * 数组过滤\n * @memberOf module:zrender/core/util\n * @param {Array} obj\n * @param {Function} cb\n * @param {*} [context]\n * @return {Array}\n */\n\n\nfunction filter(obj, cb, context) {\n  if (!(obj && cb)) {\n    return;\n  }\n\n  if (obj.filter && obj.filter === nativeFilter) {\n    return obj.filter(cb, context);\n  } else {\n    var result = [];\n\n    for (var i = 0, len = obj.length; i < len; i++) {\n      if (cb.call(context, obj[i], i, obj)) {\n        result.push(obj[i]);\n      }\n    }\n\n    return result;\n  }\n}\n/**\n * 数组项查找\n * @memberOf module:zrender/core/util\n * @param {Array} obj\n * @param {Function} cb\n * @param {*} [context]\n * @return {*}\n */\n\n\nfunction find(obj, cb, context) {\n  if (!(obj && cb)) {\n    return;\n  }\n\n  for (var i = 0, len = obj.length; i < len; i++) {\n    if (cb.call(context, obj[i], i, obj)) {\n      return obj[i];\n    }\n  }\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {Function} func\n * @param {*} context\n * @return {Function}\n */\n\n\nfunction bind(func, context) {\n  var args = nativeSlice.call(arguments, 2);\n  return function () {\n    return func.apply(context, args.concat(nativeSlice.call(arguments)));\n  };\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {Function} func\n * @return {Function}\n */\n\n\nfunction curry(func) {\n  var args = nativeSlice.call(arguments, 1);\n  return function () {\n    return func.apply(this, args.concat(nativeSlice.call(arguments)));\n  };\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isArray(value) {\n  return objToString.call(value) === '[object Array]';\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isString(value) {\n  return objToString.call(value) === '[object String]';\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return type === 'function' || !!value && type == 'object';\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isBuiltInObject(value) {\n  return !!BUILTIN_OBJECT[objToString.call(value)];\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isDom(value) {\n  return typeof value === 'object' && typeof value.nodeType === 'number' && typeof value.ownerDocument === 'object';\n}\n/**\n * Whether is exactly NaN. Notice isNaN('a') returns true.\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction eqNaN(value) {\n  return value !== value;\n}\n/**\n * If value1 is not null, then return value1, otherwise judget rest of values.\n * Low performance.\n * @memberOf module:zrender/core/util\n * @return {*} Final value\n */\n\n\nfunction retrieve(values) {\n  for (var i = 0, len = arguments.length; i < len; i++) {\n    if (arguments[i] != null) {\n      return arguments[i];\n    }\n  }\n}\n\nfunction retrieve2(value0, value1) {\n  return value0 != null ? value0 : value1;\n}\n\nfunction retrieve3(value0, value1, value2) {\n  return value0 != null ? value0 : value1 != null ? value1 : value2;\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {Array} arr\n * @param {number} startIndex\n * @param {number} endIndex\n * @return {Array}\n */\n\n\nfunction slice() {\n  return Function.call.apply(nativeSlice, arguments);\n}\n/**\n * Normalize css liked array configuration\n * e.g.\n *  3 => [3, 3, 3, 3]\n *  [4, 2] => [4, 2, 4, 2]\n *  [4, 3, 2] => [4, 3, 2, 3]\n * @param {number|Array.<number>} val\n * @return {Array.<number>}\n */\n\n\nfunction normalizeCssArray(val) {\n  if (typeof val === 'number') {\n    return [val, val, val, val];\n  }\n\n  var len = val.length;\n\n  if (len === 2) {\n    // vertical | horizontal\n    return [val[0], val[1], val[0], val[1]];\n  } else if (len === 3) {\n    // top | horizontal | bottom\n    return [val[0], val[1], val[2], val[1]];\n  }\n\n  return val;\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {boolean} condition\n * @param {string} message\n */\n\n\nfunction assert(condition, message) {\n  if (!condition) {\n    throw new Error(message);\n  }\n}\n\nvar primitiveKey = '__ec_primitive__';\n/**\n * Set an object as primitive to be ignored traversing children in clone or merge\n */\n\nfunction setAsPrimitive(obj) {\n  obj[primitiveKey] = true;\n}\n\nfunction isPrimitive(obj) {\n  return obj[primitiveKey];\n}\n/**\n * @constructor\n * @param {Object} obj Only apply `ownProperty`.\n */\n\n\nfunction HashMap(obj) {\n  obj && each(obj, function (value, key) {\n    this.set(key, value);\n  }, this);\n} // Add prefix to avoid conflict with Object.prototype.\n\n\nvar HASH_MAP_PREFIX = '_ec_';\nvar HASH_MAP_PREFIX_LENGTH = 4;\nHashMap.prototype = {\n  constructor: HashMap,\n  // Do not provide `has` method to avoid defining what is `has`.\n  // (We usually treat `null` and `undefined` as the same, different\n  // from ES6 Map).\n  get: function (key) {\n    return this[HASH_MAP_PREFIX + key];\n  },\n  set: function (key, value) {\n    this[HASH_MAP_PREFIX + key] = value; // Comparing with invocation chaining, `return value` is more commonly\n    // used in this case: `var someVal = map.set('a', genVal());`\n\n    return value;\n  },\n  // Although util.each can be performed on this hashMap directly, user\n  // should not use the exposed keys, who are prefixed.\n  each: function (cb, context) {\n    context !== void 0 && (cb = bind(cb, context));\n\n    for (var prefixedKey in this) {\n      this.hasOwnProperty(prefixedKey) && cb(this[prefixedKey], prefixedKey.slice(HASH_MAP_PREFIX_LENGTH));\n    }\n  },\n  // Do not use this method if performance sensitive.\n  removeKey: function (key) {\n    delete this[HASH_MAP_PREFIX + key];\n  }\n};\n\nfunction createHashMap(obj) {\n  return new HashMap(obj);\n}\n\nfunction noop() {}\n\nexports.$override = $override;\nexports.clone = clone;\nexports.merge = merge;\nexports.mergeAll = mergeAll;\nexports.extend = extend;\nexports.defaults = defaults;\nexports.createCanvas = createCanvas;\nexports.getContext = getContext;\nexports.indexOf = indexOf;\nexports.inherits = inherits;\nexports.mixin = mixin;\nexports.isArrayLike = isArrayLike;\nexports.each = each;\nexports.map = map;\nexports.reduce = reduce;\nexports.filter = filter;\nexports.find = find;\nexports.bind = bind;\nexports.curry = curry;\nexports.isArray = isArray;\nexports.isFunction = isFunction;\nexports.isString = isString;\nexports.isObject = isObject;\nexports.isBuiltInObject = isBuiltInObject;\nexports.isDom = isDom;\nexports.eqNaN = eqNaN;\nexports.retrieve = retrieve;\nexports.retrieve2 = retrieve2;\nexports.retrieve3 = retrieve3;\nexports.slice = slice;\nexports.normalizeCssArray = normalizeCssArray;\nexports.assert = assert;\nexports.setAsPrimitive = setAsPrimitive;\nexports.isPrimitive = isPrimitive;\nexports.createHashMap = createHashMap;\nexports.noop = noop;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Displayable = __webpack_require__(12);\n\nvar zrUtil = __webpack_require__(0);\n\nvar PathProxy = __webpack_require__(6);\n\nvar pathContain = __webpack_require__(50);\n\nvar Pattern = __webpack_require__(56);\n\nvar getCanvasPattern = Pattern.prototype.getCanvasPattern;\nvar abs = Math.abs;\nvar pathProxyForDraw = new PathProxy(true);\n/**\n * @alias module:zrender/graphic/Path\n * @extends module:zrender/graphic/Displayable\n * @constructor\n * @param {Object} opts\n */\n\nfunction Path(opts) {\n  Displayable.call(this, opts);\n  /**\n   * @type {module:zrender/core/PathProxy}\n   * @readOnly\n   */\n\n  this.path = null;\n}\n\nPath.prototype = {\n  constructor: Path,\n  type: 'path',\n  __dirtyPath: true,\n  strokeContainThreshold: 5,\n  brush: function (ctx, prevEl) {\n    var style = this.style;\n    var path = this.path || pathProxyForDraw;\n    var hasStroke = style.hasStroke();\n    var hasFill = style.hasFill();\n    var fill = style.fill;\n    var stroke = style.stroke;\n    var hasFillGradient = hasFill && !!fill.colorStops;\n    var hasStrokeGradient = hasStroke && !!stroke.colorStops;\n    var hasFillPattern = hasFill && !!fill.image;\n    var hasStrokePattern = hasStroke && !!stroke.image;\n    style.bind(ctx, this, prevEl);\n    this.setTransform(ctx);\n\n    if (this.__dirty) {\n      var rect; // Update gradient because bounding rect may changed\n\n      if (hasFillGradient) {\n        rect = rect || this.getBoundingRect();\n        this._fillGradient = style.getGradient(ctx, fill, rect);\n      }\n\n      if (hasStrokeGradient) {\n        rect = rect || this.getBoundingRect();\n        this._strokeGradient = style.getGradient(ctx, stroke, rect);\n      }\n    } // Use the gradient or pattern\n\n\n    if (hasFillGradient) {\n      // PENDING If may have affect the state\n      ctx.fillStyle = this._fillGradient;\n    } else if (hasFillPattern) {\n      ctx.fillStyle = getCanvasPattern.call(fill, ctx);\n    }\n\n    if (hasStrokeGradient) {\n      ctx.strokeStyle = this._strokeGradient;\n    } else if (hasStrokePattern) {\n      ctx.strokeStyle = getCanvasPattern.call(stroke, ctx);\n    }\n\n    var lineDash = style.lineDash;\n    var lineDashOffset = style.lineDashOffset;\n    var ctxLineDash = !!ctx.setLineDash; // Update path sx, sy\n\n    var scale = this.getGlobalScale();\n    path.setScale(scale[0], scale[1]); // Proxy context\n    // Rebuild path in following 2 cases\n    // 1. Path is dirty\n    // 2. Path needs javascript implemented lineDash stroking.\n    //    In this case, lineDash information will not be saved in PathProxy\n\n    if (this.__dirtyPath || lineDash && !ctxLineDash && hasStroke) {\n      path.beginPath(ctx); // Setting line dash before build path\n\n      if (lineDash && !ctxLineDash) {\n        path.setLineDash(lineDash);\n        path.setLineDashOffset(lineDashOffset);\n      }\n\n      this.buildPath(path, this.shape, false); // Clear path dirty flag\n\n      if (this.path) {\n        this.__dirtyPath = false;\n      }\n    } else {\n      // Replay path building\n      ctx.beginPath();\n      this.path.rebuildPath(ctx);\n    }\n\n    hasFill && path.fill(ctx);\n\n    if (lineDash && ctxLineDash) {\n      ctx.setLineDash(lineDash);\n      ctx.lineDashOffset = lineDashOffset;\n    }\n\n    hasStroke && path.stroke(ctx);\n\n    if (lineDash && ctxLineDash) {\n      // PENDING\n      // Remove lineDash\n      ctx.setLineDash([]);\n    }\n\n    this.restoreTransform(ctx); // Draw rect text\n\n    if (style.text != null) {\n      this.drawRectText(ctx, this.getBoundingRect());\n    }\n  },\n  // When bundling path, some shape may decide if use moveTo to begin a new subpath or closePath\n  // Like in circle\n  buildPath: function (ctx, shapeCfg, inBundle) {},\n  createPathProxy: function () {\n    this.path = new PathProxy();\n  },\n  getBoundingRect: function () {\n    var rect = this._rect;\n    var style = this.style;\n    var needsUpdateRect = !rect;\n\n    if (needsUpdateRect) {\n      var path = this.path;\n\n      if (!path) {\n        // Create path on demand.\n        path = this.path = new PathProxy();\n      }\n\n      if (this.__dirtyPath) {\n        path.beginPath();\n        this.buildPath(path, this.shape, false);\n      }\n\n      rect = path.getBoundingRect();\n    }\n\n    this._rect = rect;\n\n    if (style.hasStroke()) {\n      // Needs update rect with stroke lineWidth when\n      // 1. Element changes scale or lineWidth\n      // 2. Shape is changed\n      var rectWithStroke = this._rectWithStroke || (this._rectWithStroke = rect.clone());\n\n      if (this.__dirty || needsUpdateRect) {\n        rectWithStroke.copy(rect); // FIXME Must after updateTransform\n\n        var w = style.lineWidth; // PENDING, Min line width is needed when line is horizontal or vertical\n\n        var lineScale = style.strokeNoScale ? this.getLineScale() : 1; // Only add extra hover lineWidth when there are no fill\n\n        if (!style.hasFill()) {\n          w = Math.max(w, this.strokeContainThreshold || 4);\n        } // Consider line width\n        // Line scale can't be 0;\n\n\n        if (lineScale > 1e-10) {\n          rectWithStroke.width += w / lineScale;\n          rectWithStroke.height += w / lineScale;\n          rectWithStroke.x -= w / lineScale / 2;\n          rectWithStroke.y -= w / lineScale / 2;\n        }\n      } // Return rect with stroke\n\n\n      return rectWithStroke;\n    }\n\n    return rect;\n  },\n  contain: function (x, y) {\n    var localPos = this.transformCoordToLocal(x, y);\n    var rect = this.getBoundingRect();\n    var style = this.style;\n    x = localPos[0];\n    y = localPos[1];\n\n    if (rect.contain(x, y)) {\n      var pathData = this.path.data;\n\n      if (style.hasStroke()) {\n        var lineWidth = style.lineWidth;\n        var lineScale = style.strokeNoScale ? this.getLineScale() : 1; // Line scale can't be 0;\n\n        if (lineScale > 1e-10) {\n          // Only add extra hover lineWidth when there are no fill\n          if (!style.hasFill()) {\n            lineWidth = Math.max(lineWidth, this.strokeContainThreshold);\n          }\n\n          if (pathContain.containStroke(pathData, lineWidth / lineScale, x, y)) {\n            return true;\n          }\n        }\n      }\n\n      if (style.hasFill()) {\n        return pathContain.contain(pathData, x, y);\n      }\n    }\n\n    return false;\n  },\n\n  /**\n   * @param  {boolean} dirtyPath\n   */\n  dirty: function (dirtyPath) {\n    if (dirtyPath == null) {\n      dirtyPath = true;\n    } // Only mark dirty, not mark clean\n\n\n    if (dirtyPath) {\n      this.__dirtyPath = dirtyPath;\n      this._rect = null;\n    }\n\n    this.__dirty = true;\n    this.__zr && this.__zr.refresh(); // Used as a clipping path\n\n    if (this.__clipTarget) {\n      this.__clipTarget.dirty();\n    }\n  },\n\n  /**\n   * Alias for animate('shape')\n   * @param {boolean} loop\n   */\n  animateShape: function (loop) {\n    return this.animate('shape', loop);\n  },\n  // Overwrite attrKV\n  attrKV: function (key, value) {\n    // FIXME\n    if (key === 'shape') {\n      this.setShape(value);\n      this.__dirtyPath = true;\n      this._rect = null;\n    } else {\n      Displayable.prototype.attrKV.call(this, key, value);\n    }\n  },\n\n  /**\n   * @param {Object|string} key\n   * @param {*} value\n   */\n  setShape: function (key, value) {\n    var shape = this.shape; // Path from string may not have shape\n\n    if (shape) {\n      if (zrUtil.isObject(key)) {\n        for (var name in key) {\n          if (key.hasOwnProperty(name)) {\n            shape[name] = key[name];\n          }\n        }\n      } else {\n        shape[key] = value;\n      }\n\n      this.dirty(true);\n    }\n\n    return this;\n  },\n  getLineScale: function () {\n    var m = this.transform; // Get the line scale.\n    // Determinant of `m` means how much the area is enlarged by the\n    // transformation. So its square root can be used as a scale factor\n    // for width.\n\n    return m && abs(m[0] - 1) > 1e-10 && abs(m[3] - 1) > 1e-10 ? Math.sqrt(abs(m[0] * m[3] - m[2] * m[1])) : 1;\n  }\n};\n/**\n * 扩展一个 Path element, 比如星形，圆等。\n * Extend a path element\n * @param {Object} props\n * @param {string} props.type Path type\n * @param {Function} props.init Initialize\n * @param {Function} props.buildPath Overwrite buildPath method\n * @param {Object} [props.style] Extended default style config\n * @param {Object} [props.shape] Extended default shape config\n */\n\nPath.extend = function (defaults) {\n  var Sub = function (opts) {\n    Path.call(this, opts);\n\n    if (defaults.style) {\n      // Extend default style\n      this.style.extendFrom(defaults.style, false);\n    } // Extend default shape\n\n\n    var defaultShape = defaults.shape;\n\n    if (defaultShape) {\n      this.shape = this.shape || {};\n      var thisShape = this.shape;\n\n      for (var name in defaultShape) {\n        if (!thisShape.hasOwnProperty(name) && defaultShape.hasOwnProperty(name)) {\n          thisShape[name] = defaultShape[name];\n        }\n      }\n    }\n\n    defaults.init && defaults.init.call(this, opts);\n  };\n\n  zrUtil.inherits(Sub, Path); // FIXME 不能 extend position, rotation 等引用对象\n\n  for (var name in defaults) {\n    // Extending prototype values and methods\n    if (name !== 'style' && name !== 'shape') {\n      Sub.prototype[name] = defaults[name];\n    }\n  }\n\n  return Sub;\n};\n\nzrUtil.inherits(Path, Displayable);\nvar _default = Path;\nmodule.exports = _default;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nvar ArrayCtor = typeof Float32Array === 'undefined' ? Array : Float32Array;\n/**\n * 创建一个向量\n * @param {number} [x=0]\n * @param {number} [y=0]\n * @return {Vector2}\n */\n\nfunction create(x, y) {\n  var out = new ArrayCtor(2);\n\n  if (x == null) {\n    x = 0;\n  }\n\n  if (y == null) {\n    y = 0;\n  }\n\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * 复制向量数据\n * @param {Vector2} out\n * @param {Vector2} v\n * @return {Vector2}\n */\n\n\nfunction copy(out, v) {\n  out[0] = v[0];\n  out[1] = v[1];\n  return out;\n}\n/**\n * 克隆一个向量\n * @param {Vector2} v\n * @return {Vector2}\n */\n\n\nfunction clone(v) {\n  var out = new ArrayCtor(2);\n  out[0] = v[0];\n  out[1] = v[1];\n  return out;\n}\n/**\n * 设置向量的两个项\n * @param {Vector2} out\n * @param {number} a\n * @param {number} b\n * @return {Vector2} 结果\n */\n\n\nfunction set(out, a, b) {\n  out[0] = a;\n  out[1] = b;\n  return out;\n}\n/**\n * 向量相加\n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n */\n\n\nfunction add(out, v1, v2) {\n  out[0] = v1[0] + v2[0];\n  out[1] = v1[1] + v2[1];\n  return out;\n}\n/**\n * 向量缩放后相加\n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n * @param {number} a\n */\n\n\nfunction scaleAndAdd(out, v1, v2, a) {\n  out[0] = v1[0] + v2[0] * a;\n  out[1] = v1[1] + v2[1] * a;\n  return out;\n}\n/**\n * 向量相减\n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n */\n\n\nfunction sub(out, v1, v2) {\n  out[0] = v1[0] - v2[0];\n  out[1] = v1[1] - v2[1];\n  return out;\n}\n/**\n * 向量长度\n * @param {Vector2} v\n * @return {number}\n */\n\n\nfunction len(v) {\n  return Math.sqrt(lenSquare(v));\n}\n\nvar length = len; // jshint ignore:line\n\n/**\n * 向量长度平方\n * @param {Vector2} v\n * @return {number}\n */\n\nfunction lenSquare(v) {\n  return v[0] * v[0] + v[1] * v[1];\n}\n\nvar lengthSquare = lenSquare;\n/**\n * 向量乘法\n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n */\n\nfunction mul(out, v1, v2) {\n  out[0] = v1[0] * v2[0];\n  out[1] = v1[1] * v2[1];\n  return out;\n}\n/**\n * 向量除法\n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n */\n\n\nfunction div(out, v1, v2) {\n  out[0] = v1[0] / v2[0];\n  out[1] = v1[1] / v2[1];\n  return out;\n}\n/**\n * 向量点乘\n * @param {Vector2} v1\n * @param {Vector2} v2\n * @return {number}\n */\n\n\nfunction dot(v1, v2) {\n  return v1[0] * v2[0] + v1[1] * v2[1];\n}\n/**\n * 向量缩放\n * @param {Vector2} out\n * @param {Vector2} v\n * @param {number} s\n */\n\n\nfunction scale(out, v, s) {\n  out[0] = v[0] * s;\n  out[1] = v[1] * s;\n  return out;\n}\n/**\n * 向量归一化\n * @param {Vector2} out\n * @param {Vector2} v\n */\n\n\nfunction normalize(out, v) {\n  var d = len(v);\n\n  if (d === 0) {\n    out[0] = 0;\n    out[1] = 0;\n  } else {\n    out[0] = v[0] / d;\n    out[1] = v[1] / d;\n  }\n\n  return out;\n}\n/**\n * 计算向量间距离\n * @param {Vector2} v1\n * @param {Vector2} v2\n * @return {number}\n */\n\n\nfunction distance(v1, v2) {\n  return Math.sqrt((v1[0] - v2[0]) * (v1[0] - v2[0]) + (v1[1] - v2[1]) * (v1[1] - v2[1]));\n}\n\nvar dist = distance;\n/**\n * 向量距离平方\n * @param {Vector2} v1\n * @param {Vector2} v2\n * @return {number}\n */\n\nfunction distanceSquare(v1, v2) {\n  return (v1[0] - v2[0]) * (v1[0] - v2[0]) + (v1[1] - v2[1]) * (v1[1] - v2[1]);\n}\n\nvar distSquare = distanceSquare;\n/**\n * 求负向量\n * @param {Vector2} out\n * @param {Vector2} v\n */\n\nfunction negate(out, v) {\n  out[0] = -v[0];\n  out[1] = -v[1];\n  return out;\n}\n/**\n * 插值两个点\n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n * @param {number} t\n */\n\n\nfunction lerp(out, v1, v2, t) {\n  out[0] = v1[0] + t * (v2[0] - v1[0]);\n  out[1] = v1[1] + t * (v2[1] - v1[1]);\n  return out;\n}\n/**\n * 矩阵左乘向量\n * @param {Vector2} out\n * @param {Vector2} v\n * @param {Vector2} m\n */\n\n\nfunction applyTransform(out, v, m) {\n  var x = v[0];\n  var y = v[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * 求两个向量最小值\n * @param  {Vector2} out\n * @param  {Vector2} v1\n * @param  {Vector2} v2\n */\n\n\nfunction min(out, v1, v2) {\n  out[0] = Math.min(v1[0], v2[0]);\n  out[1] = Math.min(v1[1], v2[1]);\n  return out;\n}\n/**\n * 求两个向量最大值\n * @param  {Vector2} out\n * @param  {Vector2} v1\n * @param  {Vector2} v2\n */\n\n\nfunction max(out, v1, v2) {\n  out[0] = Math.max(v1[0], v2[0]);\n  out[1] = Math.max(v1[1], v2[1]);\n  return out;\n}\n\nexports.create = create;\nexports.copy = copy;\nexports.clone = clone;\nexports.set = set;\nexports.add = add;\nexports.scaleAndAdd = scaleAndAdd;\nexports.sub = sub;\nexports.len = len;\nexports.length = length;\nexports.lenSquare = lenSquare;\nexports.lengthSquare = lengthSquare;\nexports.mul = mul;\nexports.div = div;\nexports.dot = dot;\nexports.scale = scale;\nexports.normalize = normalize;\nexports.distance = distance;\nexports.dist = dist;\nexports.distanceSquare = distanceSquare;\nexports.distSquare = distSquare;\nexports.negate = negate;\nexports.lerp = lerp;\nexports.applyTransform = applyTransform;\nexports.min = min;\nexports.max = max;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar vec2 = __webpack_require__(2);\n\nvar matrix = __webpack_require__(8);\n\n/**\n * @module echarts/core/BoundingRect\n */\nvar v2ApplyTransform = vec2.applyTransform;\nvar mathMin = Math.min;\nvar mathMax = Math.max;\n/**\n * @alias module:echarts/core/BoundingRect\n */\n\nfunction BoundingRect(x, y, width, height) {\n  if (width < 0) {\n    x = x + width;\n    width = -width;\n  }\n\n  if (height < 0) {\n    y = y + height;\n    height = -height;\n  }\n  /**\n   * @type {number}\n   */\n\n\n  this.x = x;\n  /**\n   * @type {number}\n   */\n\n  this.y = y;\n  /**\n   * @type {number}\n   */\n\n  this.width = width;\n  /**\n   * @type {number}\n   */\n\n  this.height = height;\n}\n\nBoundingRect.prototype = {\n  constructor: BoundingRect,\n\n  /**\n   * @param {module:echarts/core/BoundingRect} other\n   */\n  union: function (other) {\n    var x = mathMin(other.x, this.x);\n    var y = mathMin(other.y, this.y);\n    this.width = mathMax(other.x + other.width, this.x + this.width) - x;\n    this.height = mathMax(other.y + other.height, this.y + this.height) - y;\n    this.x = x;\n    this.y = y;\n  },\n\n  /**\n   * @param {Array.<number>} m\n   * @methods\n   */\n  applyTransform: function () {\n    var lt = [];\n    var rb = [];\n    var lb = [];\n    var rt = [];\n    return function (m) {\n      // In case usage like this\n      // el.getBoundingRect().applyTransform(el.transform)\n      // And element has no transform\n      if (!m) {\n        return;\n      }\n\n      lt[0] = lb[0] = this.x;\n      lt[1] = rt[1] = this.y;\n      rb[0] = rt[0] = this.x + this.width;\n      rb[1] = lb[1] = this.y + this.height;\n      v2ApplyTransform(lt, lt, m);\n      v2ApplyTransform(rb, rb, m);\n      v2ApplyTransform(lb, lb, m);\n      v2ApplyTransform(rt, rt, m);\n      this.x = mathMin(lt[0], rb[0], lb[0], rt[0]);\n      this.y = mathMin(lt[1], rb[1], lb[1], rt[1]);\n      var maxX = mathMax(lt[0], rb[0], lb[0], rt[0]);\n      var maxY = mathMax(lt[1], rb[1], lb[1], rt[1]);\n      this.width = maxX - this.x;\n      this.height = maxY - this.y;\n    };\n  }(),\n\n  /**\n   * Calculate matrix of transforming from self to target rect\n   * @param  {module:zrender/core/BoundingRect} b\n   * @return {Array.<number>}\n   */\n  calculateTransform: function (b) {\n    var a = this;\n    var sx = b.width / a.width;\n    var sy = b.height / a.height;\n    var m = matrix.create(); // 矩阵右乘\n\n    matrix.translate(m, m, [-a.x, -a.y]);\n    matrix.scale(m, m, [sx, sy]);\n    matrix.translate(m, m, [b.x, b.y]);\n    return m;\n  },\n\n  /**\n   * @param {(module:echarts/core/BoundingRect|Object)} b\n   * @return {boolean}\n   */\n  intersect: function (b) {\n    if (!b) {\n      return false;\n    }\n\n    if (!(b instanceof BoundingRect)) {\n      // Normalize negative width/height.\n      b = BoundingRect.create(b);\n    }\n\n    var a = this;\n    var ax0 = a.x;\n    var ax1 = a.x + a.width;\n    var ay0 = a.y;\n    var ay1 = a.y + a.height;\n    var bx0 = b.x;\n    var bx1 = b.x + b.width;\n    var by0 = b.y;\n    var by1 = b.y + b.height;\n    return !(ax1 < bx0 || bx1 < ax0 || ay1 < by0 || by1 < ay0);\n  },\n  contain: function (x, y) {\n    var rect = this;\n    return x >= rect.x && x <= rect.x + rect.width && y >= rect.y && y <= rect.y + rect.height;\n  },\n\n  /**\n   * @return {module:echarts/core/BoundingRect}\n   */\n  clone: function () {\n    return new BoundingRect(this.x, this.y, this.width, this.height);\n  },\n\n  /**\n   * Copy from another rect\n   */\n  copy: function (other) {\n    this.x = other.x;\n    this.y = other.y;\n    this.width = other.width;\n    this.height = other.height;\n  },\n  plain: function () {\n    return {\n      x: this.x,\n      y: this.y,\n      width: this.width,\n      height: this.height\n    };\n  }\n};\n/**\n * @param {Object|module:zrender/core/BoundingRect} rect\n * @param {number} rect.x\n * @param {number} rect.y\n * @param {number} rect.width\n * @param {number} rect.height\n * @return {module:zrender/core/BoundingRect}\n */\n\nBoundingRect.create = function (rect) {\n  return new BoundingRect(rect.x, rect.y, rect.width, rect.height);\n};\n\nvar _default = BoundingRect;\nmodule.exports = _default;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _vector = __webpack_require__(2);\n\nvar v2Create = _vector.create;\nvar v2DistSquare = _vector.distSquare;\n\n/**\n * 曲线辅助模块\n * @module zrender/core/curve\n * @author pissang(https://www.github.com/pissang)\n */\nvar mathPow = Math.pow;\nvar mathSqrt = Math.sqrt;\nvar EPSILON = 1e-8;\nvar EPSILON_NUMERIC = 1e-4;\nvar THREE_SQRT = mathSqrt(3);\nvar ONE_THIRD = 1 / 3; // 临时变量\n\nvar _v0 = v2Create();\n\nvar _v1 = v2Create();\n\nvar _v2 = v2Create();\n\nfunction isAroundZero(val) {\n  return val > -EPSILON && val < EPSILON;\n}\n\nfunction isNotAroundZero(val) {\n  return val > EPSILON || val < -EPSILON;\n}\n/**\n * 计算三次贝塞尔值\n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {number} t\n * @return {number}\n */\n\n\nfunction cubicAt(p0, p1, p2, p3, t) {\n  var onet = 1 - t;\n  return onet * onet * (onet * p0 + 3 * t * p1) + t * t * (t * p3 + 3 * onet * p2);\n}\n/**\n * 计算三次贝塞尔导数值\n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {number} t\n * @return {number}\n */\n\n\nfunction cubicDerivativeAt(p0, p1, p2, p3, t) {\n  var onet = 1 - t;\n  return 3 * (((p1 - p0) * onet + 2 * (p2 - p1) * t) * onet + (p3 - p2) * t * t);\n}\n/**\n * 计算三次贝塞尔方程根，使用盛金公式\n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {number} val\n * @param  {Array.<number>} roots\n * @return {number} 有效根数目\n */\n\n\nfunction cubicRootAt(p0, p1, p2, p3, val, roots) {\n  // Evaluate roots of cubic functions\n  var a = p3 + 3 * (p1 - p2) - p0;\n  var b = 3 * (p2 - p1 * 2 + p0);\n  var c = 3 * (p1 - p0);\n  var d = p0 - val;\n  var A = b * b - 3 * a * c;\n  var B = b * c - 9 * a * d;\n  var C = c * c - 3 * b * d;\n  var n = 0;\n\n  if (isAroundZero(A) && isAroundZero(B)) {\n    if (isAroundZero(b)) {\n      roots[0] = 0;\n    } else {\n      var t1 = -c / b; //t1, t2, t3, b is not zero\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n    }\n  } else {\n    var disc = B * B - 4 * A * C;\n\n    if (isAroundZero(disc)) {\n      var K = B / A;\n      var t1 = -b / a + K; // t1, a is not zero\n\n      var t2 = -K / 2; // t2, t3\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n\n      if (t2 >= 0 && t2 <= 1) {\n        roots[n++] = t2;\n      }\n    } else if (disc > 0) {\n      var discSqrt = mathSqrt(disc);\n      var Y1 = A * b + 1.5 * a * (-B + discSqrt);\n      var Y2 = A * b + 1.5 * a * (-B - discSqrt);\n\n      if (Y1 < 0) {\n        Y1 = -mathPow(-Y1, ONE_THIRD);\n      } else {\n        Y1 = mathPow(Y1, ONE_THIRD);\n      }\n\n      if (Y2 < 0) {\n        Y2 = -mathPow(-Y2, ONE_THIRD);\n      } else {\n        Y2 = mathPow(Y2, ONE_THIRD);\n      }\n\n      var t1 = (-b - (Y1 + Y2)) / (3 * a);\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n    } else {\n      var T = (2 * A * b - 3 * a * B) / (2 * mathSqrt(A * A * A));\n      var theta = Math.acos(T) / 3;\n      var ASqrt = mathSqrt(A);\n      var tmp = Math.cos(theta);\n      var t1 = (-b - 2 * ASqrt * tmp) / (3 * a);\n      var t2 = (-b + ASqrt * (tmp + THREE_SQRT * Math.sin(theta))) / (3 * a);\n      var t3 = (-b + ASqrt * (tmp - THREE_SQRT * Math.sin(theta))) / (3 * a);\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n\n      if (t2 >= 0 && t2 <= 1) {\n        roots[n++] = t2;\n      }\n\n      if (t3 >= 0 && t3 <= 1) {\n        roots[n++] = t3;\n      }\n    }\n  }\n\n  return n;\n}\n/**\n * 计算三次贝塞尔方程极限值的位置\n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {Array.<number>} extrema\n * @return {number} 有效数目\n */\n\n\nfunction cubicExtrema(p0, p1, p2, p3, extrema) {\n  var b = 6 * p2 - 12 * p1 + 6 * p0;\n  var a = 9 * p1 + 3 * p3 - 3 * p0 - 9 * p2;\n  var c = 3 * p1 - 3 * p0;\n  var n = 0;\n\n  if (isAroundZero(a)) {\n    if (isNotAroundZero(b)) {\n      var t1 = -c / b;\n\n      if (t1 >= 0 && t1 <= 1) {\n        extrema[n++] = t1;\n      }\n    }\n  } else {\n    var disc = b * b - 4 * a * c;\n\n    if (isAroundZero(disc)) {\n      extrema[0] = -b / (2 * a);\n    } else if (disc > 0) {\n      var discSqrt = mathSqrt(disc);\n      var t1 = (-b + discSqrt) / (2 * a);\n      var t2 = (-b - discSqrt) / (2 * a);\n\n      if (t1 >= 0 && t1 <= 1) {\n        extrema[n++] = t1;\n      }\n\n      if (t2 >= 0 && t2 <= 1) {\n        extrema[n++] = t2;\n      }\n    }\n  }\n\n  return n;\n}\n/**\n * 细分三次贝塞尔曲线\n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {number} t\n * @param  {Array.<number>} out\n */\n\n\nfunction cubicSubdivide(p0, p1, p2, p3, t, out) {\n  var p01 = (p1 - p0) * t + p0;\n  var p12 = (p2 - p1) * t + p1;\n  var p23 = (p3 - p2) * t + p2;\n  var p012 = (p12 - p01) * t + p01;\n  var p123 = (p23 - p12) * t + p12;\n  var p0123 = (p123 - p012) * t + p012; // Seg0\n\n  out[0] = p0;\n  out[1] = p01;\n  out[2] = p012;\n  out[3] = p0123; // Seg1\n\n  out[4] = p0123;\n  out[5] = p123;\n  out[6] = p23;\n  out[7] = p3;\n}\n/**\n * 投射点到三次贝塞尔曲线上，返回投射距离。\n * 投射点有可能会有一个或者多个，这里只返回其中距离最短的一个。\n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @param {number} x2\n * @param {number} y2\n * @param {number} x3\n * @param {number} y3\n * @param {number} x\n * @param {number} y\n * @param {Array.<number>} [out] 投射点\n * @return {number}\n */\n\n\nfunction cubicProjectPoint(x0, y0, x1, y1, x2, y2, x3, y3, x, y, out) {\n  // http://pomax.github.io/bezierinfo/#projections\n  var t;\n  var interval = 0.005;\n  var d = Infinity;\n  var prev;\n  var next;\n  var d1;\n  var d2;\n  _v0[0] = x;\n  _v0[1] = y; // 先粗略估计一下可能的最小距离的 t 值\n  // PENDING\n\n  for (var _t = 0; _t < 1; _t += 0.05) {\n    _v1[0] = cubicAt(x0, x1, x2, x3, _t);\n    _v1[1] = cubicAt(y0, y1, y2, y3, _t);\n    d1 = v2DistSquare(_v0, _v1);\n\n    if (d1 < d) {\n      t = _t;\n      d = d1;\n    }\n  }\n\n  d = Infinity; // At most 32 iteration\n\n  for (var i = 0; i < 32; i++) {\n    if (interval < EPSILON_NUMERIC) {\n      break;\n    }\n\n    prev = t - interval;\n    next = t + interval; // t - interval\n\n    _v1[0] = cubicAt(x0, x1, x2, x3, prev);\n    _v1[1] = cubicAt(y0, y1, y2, y3, prev);\n    d1 = v2DistSquare(_v1, _v0);\n\n    if (prev >= 0 && d1 < d) {\n      t = prev;\n      d = d1;\n    } else {\n      // t + interval\n      _v2[0] = cubicAt(x0, x1, x2, x3, next);\n      _v2[1] = cubicAt(y0, y1, y2, y3, next);\n      d2 = v2DistSquare(_v2, _v0);\n\n      if (next <= 1 && d2 < d) {\n        t = next;\n        d = d2;\n      } else {\n        interval *= 0.5;\n      }\n    }\n  } // t\n\n\n  if (out) {\n    out[0] = cubicAt(x0, x1, x2, x3, t);\n    out[1] = cubicAt(y0, y1, y2, y3, t);\n  } // console.log(interval, i);\n\n\n  return mathSqrt(d);\n}\n/**\n * 计算二次方贝塞尔值\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} t\n * @return {number}\n */\n\n\nfunction quadraticAt(p0, p1, p2, t) {\n  var onet = 1 - t;\n  return onet * (onet * p0 + 2 * t * p1) + t * t * p2;\n}\n/**\n * 计算二次方贝塞尔导数值\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} t\n * @return {number}\n */\n\n\nfunction quadraticDerivativeAt(p0, p1, p2, t) {\n  return 2 * ((1 - t) * (p1 - p0) + t * (p2 - p1));\n}\n/**\n * 计算二次方贝塞尔方程根\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} t\n * @param  {Array.<number>} roots\n * @return {number} 有效根数目\n */\n\n\nfunction quadraticRootAt(p0, p1, p2, val, roots) {\n  var a = p0 - 2 * p1 + p2;\n  var b = 2 * (p1 - p0);\n  var c = p0 - val;\n  var n = 0;\n\n  if (isAroundZero(a)) {\n    if (isNotAroundZero(b)) {\n      var t1 = -c / b;\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n    }\n  } else {\n    var disc = b * b - 4 * a * c;\n\n    if (isAroundZero(disc)) {\n      var t1 = -b / (2 * a);\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n    } else if (disc > 0) {\n      var discSqrt = mathSqrt(disc);\n      var t1 = (-b + discSqrt) / (2 * a);\n      var t2 = (-b - discSqrt) / (2 * a);\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n\n      if (t2 >= 0 && t2 <= 1) {\n        roots[n++] = t2;\n      }\n    }\n  }\n\n  return n;\n}\n/**\n * 计算二次贝塞尔方程极限值\n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @return {number}\n */\n\n\nfunction quadraticExtremum(p0, p1, p2) {\n  var divider = p0 + p2 - 2 * p1;\n\n  if (divider === 0) {\n    // p1 is center of p0 and p2\n    return 0.5;\n  } else {\n    return (p0 - p1) / divider;\n  }\n}\n/**\n * 细分二次贝塞尔曲线\n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} t\n * @param  {Array.<number>} out\n */\n\n\nfunction quadraticSubdivide(p0, p1, p2, t, out) {\n  var p01 = (p1 - p0) * t + p0;\n  var p12 = (p2 - p1) * t + p1;\n  var p012 = (p12 - p01) * t + p01; // Seg0\n\n  out[0] = p0;\n  out[1] = p01;\n  out[2] = p012; // Seg1\n\n  out[3] = p012;\n  out[4] = p12;\n  out[5] = p2;\n}\n/**\n * 投射点到二次贝塞尔曲线上，返回投射距离。\n * 投射点有可能会有一个或者多个，这里只返回其中距离最短的一个。\n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @param {number} x2\n * @param {number} y2\n * @param {number} x\n * @param {number} y\n * @param {Array.<number>} out 投射点\n * @return {number}\n */\n\n\nfunction quadraticProjectPoint(x0, y0, x1, y1, x2, y2, x, y, out) {\n  // http://pomax.github.io/bezierinfo/#projections\n  var t;\n  var interval = 0.005;\n  var d = Infinity;\n  _v0[0] = x;\n  _v0[1] = y; // 先粗略估计一下可能的最小距离的 t 值\n  // PENDING\n\n  for (var _t = 0; _t < 1; _t += 0.05) {\n    _v1[0] = quadraticAt(x0, x1, x2, _t);\n    _v1[1] = quadraticAt(y0, y1, y2, _t);\n    var d1 = v2DistSquare(_v0, _v1);\n\n    if (d1 < d) {\n      t = _t;\n      d = d1;\n    }\n  }\n\n  d = Infinity; // At most 32 iteration\n\n  for (var i = 0; i < 32; i++) {\n    if (interval < EPSILON_NUMERIC) {\n      break;\n    }\n\n    var prev = t - interval;\n    var next = t + interval; // t - interval\n\n    _v1[0] = quadraticAt(x0, x1, x2, prev);\n    _v1[1] = quadraticAt(y0, y1, y2, prev);\n    var d1 = v2DistSquare(_v1, _v0);\n\n    if (prev >= 0 && d1 < d) {\n      t = prev;\n      d = d1;\n    } else {\n      // t + interval\n      _v2[0] = quadraticAt(x0, x1, x2, next);\n      _v2[1] = quadraticAt(y0, y1, y2, next);\n      var d2 = v2DistSquare(_v2, _v0);\n\n      if (next <= 1 && d2 < d) {\n        t = next;\n        d = d2;\n      } else {\n        interval *= 0.5;\n      }\n    }\n  } // t\n\n\n  if (out) {\n    out[0] = quadraticAt(x0, x1, x2, t);\n    out[1] = quadraticAt(y0, y1, y2, t);\n  } // console.log(interval, i);\n\n\n  return mathSqrt(d);\n}\n\nexports.cubicAt = cubicAt;\nexports.cubicDerivativeAt = cubicDerivativeAt;\nexports.cubicRootAt = cubicRootAt;\nexports.cubicExtrema = cubicExtrema;\nexports.cubicSubdivide = cubicSubdivide;\nexports.cubicProjectPoint = cubicProjectPoint;\nexports.quadraticAt = quadraticAt;\nexports.quadraticDerivativeAt = quadraticDerivativeAt;\nexports.quadraticRootAt = quadraticRootAt;\nexports.quadraticExtremum = quadraticExtremum;\nexports.quadraticSubdivide = quadraticSubdivide;\nexports.quadraticProjectPoint = quadraticProjectPoint;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar BoundingRect = __webpack_require__(3);\n\nvar imageHelper = __webpack_require__(10);\n\nvar _util = __webpack_require__(0);\n\nvar getContext = _util.getContext;\nvar extend = _util.extend;\nvar retrieve2 = _util.retrieve2;\nvar retrieve3 = _util.retrieve3;\nvar textWidthCache = {};\nvar textWidthCacheCounter = 0;\nvar TEXT_CACHE_MAX = 5000;\nvar STYLE_REG = /\\{([a-zA-Z0-9_]+)\\|([^}]*)\\}/g;\nvar DEFAULT_FONT = '12px sans-serif'; // Avoid assign to an exported variable, for transforming to cjs.\n\nvar methods = {};\n\nfunction $override(name, fn) {\n  methods[name] = fn;\n}\n/**\n * @public\n * @param {string} text\n * @param {string} font\n * @return {number} width\n */\n\n\nfunction getWidth(text, font) {\n  font = font || DEFAULT_FONT;\n  var key = text + ':' + font;\n\n  if (textWidthCache[key]) {\n    return textWidthCache[key];\n  }\n\n  var textLines = (text + '').split('\\n');\n  var width = 0;\n\n  for (var i = 0, l = textLines.length; i < l; i++) {\n    // textContain.measureText may be overrided in SVG or VML\n    width = Math.max(measureText(textLines[i], font).width, width);\n  }\n\n  if (textWidthCacheCounter > TEXT_CACHE_MAX) {\n    textWidthCacheCounter = 0;\n    textWidthCache = {};\n  }\n\n  textWidthCacheCounter++;\n  textWidthCache[key] = width;\n  return width;\n}\n/**\n * @public\n * @param {string} text\n * @param {string} font\n * @param {string} [textAlign='left']\n * @param {string} [textVerticalAlign='top']\n * @param {Array.<number>} [textPadding]\n * @param {Object} [rich]\n * @param {Object} [truncate]\n * @return {Object} {x, y, width, height, lineHeight}\n */\n\n\nfunction getBoundingRect(text, font, textAlign, textVerticalAlign, textPadding, rich, truncate) {\n  return rich ? getRichTextRect(text, font, textAlign, textVerticalAlign, textPadding, rich, truncate) : getPlainTextRect(text, font, textAlign, textVerticalAlign, textPadding, truncate);\n}\n\nfunction getPlainTextRect(text, font, textAlign, textVerticalAlign, textPadding, truncate) {\n  var contentBlock = parsePlainText(text, font, textPadding, truncate);\n  var outerWidth = getWidth(text, font);\n\n  if (textPadding) {\n    outerWidth += textPadding[1] + textPadding[3];\n  }\n\n  var outerHeight = contentBlock.outerHeight;\n  var x = adjustTextX(0, outerWidth, textAlign);\n  var y = adjustTextY(0, outerHeight, textVerticalAlign);\n  var rect = new BoundingRect(x, y, outerWidth, outerHeight);\n  rect.lineHeight = contentBlock.lineHeight;\n  return rect;\n}\n\nfunction getRichTextRect(text, font, textAlign, textVerticalAlign, textPadding, rich, truncate) {\n  var contentBlock = parseRichText(text, {\n    rich: rich,\n    truncate: truncate,\n    font: font,\n    textAlign: textAlign,\n    textPadding: textPadding\n  });\n  var outerWidth = contentBlock.outerWidth;\n  var outerHeight = contentBlock.outerHeight;\n  var x = adjustTextX(0, outerWidth, textAlign);\n  var y = adjustTextY(0, outerHeight, textVerticalAlign);\n  return new BoundingRect(x, y, outerWidth, outerHeight);\n}\n/**\n * @public\n * @param {number} x\n * @param {number} width\n * @param {string} [textAlign='left']\n * @return {number} Adjusted x.\n */\n\n\nfunction adjustTextX(x, width, textAlign) {\n  // FIXME Right to left language\n  if (textAlign === 'right') {\n    x -= width;\n  } else if (textAlign === 'center') {\n    x -= width / 2;\n  }\n\n  return x;\n}\n/**\n * @public\n * @param {number} y\n * @param {number} height\n * @param {string} [textVerticalAlign='top']\n * @return {number} Adjusted y.\n */\n\n\nfunction adjustTextY(y, height, textVerticalAlign) {\n  if (textVerticalAlign === 'middle') {\n    y -= height / 2;\n  } else if (textVerticalAlign === 'bottom') {\n    y -= height;\n  }\n\n  return y;\n}\n/**\n * @public\n * @param {stirng} textPosition\n * @param {Object} rect {x, y, width, height}\n * @param {number} distance\n * @return {Object} {x, y, textAlign, textVerticalAlign}\n */\n\n\nfunction adjustTextPositionOnRect(textPosition, rect, distance) {\n  var x = rect.x;\n  var y = rect.y;\n  var height = rect.height;\n  var width = rect.width;\n  var halfHeight = height / 2;\n  var textAlign = 'left';\n  var textVerticalAlign = 'top';\n\n  switch (textPosition) {\n    case 'left':\n      x -= distance;\n      y += halfHeight;\n      textAlign = 'right';\n      textVerticalAlign = 'middle';\n      break;\n\n    case 'right':\n      x += distance + width;\n      y += halfHeight;\n      textVerticalAlign = 'middle';\n      break;\n\n    case 'top':\n      x += width / 2;\n      y -= distance;\n      textAlign = 'center';\n      textVerticalAlign = 'bottom';\n      break;\n\n    case 'bottom':\n      x += width / 2;\n      y += height + distance;\n      textAlign = 'center';\n      break;\n\n    case 'inside':\n      x += width / 2;\n      y += halfHeight;\n      textAlign = 'center';\n      textVerticalAlign = 'middle';\n      break;\n\n    case 'insideLeft':\n      x += distance;\n      y += halfHeight;\n      textVerticalAlign = 'middle';\n      break;\n\n    case 'insideRight':\n      x += width - distance;\n      y += halfHeight;\n      textAlign = 'right';\n      textVerticalAlign = 'middle';\n      break;\n\n    case 'insideTop':\n      x += width / 2;\n      y += distance;\n      textAlign = 'center';\n      break;\n\n    case 'insideBottom':\n      x += width / 2;\n      y += height - distance;\n      textAlign = 'center';\n      textVerticalAlign = 'bottom';\n      break;\n\n    case 'insideTopLeft':\n      x += distance;\n      y += distance;\n      break;\n\n    case 'insideTopRight':\n      x += width - distance;\n      y += distance;\n      textAlign = 'right';\n      break;\n\n    case 'insideBottomLeft':\n      x += distance;\n      y += height - distance;\n      textVerticalAlign = 'bottom';\n      break;\n\n    case 'insideBottomRight':\n      x += width - distance;\n      y += height - distance;\n      textAlign = 'right';\n      textVerticalAlign = 'bottom';\n      break;\n  }\n\n  return {\n    x: x,\n    y: y,\n    textAlign: textAlign,\n    textVerticalAlign: textVerticalAlign\n  };\n}\n/**\n * Show ellipsis if overflow.\n *\n * @public\n * @param  {string} text\n * @param  {string} containerWidth\n * @param  {string} font\n * @param  {number} [ellipsis='...']\n * @param  {Object} [options]\n * @param  {number} [options.maxIterations=3]\n * @param  {number} [options.minChar=0] If truncate result are less\n *                  then minChar, ellipsis will not show, which is\n *                  better for user hint in some cases.\n * @param  {number} [options.placeholder=''] When all truncated, use the placeholder.\n * @return {string}\n */\n\n\nfunction truncateText(text, containerWidth, font, ellipsis, options) {\n  if (!containerWidth) {\n    return '';\n  }\n\n  var textLines = (text + '').split('\\n');\n  options = prepareTruncateOptions(containerWidth, font, ellipsis, options); // FIXME\n  // It is not appropriate that every line has '...' when truncate multiple lines.\n\n  for (var i = 0, len = textLines.length; i < len; i++) {\n    textLines[i] = truncateSingleLine(textLines[i], options);\n  }\n\n  return textLines.join('\\n');\n}\n\nfunction prepareTruncateOptions(containerWidth, font, ellipsis, options) {\n  options = extend({}, options);\n  options.font = font;\n  var ellipsis = retrieve2(ellipsis, '...');\n  options.maxIterations = retrieve2(options.maxIterations, 2);\n  var minChar = options.minChar = retrieve2(options.minChar, 0); // FIXME\n  // Other languages?\n\n  options.cnCharWidth = getWidth('国', font); // FIXME\n  // Consider proportional font?\n\n  var ascCharWidth = options.ascCharWidth = getWidth('a', font);\n  options.placeholder = retrieve2(options.placeholder, ''); // Example 1: minChar: 3, text: 'asdfzxcv', truncate result: 'asdf', but not: 'a...'.\n  // Example 2: minChar: 3, text: '维度', truncate result: '维', but not: '...'.\n\n  var contentWidth = containerWidth = Math.max(0, containerWidth - 1); // Reserve some gap.\n\n  for (var i = 0; i < minChar && contentWidth >= ascCharWidth; i++) {\n    contentWidth -= ascCharWidth;\n  }\n\n  var ellipsisWidth = getWidth(ellipsis);\n\n  if (ellipsisWidth > contentWidth) {\n    ellipsis = '';\n    ellipsisWidth = 0;\n  }\n\n  contentWidth = containerWidth - ellipsisWidth;\n  options.ellipsis = ellipsis;\n  options.ellipsisWidth = ellipsisWidth;\n  options.contentWidth = contentWidth;\n  options.containerWidth = containerWidth;\n  return options;\n}\n\nfunction truncateSingleLine(textLine, options) {\n  var containerWidth = options.containerWidth;\n  var font = options.font;\n  var contentWidth = options.contentWidth;\n\n  if (!containerWidth) {\n    return '';\n  }\n\n  var lineWidth = getWidth(textLine, font);\n\n  if (lineWidth <= containerWidth) {\n    return textLine;\n  }\n\n  for (var j = 0;; j++) {\n    if (lineWidth <= contentWidth || j >= options.maxIterations) {\n      textLine += options.ellipsis;\n      break;\n    }\n\n    var subLength = j === 0 ? estimateLength(textLine, contentWidth, options.ascCharWidth, options.cnCharWidth) : lineWidth > 0 ? Math.floor(textLine.length * contentWidth / lineWidth) : 0;\n    textLine = textLine.substr(0, subLength);\n    lineWidth = getWidth(textLine, font);\n  }\n\n  if (textLine === '') {\n    textLine = options.placeholder;\n  }\n\n  return textLine;\n}\n\nfunction estimateLength(text, contentWidth, ascCharWidth, cnCharWidth) {\n  var width = 0;\n  var i = 0;\n\n  for (var len = text.length; i < len && width < contentWidth; i++) {\n    var charCode = text.charCodeAt(i);\n    width += 0 <= charCode && charCode <= 127 ? ascCharWidth : cnCharWidth;\n  }\n\n  return i;\n}\n/**\n * @public\n * @param {string} font\n * @return {number} line height\n */\n\n\nfunction getLineHeight(font) {\n  // FIXME A rough approach.\n  return getWidth('国', font);\n}\n/**\n * @public\n * @param {string} text\n * @param {string} font\n * @return {Object} width\n */\n\n\nfunction measureText(text, font) {\n  return methods.measureText(text, font);\n} // Avoid assign to an exported variable, for transforming to cjs.\n\n\nmethods.measureText = function (text, font) {\n  var ctx = getContext();\n  ctx.font = font || DEFAULT_FONT;\n  return ctx.measureText(text);\n};\n/**\n * @public\n * @param {string} text\n * @param {string} font\n * @param {Object} [truncate]\n * @return {Object} block: {lineHeight, lines, height, outerHeight}\n *  Notice: for performance, do not calculate outerWidth util needed.\n */\n\n\nfunction parsePlainText(text, font, padding, truncate) {\n  text != null && (text += '');\n  var lineHeight = getLineHeight(font);\n  var lines = text ? text.split('\\n') : [];\n  var height = lines.length * lineHeight;\n  var outerHeight = height;\n\n  if (padding) {\n    outerHeight += padding[0] + padding[2];\n  }\n\n  if (text && truncate) {\n    var truncOuterHeight = truncate.outerHeight;\n    var truncOuterWidth = truncate.outerWidth;\n\n    if (truncOuterHeight != null && outerHeight > truncOuterHeight) {\n      text = '';\n      lines = [];\n    } else if (truncOuterWidth != null) {\n      var options = prepareTruncateOptions(truncOuterWidth - (padding ? padding[1] + padding[3] : 0), font, truncate.ellipsis, {\n        minChar: truncate.minChar,\n        placeholder: truncate.placeholder\n      }); // FIXME\n      // It is not appropriate that every line has '...' when truncate multiple lines.\n\n      for (var i = 0, len = lines.length; i < len; i++) {\n        lines[i] = truncateSingleLine(lines[i], options);\n      }\n    }\n  }\n\n  return {\n    lines: lines,\n    height: height,\n    outerHeight: outerHeight,\n    lineHeight: lineHeight\n  };\n}\n/**\n * For example: 'some text {a|some text}other text{b|some text}xxx{c|}xxx'\n * Also consider 'bbbb{a|xxx\\nzzz}xxxx\\naaaa'.\n *\n * @public\n * @param {string} text\n * @param {Object} style\n * @return {Object} block\n * {\n *      width,\n *      height,\n *      lines: [{\n *          lineHeight,\n *          width,\n *          tokens: [[{\n *              styleName,\n *              text,\n *              width,      // include textPadding\n *              height,     // include textPadding\n *              textWidth, // pure text width\n *              textHeight, // pure text height\n *              lineHeihgt,\n *              font,\n *              textAlign,\n *              textVerticalAlign\n *          }], [...], ...]\n *      }, ...]\n * }\n * If styleName is undefined, it is plain text.\n */\n\n\nfunction parseRichText(text, style) {\n  var contentBlock = {\n    lines: [],\n    width: 0,\n    height: 0\n  };\n  text != null && (text += '');\n\n  if (!text) {\n    return contentBlock;\n  }\n\n  var lastIndex = STYLE_REG.lastIndex = 0;\n  var result;\n\n  while ((result = STYLE_REG.exec(text)) != null) {\n    var matchedIndex = result.index;\n\n    if (matchedIndex > lastIndex) {\n      pushTokens(contentBlock, text.substring(lastIndex, matchedIndex));\n    }\n\n    pushTokens(contentBlock, result[2], result[1]);\n    lastIndex = STYLE_REG.lastIndex;\n  }\n\n  if (lastIndex < text.length) {\n    pushTokens(contentBlock, text.substring(lastIndex, text.length));\n  }\n\n  var lines = contentBlock.lines;\n  var contentHeight = 0;\n  var contentWidth = 0; // For `textWidth: 100%`\n\n  var pendingList = [];\n  var stlPadding = style.textPadding;\n  var truncate = style.truncate;\n  var truncateWidth = truncate && truncate.outerWidth;\n  var truncateHeight = truncate && truncate.outerHeight;\n\n  if (stlPadding) {\n    truncateWidth != null && (truncateWidth -= stlPadding[1] + stlPadding[3]);\n    truncateHeight != null && (truncateHeight -= stlPadding[0] + stlPadding[2]);\n  } // Calculate layout info of tokens.\n\n\n  for (var i = 0; i < lines.length; i++) {\n    var line = lines[i];\n    var lineHeight = 0;\n    var lineWidth = 0;\n\n    for (var j = 0; j < line.tokens.length; j++) {\n      var token = line.tokens[j];\n      var tokenStyle = token.styleName && style.rich[token.styleName] || {}; // textPadding should not inherit from style.\n\n      var textPadding = token.textPadding = tokenStyle.textPadding; // textFont has been asigned to font by `normalizeStyle`.\n\n      var font = token.font = tokenStyle.font || style.font; // textHeight can be used when textVerticalAlign is specified in token.\n\n      var tokenHeight = token.textHeight = retrieve2( // textHeight should not be inherited, consider it can be specified\n      // as box height of the block.\n      tokenStyle.textHeight, getLineHeight(font));\n      textPadding && (tokenHeight += textPadding[0] + textPadding[2]);\n      token.height = tokenHeight;\n      token.lineHeight = retrieve3(tokenStyle.textLineHeight, style.textLineHeight, tokenHeight);\n      token.textAlign = tokenStyle && tokenStyle.textAlign || style.textAlign;\n      token.textVerticalAlign = tokenStyle && tokenStyle.textVerticalAlign || 'middle';\n\n      if (truncateHeight != null && contentHeight + token.lineHeight > truncateHeight) {\n        return {\n          lines: [],\n          width: 0,\n          height: 0\n        };\n      }\n\n      token.textWidth = getWidth(token.text, font);\n      var tokenWidth = tokenStyle.textWidth;\n      var tokenWidthNotSpecified = tokenWidth == null || tokenWidth === 'auto'; // Percent width, can be `100%`, can be used in drawing separate\n      // line when box width is needed to be auto.\n\n      if (typeof tokenWidth === 'string' && tokenWidth.charAt(tokenWidth.length - 1) === '%') {\n        token.percentWidth = tokenWidth;\n        pendingList.push(token);\n        tokenWidth = 0; // Do not truncate in this case, because there is no user case\n        // and it is too complicated.\n      } else {\n        if (tokenWidthNotSpecified) {\n          tokenWidth = token.textWidth; // FIXME: If image is not loaded and textWidth is not specified, calling\n          // `getBoundingRect()` will not get correct result.\n\n          var textBackgroundColor = tokenStyle.textBackgroundColor;\n          var bgImg = textBackgroundColor && textBackgroundColor.image; // Use cases:\n          // (1) If image is not loaded, it will be loaded at render phase and call\n          // `dirty()` and `textBackgroundColor.image` will be replaced with the loaded\n          // image, and then the right size will be calculated here at the next tick.\n          // See `graphic/helper/text.js`.\n          // (2) If image loaded, and `textBackgroundColor.image` is image src string,\n          // use `imageHelper.findExistImage` to find cached image.\n          // `imageHelper.findExistImage` will always be called here before\n          // `imageHelper.createOrUpdateImage` in `graphic/helper/text.js#renderRichText`\n          // which ensures that image will not be rendered before correct size calcualted.\n\n          if (bgImg) {\n            bgImg = imageHelper.findExistImage(bgImg);\n\n            if (imageHelper.isImageReady(bgImg)) {\n              tokenWidth = Math.max(tokenWidth, bgImg.width * tokenHeight / bgImg.height);\n            }\n          }\n        }\n\n        var paddingW = textPadding ? textPadding[1] + textPadding[3] : 0;\n        tokenWidth += paddingW;\n        var remianTruncWidth = truncateWidth != null ? truncateWidth - lineWidth : null;\n\n        if (remianTruncWidth != null && remianTruncWidth < tokenWidth) {\n          if (!tokenWidthNotSpecified || remianTruncWidth < paddingW) {\n            token.text = '';\n            token.textWidth = tokenWidth = 0;\n          } else {\n            token.text = truncateText(token.text, remianTruncWidth - paddingW, font, truncate.ellipsis, {\n              minChar: truncate.minChar\n            });\n            token.textWidth = getWidth(token.text, font);\n            tokenWidth = token.textWidth + paddingW;\n          }\n        }\n      }\n\n      lineWidth += token.width = tokenWidth;\n      tokenStyle && (lineHeight = Math.max(lineHeight, token.lineHeight));\n    }\n\n    line.width = lineWidth;\n    line.lineHeight = lineHeight;\n    contentHeight += lineHeight;\n    contentWidth = Math.max(contentWidth, lineWidth);\n  }\n\n  contentBlock.outerWidth = contentBlock.width = retrieve2(style.textWidth, contentWidth);\n  contentBlock.outerHeight = contentBlock.height = retrieve2(style.textHeight, contentHeight);\n\n  if (stlPadding) {\n    contentBlock.outerWidth += stlPadding[1] + stlPadding[3];\n    contentBlock.outerHeight += stlPadding[0] + stlPadding[2];\n  }\n\n  for (var i = 0; i < pendingList.length; i++) {\n    var token = pendingList[i];\n    var percentWidth = token.percentWidth; // Should not base on outerWidth, because token can not be placed out of padding.\n\n    token.width = parseInt(percentWidth, 10) / 100 * contentWidth;\n  }\n\n  return contentBlock;\n}\n\nfunction pushTokens(block, str, styleName) {\n  var isEmptyStr = str === '';\n  var strs = str.split('\\n');\n  var lines = block.lines;\n\n  for (var i = 0; i < strs.length; i++) {\n    var text = strs[i];\n    var token = {\n      styleName: styleName,\n      text: text,\n      isLineHolder: !text && !isEmptyStr\n    }; // The first token should be appended to the last line.\n\n    if (!i) {\n      var tokens = (lines[lines.length - 1] || (lines[0] = {\n        tokens: []\n      })).tokens; // Consider cases:\n      // (1) ''.split('\\n') => ['', '\\n', ''], the '' at the first item\n      // (which is a placeholder) should be replaced by new token.\n      // (2) A image backage, where token likes {a|}.\n      // (3) A redundant '' will affect textAlign in line.\n      // (4) tokens with the same tplName should not be merged, because\n      // they should be displayed in different box (with border and padding).\n\n      var tokensLen = tokens.length;\n      tokensLen === 1 && tokens[0].isLineHolder ? tokens[0] = token : // Consider text is '', only insert when it is the \"lineHolder\" or\n      // \"emptyStr\". Otherwise a redundant '' will affect textAlign in line.\n      (text || !tokensLen || isEmptyStr) && tokens.push(token);\n    } // Other tokens always start a new line.\n    else {\n        // If there is '', insert it as a placeholder.\n        lines.push({\n          tokens: [token]\n        });\n      }\n  }\n}\n\nfunction makeFont(style) {\n  // FIXME in node-canvas fontWeight is before fontStyle\n  // Use `fontSize` `fontFamily` to check whether font properties are defined.\n  return (style.fontSize || style.fontFamily) && [style.fontStyle, style.fontWeight, (style.fontSize || 12) + 'px', // If font properties are defined, `fontFamily` should not be ignored.\n  style.fontFamily || 'sans-serif'].join(' ') || style.textFont || style.font;\n}\n\nexports.DEFAULT_FONT = DEFAULT_FONT;\nexports.$override = $override;\nexports.getWidth = getWidth;\nexports.getBoundingRect = getBoundingRect;\nexports.adjustTextX = adjustTextX;\nexports.adjustTextY = adjustTextY;\nexports.adjustTextPositionOnRect = adjustTextPositionOnRect;\nexports.truncateText = truncateText;\nexports.getLineHeight = getLineHeight;\nexports.measureText = measureText;\nexports.parsePlainText = parsePlainText;\nexports.parseRichText = parseRichText;\nexports.makeFont = makeFont;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar curve = __webpack_require__(4);\n\nvar vec2 = __webpack_require__(2);\n\nvar bbox = __webpack_require__(49);\n\nvar BoundingRect = __webpack_require__(3);\n\nvar _config = __webpack_require__(19);\n\nvar dpr = _config.devicePixelRatio;\n\n/**\n * Path 代理，可以在`buildPath`中用于替代`ctx`, 会保存每个path操作的命令到pathCommands属性中\n * 可以用于 isInsidePath 判断以及获取boundingRect\n *\n * @module zrender/core/PathProxy\n * @author Yi Shen (http://www.github.com/pissang)\n */\n// TODO getTotalLength, getPointAtLength\nvar CMD = {\n  M: 1,\n  L: 2,\n  C: 3,\n  Q: 4,\n  A: 5,\n  Z: 6,\n  // Rect\n  R: 7\n}; // var CMD_MEM_SIZE = {\n//     M: 3,\n//     L: 3,\n//     C: 7,\n//     Q: 5,\n//     A: 9,\n//     R: 5,\n//     Z: 1\n// };\n\nvar min = [];\nvar max = [];\nvar min2 = [];\nvar max2 = [];\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar mathCos = Math.cos;\nvar mathSin = Math.sin;\nvar mathSqrt = Math.sqrt;\nvar mathAbs = Math.abs;\nvar hasTypedArray = typeof Float32Array != 'undefined';\n/**\n * @alias module:zrender/core/PathProxy\n * @constructor\n */\n\nvar PathProxy = function (notSaveData) {\n  this._saveData = !(notSaveData || false);\n\n  if (this._saveData) {\n    /**\n     * Path data. Stored as flat array\n     * @type {Array.<Object>}\n     */\n    this.data = [];\n  }\n\n  this._ctx = null;\n};\n/**\n * 快速计算Path包围盒（并不是最小包围盒）\n * @return {Object}\n */\n\n\nPathProxy.prototype = {\n  constructor: PathProxy,\n  _xi: 0,\n  _yi: 0,\n  _x0: 0,\n  _y0: 0,\n  // Unit x, Unit y. Provide for avoiding drawing that too short line segment\n  _ux: 0,\n  _uy: 0,\n  _len: 0,\n  _lineDash: null,\n  _dashOffset: 0,\n  _dashIdx: 0,\n  _dashSum: 0,\n\n  /**\n   * @readOnly\n   */\n  setScale: function (sx, sy) {\n    this._ux = mathAbs(1 / dpr / sx) || 0;\n    this._uy = mathAbs(1 / dpr / sy) || 0;\n  },\n  getContext: function () {\n    return this._ctx;\n  },\n\n  /**\n   * @param  {CanvasRenderingContext2D} ctx\n   * @return {module:zrender/core/PathProxy}\n   */\n  beginPath: function (ctx) {\n    this._ctx = ctx;\n    ctx && ctx.beginPath();\n    ctx && (this.dpr = ctx.dpr); // Reset\n\n    if (this._saveData) {\n      this._len = 0;\n    }\n\n    if (this._lineDash) {\n      this._lineDash = null;\n      this._dashOffset = 0;\n    }\n\n    return this;\n  },\n\n  /**\n   * @param  {number} x\n   * @param  {number} y\n   * @return {module:zrender/core/PathProxy}\n   */\n  moveTo: function (x, y) {\n    this.addData(CMD.M, x, y);\n    this._ctx && this._ctx.moveTo(x, y); // x0, y0, xi, yi 是记录在 _dashedXXXXTo 方法中使用\n    // xi, yi 记录当前点, x0, y0 在 closePath 的时候回到起始点。\n    // 有可能在 beginPath 之后直接调用 lineTo，这时候 x0, y0 需要\n    // 在 lineTo 方法中记录，这里先不考虑这种情况，dashed line 也只在 IE10- 中不支持\n\n    this._x0 = x;\n    this._y0 = y;\n    this._xi = x;\n    this._yi = y;\n    return this;\n  },\n\n  /**\n   * @param  {number} x\n   * @param  {number} y\n   * @return {module:zrender/core/PathProxy}\n   */\n  lineTo: function (x, y) {\n    var exceedUnit = mathAbs(x - this._xi) > this._ux || mathAbs(y - this._yi) > this._uy // Force draw the first segment\n    || this._len < 5;\n    this.addData(CMD.L, x, y);\n\n    if (this._ctx && exceedUnit) {\n      this._needsDash() ? this._dashedLineTo(x, y) : this._ctx.lineTo(x, y);\n    }\n\n    if (exceedUnit) {\n      this._xi = x;\n      this._yi = y;\n    }\n\n    return this;\n  },\n\n  /**\n   * @param  {number} x1\n   * @param  {number} y1\n   * @param  {number} x2\n   * @param  {number} y2\n   * @param  {number} x3\n   * @param  {number} y3\n   * @return {module:zrender/core/PathProxy}\n   */\n  bezierCurveTo: function (x1, y1, x2, y2, x3, y3) {\n    this.addData(CMD.C, x1, y1, x2, y2, x3, y3);\n\n    if (this._ctx) {\n      this._needsDash() ? this._dashedBezierTo(x1, y1, x2, y2, x3, y3) : this._ctx.bezierCurveTo(x1, y1, x2, y2, x3, y3);\n    }\n\n    this._xi = x3;\n    this._yi = y3;\n    return this;\n  },\n\n  /**\n   * @param  {number} x1\n   * @param  {number} y1\n   * @param  {number} x2\n   * @param  {number} y2\n   * @return {module:zrender/core/PathProxy}\n   */\n  quadraticCurveTo: function (x1, y1, x2, y2) {\n    this.addData(CMD.Q, x1, y1, x2, y2);\n\n    if (this._ctx) {\n      this._needsDash() ? this._dashedQuadraticTo(x1, y1, x2, y2) : this._ctx.quadraticCurveTo(x1, y1, x2, y2);\n    }\n\n    this._xi = x2;\n    this._yi = y2;\n    return this;\n  },\n\n  /**\n   * @param  {number} cx\n   * @param  {number} cy\n   * @param  {number} r\n   * @param  {number} startAngle\n   * @param  {number} endAngle\n   * @param  {boolean} anticlockwise\n   * @return {module:zrender/core/PathProxy}\n   */\n  arc: function (cx, cy, r, startAngle, endAngle, anticlockwise) {\n    this.addData(CMD.A, cx, cy, r, r, startAngle, endAngle - startAngle, 0, anticlockwise ? 0 : 1);\n    this._ctx && this._ctx.arc(cx, cy, r, startAngle, endAngle, anticlockwise);\n    this._xi = mathCos(endAngle) * r + cx;\n    this._yi = mathSin(endAngle) * r + cx;\n    return this;\n  },\n  // TODO\n  arcTo: function (x1, y1, x2, y2, radius) {\n    if (this._ctx) {\n      this._ctx.arcTo(x1, y1, x2, y2, radius);\n    }\n\n    return this;\n  },\n  // TODO\n  rect: function (x, y, w, h) {\n    this._ctx && this._ctx.rect(x, y, w, h);\n    this.addData(CMD.R, x, y, w, h);\n    return this;\n  },\n\n  /**\n   * @return {module:zrender/core/PathProxy}\n   */\n  closePath: function () {\n    this.addData(CMD.Z);\n    var ctx = this._ctx;\n    var x0 = this._x0;\n    var y0 = this._y0;\n\n    if (ctx) {\n      this._needsDash() && this._dashedLineTo(x0, y0);\n      ctx.closePath();\n    }\n\n    this._xi = x0;\n    this._yi = y0;\n    return this;\n  },\n\n  /**\n   * Context 从外部传入，因为有可能是 rebuildPath 完之后再 fill。\n   * stroke 同样\n   * @param {CanvasRenderingContext2D} ctx\n   * @return {module:zrender/core/PathProxy}\n   */\n  fill: function (ctx) {\n    ctx && ctx.fill();\n    this.toStatic();\n  },\n\n  /**\n   * @param {CanvasRenderingContext2D} ctx\n   * @return {module:zrender/core/PathProxy}\n   */\n  stroke: function (ctx) {\n    ctx && ctx.stroke();\n    this.toStatic();\n  },\n\n  /**\n   * 必须在其它绘制命令前调用\n   * Must be invoked before all other path drawing methods\n   * @return {module:zrender/core/PathProxy}\n   */\n  setLineDash: function (lineDash) {\n    if (lineDash instanceof Array) {\n      this._lineDash = lineDash;\n      this._dashIdx = 0;\n      var lineDashSum = 0;\n\n      for (var i = 0; i < lineDash.length; i++) {\n        lineDashSum += lineDash[i];\n      }\n\n      this._dashSum = lineDashSum;\n    }\n\n    return this;\n  },\n\n  /**\n   * 必须在其它绘制命令前调用\n   * Must be invoked before all other path drawing methods\n   * @return {module:zrender/core/PathProxy}\n   */\n  setLineDashOffset: function (offset) {\n    this._dashOffset = offset;\n    return this;\n  },\n\n  /**\n   *\n   * @return {boolean}\n   */\n  len: function () {\n    return this._len;\n  },\n\n  /**\n   * 直接设置 Path 数据\n   */\n  setData: function (data) {\n    var len = data.length;\n\n    if (!(this.data && this.data.length == len) && hasTypedArray) {\n      this.data = new Float32Array(len);\n    }\n\n    for (var i = 0; i < len; i++) {\n      this.data[i] = data[i];\n    }\n\n    this._len = len;\n  },\n\n  /**\n   * 添加子路径\n   * @param {module:zrender/core/PathProxy|Array.<module:zrender/core/PathProxy>} path\n   */\n  appendPath: function (path) {\n    if (!(path instanceof Array)) {\n      path = [path];\n    }\n\n    var len = path.length;\n    var appendSize = 0;\n    var offset = this._len;\n\n    for (var i = 0; i < len; i++) {\n      appendSize += path[i].len();\n    }\n\n    if (hasTypedArray && this.data instanceof Float32Array) {\n      this.data = new Float32Array(offset + appendSize);\n    }\n\n    for (var i = 0; i < len; i++) {\n      var appendPathData = path[i].data;\n\n      for (var k = 0; k < appendPathData.length; k++) {\n        this.data[offset++] = appendPathData[k];\n      }\n    }\n\n    this._len = offset;\n  },\n\n  /**\n   * 填充 Path 数据。\n   * 尽量复用而不申明新的数组。大部分图形重绘的指令数据长度都是不变的。\n   */\n  addData: function (cmd) {\n    if (!this._saveData) {\n      return;\n    }\n\n    var data = this.data;\n\n    if (this._len + arguments.length > data.length) {\n      // 因为之前的数组已经转换成静态的 Float32Array\n      // 所以不够用时需要扩展一个新的动态数组\n      this._expandData();\n\n      data = this.data;\n    }\n\n    for (var i = 0; i < arguments.length; i++) {\n      data[this._len++] = arguments[i];\n    }\n\n    this._prevCmd = cmd;\n  },\n  _expandData: function () {\n    // Only if data is Float32Array\n    if (!(this.data instanceof Array)) {\n      var newData = [];\n\n      for (var i = 0; i < this._len; i++) {\n        newData[i] = this.data[i];\n      }\n\n      this.data = newData;\n    }\n  },\n\n  /**\n   * If needs js implemented dashed line\n   * @return {boolean}\n   * @private\n   */\n  _needsDash: function () {\n    return this._lineDash;\n  },\n  _dashedLineTo: function (x1, y1) {\n    var dashSum = this._dashSum;\n    var offset = this._dashOffset;\n    var lineDash = this._lineDash;\n    var ctx = this._ctx;\n    var x0 = this._xi;\n    var y0 = this._yi;\n    var dx = x1 - x0;\n    var dy = y1 - y0;\n    var dist = mathSqrt(dx * dx + dy * dy);\n    var x = x0;\n    var y = y0;\n    var dash;\n    var nDash = lineDash.length;\n    var idx;\n    dx /= dist;\n    dy /= dist;\n\n    if (offset < 0) {\n      // Convert to positive offset\n      offset = dashSum + offset;\n    }\n\n    offset %= dashSum;\n    x -= offset * dx;\n    y -= offset * dy;\n\n    while (dx > 0 && x <= x1 || dx < 0 && x >= x1 || dx == 0 && (dy > 0 && y <= y1 || dy < 0 && y >= y1)) {\n      idx = this._dashIdx;\n      dash = lineDash[idx];\n      x += dx * dash;\n      y += dy * dash;\n      this._dashIdx = (idx + 1) % nDash; // Skip positive offset\n\n      if (dx > 0 && x < x0 || dx < 0 && x > x0 || dy > 0 && y < y0 || dy < 0 && y > y0) {\n        continue;\n      }\n\n      ctx[idx % 2 ? 'moveTo' : 'lineTo'](dx >= 0 ? mathMin(x, x1) : mathMax(x, x1), dy >= 0 ? mathMin(y, y1) : mathMax(y, y1));\n    } // Offset for next lineTo\n\n\n    dx = x - x1;\n    dy = y - y1;\n    this._dashOffset = -mathSqrt(dx * dx + dy * dy);\n  },\n  // Not accurate dashed line to\n  _dashedBezierTo: function (x1, y1, x2, y2, x3, y3) {\n    var dashSum = this._dashSum;\n    var offset = this._dashOffset;\n    var lineDash = this._lineDash;\n    var ctx = this._ctx;\n    var x0 = this._xi;\n    var y0 = this._yi;\n    var t;\n    var dx;\n    var dy;\n    var cubicAt = curve.cubicAt;\n    var bezierLen = 0;\n    var idx = this._dashIdx;\n    var nDash = lineDash.length;\n    var x;\n    var y;\n    var tmpLen = 0;\n\n    if (offset < 0) {\n      // Convert to positive offset\n      offset = dashSum + offset;\n    }\n\n    offset %= dashSum; // Bezier approx length\n\n    for (t = 0; t < 1; t += 0.1) {\n      dx = cubicAt(x0, x1, x2, x3, t + 0.1) - cubicAt(x0, x1, x2, x3, t);\n      dy = cubicAt(y0, y1, y2, y3, t + 0.1) - cubicAt(y0, y1, y2, y3, t);\n      bezierLen += mathSqrt(dx * dx + dy * dy);\n    } // Find idx after add offset\n\n\n    for (; idx < nDash; idx++) {\n      tmpLen += lineDash[idx];\n\n      if (tmpLen > offset) {\n        break;\n      }\n    }\n\n    t = (tmpLen - offset) / bezierLen;\n\n    while (t <= 1) {\n      x = cubicAt(x0, x1, x2, x3, t);\n      y = cubicAt(y0, y1, y2, y3, t); // Use line to approximate dashed bezier\n      // Bad result if dash is long\n\n      idx % 2 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);\n      t += lineDash[idx] / bezierLen;\n      idx = (idx + 1) % nDash;\n    } // Finish the last segment and calculate the new offset\n\n\n    idx % 2 !== 0 && ctx.lineTo(x3, y3);\n    dx = x3 - x;\n    dy = y3 - y;\n    this._dashOffset = -mathSqrt(dx * dx + dy * dy);\n  },\n  _dashedQuadraticTo: function (x1, y1, x2, y2) {\n    // Convert quadratic to cubic using degree elevation\n    var x3 = x2;\n    var y3 = y2;\n    x2 = (x2 + 2 * x1) / 3;\n    y2 = (y2 + 2 * y1) / 3;\n    x1 = (this._xi + 2 * x1) / 3;\n    y1 = (this._yi + 2 * y1) / 3;\n\n    this._dashedBezierTo(x1, y1, x2, y2, x3, y3);\n  },\n\n  /**\n   * 转成静态的 Float32Array 减少堆内存占用\n   * Convert dynamic array to static Float32Array\n   */\n  toStatic: function () {\n    var data = this.data;\n\n    if (data instanceof Array) {\n      data.length = this._len;\n\n      if (hasTypedArray) {\n        this.data = new Float32Array(data);\n      }\n    }\n  },\n\n  /**\n   * @return {module:zrender/core/BoundingRect}\n   */\n  getBoundingRect: function () {\n    min[0] = min[1] = min2[0] = min2[1] = Number.MAX_VALUE;\n    max[0] = max[1] = max2[0] = max2[1] = -Number.MAX_VALUE;\n    var data = this.data;\n    var xi = 0;\n    var yi = 0;\n    var x0 = 0;\n    var y0 = 0;\n\n    for (var i = 0; i < data.length;) {\n      var cmd = data[i++];\n\n      if (i == 1) {\n        // 如果第一个命令是 L, C, Q\n        // 则 previous point 同绘制命令的第一个 point\n        //\n        // 第一个命令为 Arc 的情况下会在后面特殊处理\n        xi = data[i];\n        yi = data[i + 1];\n        x0 = xi;\n        y0 = yi;\n      }\n\n      switch (cmd) {\n        case CMD.M:\n          // moveTo 命令重新创建一个新的 subpath, 并且更新新的起点\n          // 在 closePath 的时候使用\n          x0 = data[i++];\n          y0 = data[i++];\n          xi = x0;\n          yi = y0;\n          min2[0] = x0;\n          min2[1] = y0;\n          max2[0] = x0;\n          max2[1] = y0;\n          break;\n\n        case CMD.L:\n          bbox.fromLine(xi, yi, data[i], data[i + 1], min2, max2);\n          xi = data[i++];\n          yi = data[i++];\n          break;\n\n        case CMD.C:\n          bbox.fromCubic(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], min2, max2);\n          xi = data[i++];\n          yi = data[i++];\n          break;\n\n        case CMD.Q:\n          bbox.fromQuadratic(xi, yi, data[i++], data[i++], data[i], data[i + 1], min2, max2);\n          xi = data[i++];\n          yi = data[i++];\n          break;\n\n        case CMD.A:\n          // TODO Arc 判断的开销比较大\n          var cx = data[i++];\n          var cy = data[i++];\n          var rx = data[i++];\n          var ry = data[i++];\n          var startAngle = data[i++];\n          var endAngle = data[i++] + startAngle; // TODO Arc 旋转\n\n          var psi = data[i++];\n          var anticlockwise = 1 - data[i++];\n\n          if (i == 1) {\n            // 直接使用 arc 命令\n            // 第一个命令起点还未定义\n            x0 = mathCos(startAngle) * rx + cx;\n            y0 = mathSin(startAngle) * ry + cy;\n          }\n\n          bbox.fromArc(cx, cy, rx, ry, startAngle, endAngle, anticlockwise, min2, max2);\n          xi = mathCos(endAngle) * rx + cx;\n          yi = mathSin(endAngle) * ry + cy;\n          break;\n\n        case CMD.R:\n          x0 = xi = data[i++];\n          y0 = yi = data[i++];\n          var width = data[i++];\n          var height = data[i++]; // Use fromLine\n\n          bbox.fromLine(x0, y0, x0 + width, y0 + height, min2, max2);\n          break;\n\n        case CMD.Z:\n          xi = x0;\n          yi = y0;\n          break;\n      } // Union\n\n\n      vec2.min(min, min, min2);\n      vec2.max(max, max, max2);\n    } // No data\n\n\n    if (i === 0) {\n      min[0] = min[1] = max[0] = max[1] = 0;\n    }\n\n    return new BoundingRect(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n  },\n\n  /**\n   * Rebuild path from current data\n   * Rebuild path will not consider javascript implemented line dash.\n   * @param {CanvasRenderingContext2D} ctx\n   */\n  rebuildPath: function (ctx) {\n    var d = this.data;\n    var x0, y0;\n    var xi, yi;\n    var x, y;\n    var ux = this._ux;\n    var uy = this._uy;\n    var len = this._len;\n\n    for (var i = 0; i < len;) {\n      var cmd = d[i++];\n\n      if (i == 1) {\n        // 如果第一个命令是 L, C, Q\n        // 则 previous point 同绘制命令的第一个 point\n        //\n        // 第一个命令为 Arc 的情况下会在后面特殊处理\n        xi = d[i];\n        yi = d[i + 1];\n        x0 = xi;\n        y0 = yi;\n      }\n\n      switch (cmd) {\n        case CMD.M:\n          x0 = xi = d[i++];\n          y0 = yi = d[i++];\n          ctx.moveTo(xi, yi);\n          break;\n\n        case CMD.L:\n          x = d[i++];\n          y = d[i++]; // Not draw too small seg between\n\n          if (mathAbs(x - xi) > ux || mathAbs(y - yi) > uy || i === len - 1) {\n            ctx.lineTo(x, y);\n            xi = x;\n            yi = y;\n          }\n\n          break;\n\n        case CMD.C:\n          ctx.bezierCurveTo(d[i++], d[i++], d[i++], d[i++], d[i++], d[i++]);\n          xi = d[i - 2];\n          yi = d[i - 1];\n          break;\n\n        case CMD.Q:\n          ctx.quadraticCurveTo(d[i++], d[i++], d[i++], d[i++]);\n          xi = d[i - 2];\n          yi = d[i - 1];\n          break;\n\n        case CMD.A:\n          var cx = d[i++];\n          var cy = d[i++];\n          var rx = d[i++];\n          var ry = d[i++];\n          var theta = d[i++];\n          var dTheta = d[i++];\n          var psi = d[i++];\n          var fs = d[i++];\n          var r = rx > ry ? rx : ry;\n          var scaleX = rx > ry ? 1 : rx / ry;\n          var scaleY = rx > ry ? ry / rx : 1;\n          var isEllipse = Math.abs(rx - ry) > 1e-3;\n          var endAngle = theta + dTheta;\n\n          if (isEllipse) {\n            ctx.translate(cx, cy);\n            ctx.rotate(psi);\n            ctx.scale(scaleX, scaleY);\n            ctx.arc(0, 0, r, theta, endAngle, 1 - fs);\n            ctx.scale(1 / scaleX, 1 / scaleY);\n            ctx.rotate(-psi);\n            ctx.translate(-cx, -cy);\n          } else {\n            ctx.arc(cx, cy, r, theta, endAngle, 1 - fs);\n          }\n\n          if (i == 1) {\n            // 直接使用 arc 命令\n            // 第一个命令起点还未定义\n            x0 = mathCos(theta) * rx + cx;\n            y0 = mathSin(theta) * ry + cy;\n          }\n\n          xi = mathCos(endAngle) * rx + cx;\n          yi = mathSin(endAngle) * ry + cy;\n          break;\n\n        case CMD.R:\n          x0 = xi = d[i];\n          y0 = yi = d[i + 1];\n          ctx.rect(d[i++], d[i++], d[i++], d[i++]);\n          break;\n\n        case CMD.Z:\n          ctx.closePath();\n          xi = x0;\n          yi = y0;\n      }\n    }\n  }\n};\nPathProxy.CMD = CMD;\nvar _default = PathProxy;\nmodule.exports = _default;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_7__;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\n/**\n * 3x2矩阵操作类\n * @exports zrender/tool/matrix\n */\nvar ArrayCtor = typeof Float32Array === 'undefined' ? Array : Float32Array;\n/**\n * 创建一个单位矩阵\n * @return {Float32Array|Array.<number>}\n */\n\nfunction create() {\n  var out = new ArrayCtor(6);\n  identity(out);\n  return out;\n}\n/**\n * 设置矩阵为单位矩阵\n * @param {Float32Array|Array.<number>} out\n */\n\n\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\n * 复制矩阵\n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} m\n */\n\n\nfunction copy(out, m) {\n  out[0] = m[0];\n  out[1] = m[1];\n  out[2] = m[2];\n  out[3] = m[3];\n  out[4] = m[4];\n  out[5] = m[5];\n  return out;\n}\n/**\n * 矩阵相乘\n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} m1\n * @param {Float32Array|Array.<number>} m2\n */\n\n\nfunction mul(out, m1, m2) {\n  // Consider matrix.mul(m, m2, m);\n  // where out is the same as m2.\n  // So use temp variable to escape error.\n  var out0 = m1[0] * m2[0] + m1[2] * m2[1];\n  var out1 = m1[1] * m2[0] + m1[3] * m2[1];\n  var out2 = m1[0] * m2[2] + m1[2] * m2[3];\n  var out3 = m1[1] * m2[2] + m1[3] * m2[3];\n  var out4 = m1[0] * m2[4] + m1[2] * m2[5] + m1[4];\n  var out5 = m1[1] * m2[4] + m1[3] * m2[5] + m1[5];\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = out3;\n  out[4] = out4;\n  out[5] = out5;\n  return out;\n}\n/**\n * 平移变换\n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} a\n * @param {Float32Array|Array.<number>} v\n */\n\n\nfunction translate(out, a, v) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4] + v[0];\n  out[5] = a[5] + v[1];\n  return out;\n}\n/**\n * 旋转变换\n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} a\n * @param {number} rad\n */\n\n\nfunction rotate(out, a, rad) {\n  var aa = a[0];\n  var ac = a[2];\n  var atx = a[4];\n  var ab = a[1];\n  var ad = a[3];\n  var aty = a[5];\n  var st = Math.sin(rad);\n  var ct = Math.cos(rad);\n  out[0] = aa * ct + ab * st;\n  out[1] = -aa * st + ab * ct;\n  out[2] = ac * ct + ad * st;\n  out[3] = -ac * st + ct * ad;\n  out[4] = ct * atx + st * aty;\n  out[5] = ct * aty - st * atx;\n  return out;\n}\n/**\n * 缩放变换\n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} a\n * @param {Float32Array|Array.<number>} v\n */\n\n\nfunction scale(out, a, v) {\n  var vx = v[0];\n  var vy = v[1];\n  out[0] = a[0] * vx;\n  out[1] = a[1] * vy;\n  out[2] = a[2] * vx;\n  out[3] = a[3] * vy;\n  out[4] = a[4] * vx;\n  out[5] = a[5] * vy;\n  return out;\n}\n/**\n * 求逆矩阵\n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} a\n */\n\n\nfunction invert(out, a) {\n  var aa = a[0];\n  var ac = a[2];\n  var atx = a[4];\n  var ab = a[1];\n  var ad = a[3];\n  var aty = a[5];\n  var det = aa * ad - ab * ac;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = ad * det;\n  out[1] = -ab * det;\n  out[2] = -ac * det;\n  out[3] = aa * det;\n  out[4] = (ac * aty - ad * atx) * det;\n  out[5] = (ab * atx - aa * aty) * det;\n  return out;\n}\n\nexports.create = create;\nexports.identity = identity;\nexports.copy = copy;\nexports.mul = mul;\nexports.translate = translate;\nexports.rotate = rotate;\nexports.scale = scale;\nexports.invert = invert;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar RADIAN_EPSILON = 1e-4;\n\nfunction _trim(str) {\n  return str.replace(/^\\s+/, '').replace(/\\s+$/, '');\n}\n/**\n * Linear mapping a value from domain to range\n * @memberOf module:echarts/util/number\n * @param  {(number|Array.<number>)} val\n * @param  {Array.<number>} domain Domain extent domain[0] can be bigger than domain[1]\n * @param  {Array.<number>} range  Range extent range[0] can be bigger than range[1]\n * @param  {boolean} clamp\n * @return {(number|Array.<number>}\n */\n\n\nfunction linearMap(val, domain, range, clamp) {\n  var subDomain = domain[1] - domain[0];\n  var subRange = range[1] - range[0];\n\n  if (subDomain === 0) {\n    return subRange === 0 ? range[0] : (range[0] + range[1]) / 2;\n  } // Avoid accuracy problem in edge, such as\n  // 146.39 - 62.83 === 83.55999999999999.\n  // See echarts/test/ut/spec/util/number.js#linearMap#accuracyError\n  // It is a little verbose for efficiency considering this method\n  // is a hotspot.\n\n\n  if (clamp) {\n    if (subDomain > 0) {\n      if (val <= domain[0]) {\n        return range[0];\n      } else if (val >= domain[1]) {\n        return range[1];\n      }\n    } else {\n      if (val >= domain[0]) {\n        return range[0];\n      } else if (val <= domain[1]) {\n        return range[1];\n      }\n    }\n  } else {\n    if (val === domain[0]) {\n      return range[0];\n    }\n\n    if (val === domain[1]) {\n      return range[1];\n    }\n  }\n\n  return (val - domain[0]) / subDomain * subRange + range[0];\n}\n/**\n * Convert a percent string to absolute number.\n * Returns NaN if percent is not a valid string or number\n * @memberOf module:echarts/util/number\n * @param {string|number} percent\n * @param {number} all\n * @return {number}\n */\n\n\nfunction parsePercent(percent, all) {\n  switch (percent) {\n    case 'center':\n    case 'middle':\n      percent = '50%';\n      break;\n\n    case 'left':\n    case 'top':\n      percent = '0%';\n      break;\n\n    case 'right':\n    case 'bottom':\n      percent = '100%';\n      break;\n  }\n\n  if (typeof percent === 'string') {\n    if (_trim(percent).match(/%$/)) {\n      return parseFloat(percent) / 100 * all;\n    }\n\n    return parseFloat(percent);\n  }\n\n  return percent == null ? NaN : +percent;\n}\n/**\n * (1) Fix rounding error of float numbers.\n * (2) Support return string to avoid scientific notation like '3.5e-7'.\n *\n * @param {number} x\n * @param {number} [precision]\n * @param {boolean} [returnStr]\n * @return {number|string}\n */\n\n\nfunction round(x, precision, returnStr) {\n  if (precision == null) {\n    precision = 10;\n  } // Avoid range error\n\n\n  precision = Math.min(Math.max(0, precision), 20);\n  x = (+x).toFixed(precision);\n  return returnStr ? x : +x;\n}\n\nfunction asc(arr) {\n  arr.sort(function (a, b) {\n    return a - b;\n  });\n  return arr;\n}\n/**\n * Get precision\n * @param {number} val\n */\n\n\nfunction getPrecision(val) {\n  val = +val;\n\n  if (isNaN(val)) {\n    return 0;\n  } // It is much faster than methods converting number to string as follows\n  //      var tmp = val.toString();\n  //      return tmp.length - 1 - tmp.indexOf('.');\n  // especially when precision is low\n\n\n  var e = 1;\n  var count = 0;\n\n  while (Math.round(val * e) / e !== val) {\n    e *= 10;\n    count++;\n  }\n\n  return count;\n}\n/**\n * @param {string|number} val\n * @return {number}\n */\n\n\nfunction getPrecisionSafe(val) {\n  var str = val.toString(); // Consider scientific notation: '3.4e-12' '3.4e+12'\n\n  var eIndex = str.indexOf('e');\n\n  if (eIndex > 0) {\n    var precision = +str.slice(eIndex + 1);\n    return precision < 0 ? -precision : 0;\n  } else {\n    var dotIndex = str.indexOf('.');\n    return dotIndex < 0 ? 0 : str.length - 1 - dotIndex;\n  }\n}\n/**\n * Minimal dicernible data precisioin according to a single pixel.\n *\n * @param {Array.<number>} dataExtent\n * @param {Array.<number>} pixelExtent\n * @return {number} precision\n */\n\n\nfunction getPixelPrecision(dataExtent, pixelExtent) {\n  var log = Math.log;\n  var LN10 = Math.LN10;\n  var dataQuantity = Math.floor(log(dataExtent[1] - dataExtent[0]) / LN10);\n  var sizeQuantity = Math.round(log(Math.abs(pixelExtent[1] - pixelExtent[0])) / LN10); // toFixed() digits argument must be between 0 and 20.\n\n  var precision = Math.min(Math.max(-dataQuantity + sizeQuantity, 0), 20);\n  return !isFinite(precision) ? 20 : precision;\n}\n/**\n * Get a data of given precision, assuring the sum of percentages\n * in valueList is 1.\n * The largest remainer method is used.\n * https://en.wikipedia.org/wiki/Largest_remainder_method\n *\n * @param {Array.<number>} valueList a list of all data\n * @param {number} idx index of the data to be processed in valueList\n * @param {number} precision integer number showing digits of precision\n * @return {number} percent ranging from 0 to 100\n */\n\n\nfunction getPercentWithPrecision(valueList, idx, precision) {\n  if (!valueList[idx]) {\n    return 0;\n  }\n\n  var sum = zrUtil.reduce(valueList, function (acc, val) {\n    return acc + (isNaN(val) ? 0 : val);\n  }, 0);\n\n  if (sum === 0) {\n    return 0;\n  }\n\n  var digits = Math.pow(10, precision);\n  var votesPerQuota = zrUtil.map(valueList, function (val) {\n    return (isNaN(val) ? 0 : val) / sum * digits * 100;\n  });\n  var targetSeats = digits * 100;\n  var seats = zrUtil.map(votesPerQuota, function (votes) {\n    // Assign automatic seats.\n    return Math.floor(votes);\n  });\n  var currentSum = zrUtil.reduce(seats, function (acc, val) {\n    return acc + val;\n  }, 0);\n  var remainder = zrUtil.map(votesPerQuota, function (votes, idx) {\n    return votes - seats[idx];\n  }); // Has remainding votes.\n\n  while (currentSum < targetSeats) {\n    // Find next largest remainder.\n    var max = Number.NEGATIVE_INFINITY;\n    var maxId = null;\n\n    for (var i = 0, len = remainder.length; i < len; ++i) {\n      if (remainder[i] > max) {\n        max = remainder[i];\n        maxId = i;\n      }\n    } // Add a vote to max remainder.\n\n\n    ++seats[maxId];\n    remainder[maxId] = 0;\n    ++currentSum;\n  }\n\n  return seats[idx] / digits;\n} // Number.MAX_SAFE_INTEGER, ie do not support.\n\n\nvar MAX_SAFE_INTEGER = 9007199254740991;\n/**\n * To 0 - 2 * PI, considering negative radian.\n * @param {number} radian\n * @return {number}\n */\n\nfunction remRadian(radian) {\n  var pi2 = Math.PI * 2;\n  return (radian % pi2 + pi2) % pi2;\n}\n/**\n * @param {type} radian\n * @return {boolean}\n */\n\n\nfunction isRadianAroundZero(val) {\n  return val > -RADIAN_EPSILON && val < RADIAN_EPSILON;\n}\n\nvar TIME_REG = /^(?:(\\d{4})(?:[-\\/](\\d{1,2})(?:[-\\/](\\d{1,2})(?:[T ](\\d{1,2})(?::(\\d\\d)(?::(\\d\\d)(?:[.,](\\d+))?)?)?(Z|[\\+\\-]\\d\\d:?\\d\\d)?)?)?)?)?$/; // jshint ignore:line\n\n/**\n * @param {string|Date|number} value These values can be accepted:\n *   + An instance of Date, represent a time in its own time zone.\n *   + Or string in a subset of ISO 8601, only including:\n *     + only year, month, date: '2012-03', '2012-03-01', '2012-03-01 05', '2012-03-01 05:06',\n *     + separated with T or space: '2012-03-01T12:22:33.123', '2012-03-01 12:22:33.123',\n *     + time zone: '2012-03-01T12:22:33Z', '2012-03-01T12:22:33+8000', '2012-03-01T12:22:33-05:00',\n *     all of which will be treated as local time if time zone is not specified\n *     (see <https://momentjs.com/>).\n *   + Or other string format, including (all of which will be treated as loacal time):\n *     '2012', '2012-3-1', '2012/3/1', '2012/03/01',\n *     '2009/6/12 2:00', '2009/6/12 2:05:08', '2009/6/12 2:05:08.123'\n *   + a timestamp, which represent a time in UTC.\n * @return {Date} date\n */\n\nfunction parseDate(value) {\n  if (value instanceof Date) {\n    return value;\n  } else if (typeof value === 'string') {\n    // Different browsers parse date in different way, so we parse it manually.\n    // Some other issues:\n    // new Date('1970-01-01') is UTC,\n    // new Date('1970/01/01') and new Date('1970-1-01') is local.\n    // See issue #3623\n    var match = TIME_REG.exec(value);\n\n    if (!match) {\n      // return Invalid Date.\n      return new Date(NaN);\n    } // Use local time when no timezone offset specifed.\n\n\n    if (!match[8]) {\n      // match[n] can only be string or undefined.\n      // But take care of '12' + 1 => '121'.\n      return new Date(+match[1], +(match[2] || 1) - 1, +match[3] || 1, +match[4] || 0, +(match[5] || 0), +match[6] || 0, +match[7] || 0);\n    } // Timezoneoffset of Javascript Date has considered DST (Daylight Saving Time,\n    // https://tc39.github.io/ecma262/#sec-daylight-saving-time-adjustment).\n    // For example, system timezone is set as \"Time Zone: America/Toronto\",\n    // then these code will get different result:\n    // `new Date(1478411999999).getTimezoneOffset();  // get 240`\n    // `new Date(1478412000000).getTimezoneOffset();  // get 300`\n    // So we should not use `new Date`, but use `Date.UTC`.\n    else {\n        var hour = +match[4] || 0;\n\n        if (match[8].toUpperCase() !== 'Z') {\n          hour -= match[8].slice(0, 3);\n        }\n\n        return new Date(Date.UTC(+match[1], +(match[2] || 1) - 1, +match[3] || 1, hour, +(match[5] || 0), +match[6] || 0, +match[7] || 0));\n      }\n  } else if (value == null) {\n    return new Date(NaN);\n  }\n\n  return new Date(Math.round(value));\n}\n/**\n * Quantity of a number. e.g. 0.1, 1, 10, 100\n *\n * @param  {number} val\n * @return {number}\n */\n\n\nfunction quantity(val) {\n  return Math.pow(10, quantityExponent(val));\n}\n\nfunction quantityExponent(val) {\n  return Math.floor(Math.log(val) / Math.LN10);\n}\n/**\n * find a “nice” number approximately equal to x. Round the number if round = true,\n * take ceiling if round = false. The primary observation is that the “nicest”\n * numbers in decimal are 1, 2, and 5, and all power-of-ten multiples of these numbers.\n *\n * See \"Nice Numbers for Graph Labels\" of Graphic Gems.\n *\n * @param  {number} val Non-negative value.\n * @param  {boolean} round\n * @return {number}\n */\n\n\nfunction nice(val, round) {\n  var exponent = quantityExponent(val);\n  var exp10 = Math.pow(10, exponent);\n  var f = val / exp10; // 1 <= f < 10\n\n  var nf;\n\n  if (round) {\n    if (f < 1.5) {\n      nf = 1;\n    } else if (f < 2.5) {\n      nf = 2;\n    } else if (f < 4) {\n      nf = 3;\n    } else if (f < 7) {\n      nf = 5;\n    } else {\n      nf = 10;\n    }\n  } else {\n    if (f < 1) {\n      nf = 1;\n    } else if (f < 2) {\n      nf = 2;\n    } else if (f < 3) {\n      nf = 3;\n    } else if (f < 5) {\n      nf = 5;\n    } else {\n      nf = 10;\n    }\n  }\n\n  val = nf * exp10; // Fix 3 * 0.1 === 0.30000000000000004 issue (see IEEE 754).\n  // 20 is the uppper bound of toFixed.\n\n  return exponent >= -20 ? +val.toFixed(exponent < 0 ? -exponent : 0) : val;\n}\n/**\n * Order intervals asc, and split them when overlap.\n * expect(numberUtil.reformIntervals([\n *     {interval: [18, 62], close: [1, 1]},\n *     {interval: [-Infinity, -70], close: [0, 0]},\n *     {interval: [-70, -26], close: [1, 1]},\n *     {interval: [-26, 18], close: [1, 1]},\n *     {interval: [62, 150], close: [1, 1]},\n *     {interval: [106, 150], close: [1, 1]},\n *     {interval: [150, Infinity], close: [0, 0]}\n * ])).toEqual([\n *     {interval: [-Infinity, -70], close: [0, 0]},\n *     {interval: [-70, -26], close: [1, 1]},\n *     {interval: [-26, 18], close: [0, 1]},\n *     {interval: [18, 62], close: [0, 1]},\n *     {interval: [62, 150], close: [0, 1]},\n *     {interval: [150, Infinity], close: [0, 0]}\n * ]);\n * @param {Array.<Object>} list, where `close` mean open or close\n *        of the interval, and Infinity can be used.\n * @return {Array.<Object>} The origin list, which has been reformed.\n */\n\n\nfunction reformIntervals(list) {\n  list.sort(function (a, b) {\n    return littleThan(a, b, 0) ? -1 : 1;\n  });\n  var curr = -Infinity;\n  var currClose = 1;\n\n  for (var i = 0; i < list.length;) {\n    var interval = list[i].interval;\n    var close = list[i].close;\n\n    for (var lg = 0; lg < 2; lg++) {\n      if (interval[lg] <= curr) {\n        interval[lg] = curr;\n        close[lg] = !lg ? 1 - currClose : 1;\n      }\n\n      curr = interval[lg];\n      currClose = close[lg];\n    }\n\n    if (interval[0] === interval[1] && close[0] * close[1] !== 1) {\n      list.splice(i, 1);\n    } else {\n      i++;\n    }\n  }\n\n  return list;\n\n  function littleThan(a, b, lg) {\n    return a.interval[lg] < b.interval[lg] || a.interval[lg] === b.interval[lg] && (a.close[lg] - b.close[lg] === (!lg ? 1 : -1) || !lg && littleThan(a, b, 1));\n  }\n}\n/**\n * parseFloat NaNs numeric-cast false positives (null|true|false|\"\")\n * ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n * subtraction forces infinities to NaN\n *\n * @param {*} v\n * @return {boolean}\n */\n\n\nfunction isNumeric(v) {\n  return v - parseFloat(v) >= 0;\n}\n\nexports.linearMap = linearMap;\nexports.parsePercent = parsePercent;\nexports.round = round;\nexports.asc = asc;\nexports.getPrecision = getPrecision;\nexports.getPrecisionSafe = getPrecisionSafe;\nexports.getPixelPrecision = getPixelPrecision;\nexports.getPercentWithPrecision = getPercentWithPrecision;\nexports.MAX_SAFE_INTEGER = MAX_SAFE_INTEGER;\nexports.remRadian = remRadian;\nexports.isRadianAroundZero = isRadianAroundZero;\nexports.parseDate = parseDate;\nexports.quantity = quantity;\nexports.nice = nice;\nexports.reformIntervals = reformIntervals;\nexports.isNumeric = isNumeric;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar LRU = __webpack_require__(14);\n\nvar globalImageCache = new LRU(50);\n/**\n * @param {string|HTMLImageElement|HTMLCanvasElement|Canvas} newImageOrSrc\n * @return {HTMLImageElement|HTMLCanvasElement|Canvas} image\n */\n\nfunction findExistImage(newImageOrSrc) {\n  if (typeof newImageOrSrc === 'string') {\n    var cachedImgObj = globalImageCache.get(newImageOrSrc);\n    return cachedImgObj && cachedImgObj.image;\n  } else {\n    return newImageOrSrc;\n  }\n}\n/**\n * Caution: User should cache loaded images, but not just count on LRU.\n * Consider if required images more than LRU size, will dead loop occur?\n *\n * @param {string|HTMLImageElement|HTMLCanvasElement|Canvas} newImageOrSrc\n * @param {HTMLImageElement|HTMLCanvasElement|Canvas} image Existent image.\n * @param {module:zrender/Element} [hostEl] For calling `dirty`.\n * @param {Function} [cb] params: (image, cbPayload)\n * @param {Object} [cbPayload] Payload on cb calling.\n * @return {HTMLImageElement|HTMLCanvasElement|Canvas} image\n */\n\n\nfunction createOrUpdateImage(newImageOrSrc, image, hostEl, cb, cbPayload) {\n  if (!newImageOrSrc) {\n    return image;\n  } else if (typeof newImageOrSrc === 'string') {\n    // Image should not be loaded repeatly.\n    if (image && image.__zrImageSrc === newImageOrSrc || !hostEl) {\n      return image;\n    } // Only when there is no existent image or existent image src\n    // is different, this method is responsible for load.\n\n\n    var cachedImgObj = globalImageCache.get(newImageOrSrc);\n    var pendingWrap = {\n      hostEl: hostEl,\n      cb: cb,\n      cbPayload: cbPayload\n    };\n\n    if (cachedImgObj) {\n      image = cachedImgObj.image;\n      !isImageReady(image) && cachedImgObj.pending.push(pendingWrap);\n    } else {\n      !image && (image = new Image());\n      image.onload = imageOnLoad;\n      globalImageCache.put(newImageOrSrc, image.__cachedImgObj = {\n        image: image,\n        pending: [pendingWrap]\n      });\n      image.src = image.__zrImageSrc = newImageOrSrc;\n    }\n\n    return image;\n  } // newImageOrSrc is an HTMLImageElement or HTMLCanvasElement or Canvas\n  else {\n      return newImageOrSrc;\n    }\n}\n\nfunction imageOnLoad() {\n  var cachedImgObj = this.__cachedImgObj;\n  this.onload = this.__cachedImgObj = null;\n\n  for (var i = 0; i < cachedImgObj.pending.length; i++) {\n    var pendingWrap = cachedImgObj.pending[i];\n    var cb = pendingWrap.cb;\n    cb && cb(this, pendingWrap.cbPayload);\n    pendingWrap.hostEl.dirty();\n  }\n\n  cachedImgObj.pending.length = 0;\n}\n\nfunction isImageReady(image) {\n  return image && image.width && image.height;\n}\n\nexports.findExistImage = findExistImage;\nexports.createOrUpdateImage = createOrUpdateImage;\nexports.isImageReady = isImageReady;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\n// TODO Parse shadow style\n// TODO Only shallow path support\nfunction _default(properties) {\n  // Normalize\n  for (var i = 0; i < properties.length; i++) {\n    if (!properties[i][1]) {\n      properties[i][1] = properties[i][0];\n    }\n  }\n\n  return function (model, excludes, includes) {\n    var style = {};\n\n    for (var i = 0; i < properties.length; i++) {\n      var propName = properties[i][1];\n\n      if (excludes && zrUtil.indexOf(excludes, propName) >= 0 || includes && zrUtil.indexOf(includes, propName) < 0) {\n        continue;\n      }\n\n      var val = model.getShallow(propName);\n\n      if (val != null) {\n        style[properties[i][0]] = val;\n      }\n    }\n\n    return style;\n  };\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar Style = __webpack_require__(40);\n\nvar Element = __webpack_require__(16);\n\nvar RectText = __webpack_require__(48);\n\n/**\n * 可绘制的图形基类\n * Base class of all displayable graphic objects\n * @module zrender/graphic/Displayable\n */\n\n/**\n * @alias module:zrender/graphic/Displayable\n * @extends module:zrender/Element\n * @extends module:zrender/graphic/mixin/RectText\n */\nfunction Displayable(opts) {\n  opts = opts || {};\n  Element.call(this, opts); // Extend properties\n\n  for (var name in opts) {\n    if (opts.hasOwnProperty(name) && name !== 'style') {\n      this[name] = opts[name];\n    }\n  }\n  /**\n   * @type {module:zrender/graphic/Style}\n   */\n\n\n  this.style = new Style(opts.style, this);\n  this._rect = null; // Shapes for cascade clipping.\n\n  this.__clipPaths = []; // FIXME Stateful must be mixined after style is setted\n  // Stateful.call(this, opts);\n}\n\nDisplayable.prototype = {\n  constructor: Displayable,\n  type: 'displayable',\n\n  /**\n   * Displayable 是否为脏，Painter 中会根据该标记判断是否需要是否需要重新绘制\n   * Dirty flag. From which painter will determine if this displayable object needs brush\n   * @name module:zrender/graphic/Displayable#__dirty\n   * @type {boolean}\n   */\n  __dirty: true,\n\n  /**\n   * 图形是否可见，为true时不绘制图形，但是仍能触发鼠标事件\n   * If ignore drawing of the displayable object. Mouse event will still be triggered\n   * @name module:/zrender/graphic/Displayable#invisible\n   * @type {boolean}\n   * @default false\n   */\n  invisible: false,\n\n  /**\n   * @name module:/zrender/graphic/Displayable#z\n   * @type {number}\n   * @default 0\n   */\n  z: 0,\n\n  /**\n   * @name module:/zrender/graphic/Displayable#z\n   * @type {number}\n   * @default 0\n   */\n  z2: 0,\n\n  /**\n   * z层level，决定绘画在哪层canvas中\n   * @name module:/zrender/graphic/Displayable#zlevel\n   * @type {number}\n   * @default 0\n   */\n  zlevel: 0,\n\n  /**\n   * 是否可拖拽\n   * @name module:/zrender/graphic/Displayable#draggable\n   * @type {boolean}\n   * @default false\n   */\n  draggable: false,\n\n  /**\n   * 是否正在拖拽\n   * @name module:/zrender/graphic/Displayable#draggable\n   * @type {boolean}\n   * @default false\n   */\n  dragging: false,\n\n  /**\n   * 是否相应鼠标事件\n   * @name module:/zrender/graphic/Displayable#silent\n   * @type {boolean}\n   * @default false\n   */\n  silent: false,\n\n  /**\n   * If enable culling\n   * @type {boolean}\n   * @default false\n   */\n  culling: false,\n\n  /**\n   * Mouse cursor when hovered\n   * @name module:/zrender/graphic/Displayable#cursor\n   * @type {string}\n   */\n  cursor: 'pointer',\n\n  /**\n   * If hover area is bounding rect\n   * @name module:/zrender/graphic/Displayable#rectHover\n   * @type {string}\n   */\n  rectHover: false,\n\n  /**\n   * Render the element progressively when the value >= 0,\n   * usefull for large data.\n   * @type {number}\n   */\n  progressive: -1,\n  beforeBrush: function (ctx) {},\n  afterBrush: function (ctx) {},\n\n  /**\n   * 图形绘制方法\n   * @param {CanvasRenderingContext2D} ctx\n   */\n  // Interface\n  brush: function (ctx, prevEl) {},\n\n  /**\n   * 获取最小包围盒\n   * @return {module:zrender/core/BoundingRect}\n   */\n  // Interface\n  getBoundingRect: function () {},\n\n  /**\n   * 判断坐标 x, y 是否在图形上\n   * If displayable element contain coord x, y\n   * @param  {number} x\n   * @param  {number} y\n   * @return {boolean}\n   */\n  contain: function (x, y) {\n    return this.rectContain(x, y);\n  },\n\n  /**\n   * @param  {Function} cb\n   * @param  {}   context\n   */\n  traverse: function (cb, context) {\n    cb.call(context, this);\n  },\n\n  /**\n   * 判断坐标 x, y 是否在图形的包围盒上\n   * If bounding rect of element contain coord x, y\n   * @param  {number} x\n   * @param  {number} y\n   * @return {boolean}\n   */\n  rectContain: function (x, y) {\n    var coord = this.transformCoordToLocal(x, y);\n    var rect = this.getBoundingRect();\n    return rect.contain(coord[0], coord[1]);\n  },\n\n  /**\n   * 标记图形元素为脏，并且在下一帧重绘\n   * Mark displayable element dirty and refresh next frame\n   */\n  dirty: function () {\n    this.__dirty = true;\n    this._rect = null;\n    this.__zr && this.__zr.refresh();\n  },\n\n  /**\n   * 图形是否会触发事件\n   * If displayable object binded any event\n   * @return {boolean}\n   */\n  // TODO, 通过 bind 绑定的事件\n  // isSilent: function () {\n  //     return !(\n  //         this.hoverable || this.draggable\n  //         || this.onmousemove || this.onmouseover || this.onmouseout\n  //         || this.onmousedown || this.onmouseup || this.onclick\n  //         || this.ondragenter || this.ondragover || this.ondragleave\n  //         || this.ondrop\n  //     );\n  // },\n\n  /**\n   * Alias for animate('style')\n   * @param {boolean} loop\n   */\n  animateStyle: function (loop) {\n    return this.animate('style', loop);\n  },\n  attrKV: function (key, value) {\n    if (key !== 'style') {\n      Element.prototype.attrKV.call(this, key, value);\n    } else {\n      this.style.set(value);\n    }\n  },\n\n  /**\n   * @param {Object|string} key\n   * @param {*} value\n   */\n  setStyle: function (key, value) {\n    this.style.set(key, value);\n    this.dirty(false);\n    return this;\n  },\n\n  /**\n   * Use given style object\n   * @param  {Object} obj\n   */\n  useStyle: function (obj) {\n    this.style = new Style(obj, this);\n    this.dirty(false);\n    return this;\n  }\n};\nzrUtil.inherits(Displayable, Element);\nzrUtil.mixin(Displayable, RectText); // zrUtil.mixin(Displayable, Stateful);\n\nvar _default = Displayable;\nmodule.exports = _default;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar textContain = __webpack_require__(5);\n\nvar numberUtil = __webpack_require__(9);\n\n/**\n * 每三位默认加,格式化\n * @param {string|number} x\n * @return {string}\n */\nfunction addCommas(x) {\n  if (isNaN(x)) {\n    return '-';\n  }\n\n  x = (x + '').split('.');\n  return x[0].replace(/(\\d{1,3})(?=(?:\\d{3})+(?!\\d))/g, '$1,') + (x.length > 1 ? '.' + x[1] : '');\n}\n/**\n * @param {string} str\n * @param {boolean} [upperCaseFirst=false]\n * @return {string} str\n */\n\n\nfunction toCamelCase(str, upperCaseFirst) {\n  str = (str || '').toLowerCase().replace(/-(.)/g, function (match, group1) {\n    return group1.toUpperCase();\n  });\n\n  if (upperCaseFirst && str) {\n    str = str.charAt(0).toUpperCase() + str.slice(1);\n  }\n\n  return str;\n}\n\nvar normalizeCssArray = zrUtil.normalizeCssArray;\n\nfunction encodeHTML(source) {\n  return String(source).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;').replace(/'/g, '&#39;');\n}\n\nvar TPL_VAR_ALIAS = ['a', 'b', 'c', 'd', 'e', 'f', 'g'];\n\nvar wrapVar = function (varName, seriesIdx) {\n  return '{' + varName + (seriesIdx == null ? '' : seriesIdx) + '}';\n};\n/**\n * Template formatter\n * @param {string} tpl\n * @param {Array.<Object>|Object} paramsList\n * @param {boolean} [encode=false]\n * @return {string}\n */\n\n\nfunction formatTpl(tpl, paramsList, encode) {\n  if (!zrUtil.isArray(paramsList)) {\n    paramsList = [paramsList];\n  }\n\n  var seriesLen = paramsList.length;\n\n  if (!seriesLen) {\n    return '';\n  }\n\n  var $vars = paramsList[0].$vars || [];\n\n  for (var i = 0; i < $vars.length; i++) {\n    var alias = TPL_VAR_ALIAS[i];\n    var val = wrapVar(alias, 0);\n    tpl = tpl.replace(wrapVar(alias), encode ? encodeHTML(val) : val);\n  }\n\n  for (var seriesIdx = 0; seriesIdx < seriesLen; seriesIdx++) {\n    for (var k = 0; k < $vars.length; k++) {\n      var val = paramsList[seriesIdx][$vars[k]];\n      tpl = tpl.replace(wrapVar(TPL_VAR_ALIAS[k], seriesIdx), encode ? encodeHTML(val) : val);\n    }\n  }\n\n  return tpl;\n}\n/**\n * simple Template formatter\n *\n * @param {string} tpl\n * @param {Object} param\n * @param {boolean} [encode=false]\n * @return {string}\n */\n\n\nfunction formatTplSimple(tpl, param, encode) {\n  zrUtil.each(param, function (value, key) {\n    tpl = tpl.replace('{' + key + '}', encode ? encodeHTML(value) : value);\n  });\n  return tpl;\n}\n/**\n * @param {string} color\n * @param {string} [extraCssText]\n * @return {string}\n */\n\n\nfunction getTooltipMarker(color, extraCssText) {\n  return color ? '<span style=\"display:inline-block;margin-right:5px;' + 'border-radius:10px;width:9px;height:9px;background-color:' + encodeHTML(color) + ';' + (extraCssText || '') + '\"></span>' : '';\n}\n/**\n * @param {string} str\n * @return {string}\n * @inner\n */\n\n\nvar s2d = function (str) {\n  return str < 10 ? '0' + str : str;\n};\n/**\n * ISO Date format\n * @param {string} tpl\n * @param {number} value\n * @param {boolean} [isUTC=false] Default in local time.\n *           see `module:echarts/scale/Time`\n *           and `module:echarts/util/number#parseDate`.\n * @inner\n */\n\n\nfunction formatTime(tpl, value, isUTC) {\n  if (tpl === 'week' || tpl === 'month' || tpl === 'quarter' || tpl === 'half-year' || tpl === 'year') {\n    tpl = 'MM-dd\\nyyyy';\n  }\n\n  var date = numberUtil.parseDate(value);\n  var utc = isUTC ? 'UTC' : '';\n  var y = date['get' + utc + 'FullYear']();\n  var M = date['get' + utc + 'Month']() + 1;\n  var d = date['get' + utc + 'Date']();\n  var h = date['get' + utc + 'Hours']();\n  var m = date['get' + utc + 'Minutes']();\n  var s = date['get' + utc + 'Seconds']();\n  tpl = tpl.replace('MM', s2d(M)).replace('M', M).replace('yyyy', y).replace('yy', y % 100).replace('dd', s2d(d)).replace('d', d).replace('hh', s2d(h)).replace('h', h).replace('mm', s2d(m)).replace('m', m).replace('ss', s2d(s)).replace('s', s);\n  return tpl;\n}\n/**\n * Capital first\n * @param {string} str\n * @return {string}\n */\n\n\nfunction capitalFirst(str) {\n  return str ? str.charAt(0).toUpperCase() + str.substr(1) : str;\n}\n\nvar truncateText = textContain.truncateText;\nvar getTextRect = textContain.getBoundingRect;\nexports.addCommas = addCommas;\nexports.toCamelCase = toCamelCase;\nexports.normalizeCssArray = normalizeCssArray;\nexports.encodeHTML = encodeHTML;\nexports.formatTpl = formatTpl;\nexports.formatTplSimple = formatTplSimple;\nexports.getTooltipMarker = getTooltipMarker;\nexports.formatTime = formatTime;\nexports.capitalFirst = capitalFirst;\nexports.truncateText = truncateText;\nexports.getTextRect = getTextRect;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports) {\n\n// Simple LRU cache use doubly linked list\n// @module zrender/core/LRU\n\n/**\n * Simple double linked list. Compared with array, it has O(1) remove operation.\n * @constructor\n */\nvar LinkedList = function () {\n  /**\n   * @type {module:zrender/core/LRU~Entry}\n   */\n  this.head = null;\n  /**\n   * @type {module:zrender/core/LRU~Entry}\n   */\n\n  this.tail = null;\n  this._len = 0;\n};\n\nvar linkedListProto = LinkedList.prototype;\n/**\n * Insert a new value at the tail\n * @param  {} val\n * @return {module:zrender/core/LRU~Entry}\n */\n\nlinkedListProto.insert = function (val) {\n  var entry = new Entry(val);\n  this.insertEntry(entry);\n  return entry;\n};\n/**\n * Insert an entry at the tail\n * @param  {module:zrender/core/LRU~Entry} entry\n */\n\n\nlinkedListProto.insertEntry = function (entry) {\n  if (!this.head) {\n    this.head = this.tail = entry;\n  } else {\n    this.tail.next = entry;\n    entry.prev = this.tail;\n    entry.next = null;\n    this.tail = entry;\n  }\n\n  this._len++;\n};\n/**\n * Remove entry.\n * @param  {module:zrender/core/LRU~Entry} entry\n */\n\n\nlinkedListProto.remove = function (entry) {\n  var prev = entry.prev;\n  var next = entry.next;\n\n  if (prev) {\n    prev.next = next;\n  } else {\n    // Is head\n    this.head = next;\n  }\n\n  if (next) {\n    next.prev = prev;\n  } else {\n    // Is tail\n    this.tail = prev;\n  }\n\n  entry.next = entry.prev = null;\n  this._len--;\n};\n/**\n * @return {number}\n */\n\n\nlinkedListProto.len = function () {\n  return this._len;\n};\n/**\n * Clear list\n */\n\n\nlinkedListProto.clear = function () {\n  this.head = this.tail = null;\n  this._len = 0;\n};\n/**\n * @constructor\n * @param {} val\n */\n\n\nvar Entry = function (val) {\n  /**\n   * @type {}\n   */\n  this.value = val;\n  /**\n   * @type {module:zrender/core/LRU~Entry}\n   */\n\n  this.next;\n  /**\n   * @type {module:zrender/core/LRU~Entry}\n   */\n\n  this.prev;\n};\n/**\n * LRU Cache\n * @constructor\n * @alias module:zrender/core/LRU\n */\n\n\nvar LRU = function (maxSize) {\n  this._list = new LinkedList();\n  this._map = {};\n  this._maxSize = maxSize || 10;\n  this._lastRemovedEntry = null;\n};\n\nvar LRUProto = LRU.prototype;\n/**\n * @param  {string} key\n * @param  {} value\n * @return {} Removed value\n */\n\nLRUProto.put = function (key, value) {\n  var list = this._list;\n  var map = this._map;\n  var removed = null;\n\n  if (map[key] == null) {\n    var len = list.len(); // Reuse last removed entry\n\n    var entry = this._lastRemovedEntry;\n\n    if (len >= this._maxSize && len > 0) {\n      // Remove the least recently used\n      var leastUsedEntry = list.head;\n      list.remove(leastUsedEntry);\n      delete map[leastUsedEntry.key];\n      removed = leastUsedEntry.value;\n      this._lastRemovedEntry = leastUsedEntry;\n    }\n\n    if (entry) {\n      entry.value = value;\n    } else {\n      entry = new Entry(value);\n    }\n\n    entry.key = key;\n    list.insertEntry(entry);\n    map[key] = entry;\n  }\n\n  return removed;\n};\n/**\n * @param  {string} key\n * @return {}\n */\n\n\nLRUProto.get = function (key) {\n  var entry = this._map[key];\n  var list = this._list;\n\n  if (entry != null) {\n    // Put the latest used entry in the tail\n    if (entry !== list.tail) {\n      list.remove(entry);\n      list.insertEntry(entry);\n    }\n\n    return entry.value;\n  }\n};\n/**\n * Clear the cache\n */\n\n\nLRUProto.clear = function () {\n  this._list.clear();\n\n  this._map = {};\n};\n\nvar _default = LRU;\nmodule.exports = _default;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports) {\n\n/**\n * echarts设备环境识别\n *\n * @desc echarts基于Canvas，纯Javascript图表库，提供直观，生动，可交互，可个性化定制的数据统计图表。\n * @author firede[firede@firede.us]\n * @desc thanks zepto.\n */\nvar env = {};\n\nif (typeof navigator === 'undefined') {\n  // In node\n  env = {\n    browser: {},\n    os: {},\n    node: true,\n    // Assume canvas is supported\n    canvasSupported: true,\n    svgSupported: true\n  };\n} else {\n  env = detect(navigator.userAgent);\n}\n\nvar _default = env; // Zepto.js\n// (c) 2010-2013 Thomas Fuchs\n// Zepto.js may be freely distributed under the MIT license.\n\nfunction detect(ua) {\n  var os = {};\n  var browser = {}; // var webkit = ua.match(/Web[kK]it[\\/]{0,1}([\\d.]+)/);\n  // var android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/);\n  // var ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n  // var ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n  // var iphone = !ipad && ua.match(/(iPhone\\sOS)\\s([\\d_]+)/);\n  // var webos = ua.match(/(webOS|hpwOS)[\\s\\/]([\\d.]+)/);\n  // var touchpad = webos && ua.match(/TouchPad/);\n  // var kindle = ua.match(/Kindle\\/([\\d.]+)/);\n  // var silk = ua.match(/Silk\\/([\\d._]+)/);\n  // var blackberry = ua.match(/(BlackBerry).*Version\\/([\\d.]+)/);\n  // var bb10 = ua.match(/(BB10).*Version\\/([\\d.]+)/);\n  // var rimtabletos = ua.match(/(RIM\\sTablet\\sOS)\\s([\\d.]+)/);\n  // var playbook = ua.match(/PlayBook/);\n  // var chrome = ua.match(/Chrome\\/([\\d.]+)/) || ua.match(/CriOS\\/([\\d.]+)/);\n\n  var firefox = ua.match(/Firefox\\/([\\d.]+)/); // var safari = webkit && ua.match(/Mobile\\//) && !chrome;\n  // var webview = ua.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/) && !chrome;\n\n  var ie = ua.match(/MSIE\\s([\\d.]+)/) // IE 11 Trident/7.0; rv:11.0\n  || ua.match(/Trident\\/.+?rv:(([\\d.]+))/);\n  var edge = ua.match(/Edge\\/([\\d.]+)/); // IE 12 and 12+\n\n  var weChat = /micromessenger/i.test(ua); // Todo: clean this up with a better OS/browser seperation:\n  // - discern (more) between multiple browsers on android\n  // - decide if kindle fire in silk mode is android or not\n  // - Firefox on Android doesn't specify the Android version\n  // - possibly devide in os, device and browser hashes\n  // if (browser.webkit = !!webkit) browser.version = webkit[1];\n  // if (android) os.android = true, os.version = android[2];\n  // if (iphone && !ipod) os.ios = os.iphone = true, os.version = iphone[2].replace(/_/g, '.');\n  // if (ipad) os.ios = os.ipad = true, os.version = ipad[2].replace(/_/g, '.');\n  // if (ipod) os.ios = os.ipod = true, os.version = ipod[3] ? ipod[3].replace(/_/g, '.') : null;\n  // if (webos) os.webos = true, os.version = webos[2];\n  // if (touchpad) os.touchpad = true;\n  // if (blackberry) os.blackberry = true, os.version = blackberry[2];\n  // if (bb10) os.bb10 = true, os.version = bb10[2];\n  // if (rimtabletos) os.rimtabletos = true, os.version = rimtabletos[2];\n  // if (playbook) browser.playbook = true;\n  // if (kindle) os.kindle = true, os.version = kindle[1];\n  // if (silk) browser.silk = true, browser.version = silk[1];\n  // if (!silk && os.android && ua.match(/Kindle Fire/)) browser.silk = true;\n  // if (chrome) browser.chrome = true, browser.version = chrome[1];\n\n  if (firefox) {\n    browser.firefox = true;\n    browser.version = firefox[1];\n  } // if (safari && (ua.match(/Safari/) || !!os.ios)) browser.safari = true;\n  // if (webview) browser.webview = true;\n\n\n  if (ie) {\n    browser.ie = true;\n    browser.version = ie[1];\n  }\n\n  if (edge) {\n    browser.edge = true;\n    browser.version = edge[1];\n  } // It is difficult to detect WeChat in Win Phone precisely, because ua can\n  // not be set on win phone. So we do not consider Win Phone.\n\n\n  if (weChat) {\n    browser.weChat = true;\n  } // os.tablet = !!(ipad || playbook || (android && !ua.match(/Mobile/)) ||\n  //     (firefox && ua.match(/Tablet/)) || (ie && !ua.match(/Phone/) && ua.match(/Touch/)));\n  // os.phone  = !!(!os.tablet && !os.ipod && (android || iphone || webos ||\n  //     (chrome && ua.match(/Android/)) || (chrome && ua.match(/CriOS\\/([\\d.]+)/)) ||\n  //     (firefox && ua.match(/Mobile/)) || (ie && ua.match(/Touch/))));\n\n\n  return {\n    browser: browser,\n    os: os,\n    node: false,\n    // 原生canvas支持，改极端点了\n    // canvasSupported : !(browser.ie && parseFloat(browser.version) < 9)\n    canvasSupported: !!document.createElement('canvas').getContext,\n    svgSupported: typeof SVGRect !== 'undefined',\n    // @see <http://stackoverflow.com/questions/4817029/whats-the-best-way-to-detect-a-touch-screen-device-using-javascript>\n    // works on most browsers\n    // IE10/11 does not support touch event, and MS Edge supports them but not by\n    // default, so we dont check navigator.maxTouchPoints for them here.\n    touchEventsSupported: 'ontouchstart' in window && !browser.ie && !browser.edge,\n    // <http://caniuse.com/#search=pointer%20event>.\n    pointerEventsSupported: 'onpointerdown' in window // Firefox supports pointer but not by default, only MS browsers are reliable on pointer\n    // events currently. So we dont use that on other browsers unless tested sufficiently.\n    // Although IE 10 supports pointer event, it use old style and is different from the\n    // standard. So we exclude that. (IE 10 is hardly used on touch device)\n    && (browser.edge || browser.ie && browser.version >= 11)\n  };\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar guid = __webpack_require__(41);\n\nvar Eventful = __webpack_require__(42);\n\nvar Transformable = __webpack_require__(17);\n\nvar Animatable = __webpack_require__(43);\n\nvar zrUtil = __webpack_require__(0);\n\n/**\n * @alias module:zrender/Element\n * @constructor\n * @extends {module:zrender/mixin/Animatable}\n * @extends {module:zrender/mixin/Transformable}\n * @extends {module:zrender/mixin/Eventful}\n */\nvar Element = function (opts) {\n  // jshint ignore:line\n  Transformable.call(this, opts);\n  Eventful.call(this, opts);\n  Animatable.call(this, opts);\n  /**\n   * 画布元素ID\n   * @type {string}\n   */\n\n  this.id = opts.id || guid();\n};\n\nElement.prototype = {\n  /**\n   * 元素类型\n   * Element type\n   * @type {string}\n   */\n  type: 'element',\n\n  /**\n   * 元素名字\n   * Element name\n   * @type {string}\n   */\n  name: '',\n\n  /**\n   * ZRender 实例对象，会在 element 添加到 zrender 实例中后自动赋值\n   * ZRender instance will be assigned when element is associated with zrender\n   * @name module:/zrender/Element#__zr\n   * @type {module:zrender/ZRender}\n   */\n  __zr: null,\n\n  /**\n   * 图形是否忽略，为true时忽略图形的绘制以及事件触发\n   * If ignore drawing and events of the element object\n   * @name module:/zrender/Element#ignore\n   * @type {boolean}\n   * @default false\n   */\n  ignore: false,\n\n  /**\n   * 用于裁剪的路径(shape)，所有 Group 内的路径在绘制时都会被这个路径裁剪\n   * 该路径会继承被裁减对象的变换\n   * @type {module:zrender/graphic/Path}\n   * @see http://www.w3.org/TR/2dcontext/#clipping-region\n   * @readOnly\n   */\n  clipPath: null,\n\n  /**\n   * Drift element\n   * @param  {number} dx dx on the global space\n   * @param  {number} dy dy on the global space\n   */\n  drift: function (dx, dy) {\n    switch (this.draggable) {\n      case 'horizontal':\n        dy = 0;\n        break;\n\n      case 'vertical':\n        dx = 0;\n        break;\n    }\n\n    var m = this.transform;\n\n    if (!m) {\n      m = this.transform = [1, 0, 0, 1, 0, 0];\n    }\n\n    m[4] += dx;\n    m[5] += dy;\n    this.decomposeTransform();\n    this.dirty(false);\n  },\n\n  /**\n   * Hook before update\n   */\n  beforeUpdate: function () {},\n\n  /**\n   * Hook after update\n   */\n  afterUpdate: function () {},\n\n  /**\n   * Update each frame\n   */\n  update: function () {\n    this.updateTransform();\n  },\n\n  /**\n   * @param  {Function} cb\n   * @param  {}   context\n   */\n  traverse: function (cb, context) {},\n\n  /**\n   * @protected\n   */\n  attrKV: function (key, value) {\n    if (key === 'position' || key === 'scale' || key === 'origin') {\n      // Copy the array\n      if (value) {\n        var target = this[key];\n\n        if (!target) {\n          target = this[key] = [];\n        }\n\n        target[0] = value[0];\n        target[1] = value[1];\n      }\n    } else {\n      this[key] = value;\n    }\n  },\n\n  /**\n   * Hide the element\n   */\n  hide: function () {\n    this.ignore = true;\n    this.__zr && this.__zr.refresh();\n  },\n\n  /**\n   * Show the element\n   */\n  show: function () {\n    this.ignore = false;\n    this.__zr && this.__zr.refresh();\n  },\n\n  /**\n   * @param {string|Object} key\n   * @param {*} value\n   */\n  attr: function (key, value) {\n    if (typeof key === 'string') {\n      this.attrKV(key, value);\n    } else if (zrUtil.isObject(key)) {\n      for (var name in key) {\n        if (key.hasOwnProperty(name)) {\n          this.attrKV(name, key[name]);\n        }\n      }\n    }\n\n    this.dirty(false);\n    return this;\n  },\n\n  /**\n   * @param {module:zrender/graphic/Path} clipPath\n   */\n  setClipPath: function (clipPath) {\n    var zr = this.__zr;\n\n    if (zr) {\n      clipPath.addSelfToZr(zr);\n    } // Remove previous clip path\n\n\n    if (this.clipPath && this.clipPath !== clipPath) {\n      this.removeClipPath();\n    }\n\n    this.clipPath = clipPath;\n    clipPath.__zr = zr;\n    clipPath.__clipTarget = this;\n    this.dirty(false);\n  },\n\n  /**\n   */\n  removeClipPath: function () {\n    var clipPath = this.clipPath;\n\n    if (clipPath) {\n      if (clipPath.__zr) {\n        clipPath.removeSelfFromZr(clipPath.__zr);\n      }\n\n      clipPath.__zr = null;\n      clipPath.__clipTarget = null;\n      this.clipPath = null;\n      this.dirty(false);\n    }\n  },\n\n  /**\n   * Add self from zrender instance.\n   * Not recursively because it will be invoked when element added to storage.\n   * @param {module:zrender/ZRender} zr\n   */\n  addSelfToZr: function (zr) {\n    this.__zr = zr; // 添加动画\n\n    var animators = this.animators;\n\n    if (animators) {\n      for (var i = 0; i < animators.length; i++) {\n        zr.animation.addAnimator(animators[i]);\n      }\n    }\n\n    if (this.clipPath) {\n      this.clipPath.addSelfToZr(zr);\n    }\n  },\n\n  /**\n   * Remove self from zrender instance.\n   * Not recursively because it will be invoked when element added to storage.\n   * @param {module:zrender/ZRender} zr\n   */\n  removeSelfFromZr: function (zr) {\n    this.__zr = null; // 移除动画\n\n    var animators = this.animators;\n\n    if (animators) {\n      for (var i = 0; i < animators.length; i++) {\n        zr.animation.removeAnimator(animators[i]);\n      }\n    }\n\n    if (this.clipPath) {\n      this.clipPath.removeSelfFromZr(zr);\n    }\n  }\n};\nzrUtil.mixin(Element, Animatable);\nzrUtil.mixin(Element, Transformable);\nzrUtil.mixin(Element, Eventful);\nvar _default = Element;\nmodule.exports = _default;\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar matrix = __webpack_require__(8);\n\nvar vector = __webpack_require__(2);\n\n/**\n * 提供变换扩展\n * @module zrender/mixin/Transformable\n * @author pissang (https://www.github.com/pissang)\n */\nvar mIdentity = matrix.identity;\nvar EPSILON = 5e-5;\n\nfunction isNotAroundZero(val) {\n  return val > EPSILON || val < -EPSILON;\n}\n/**\n * @alias module:zrender/mixin/Transformable\n * @constructor\n */\n\n\nvar Transformable = function (opts) {\n  opts = opts || {}; // If there are no given position, rotation, scale\n\n  if (!opts.position) {\n    /**\n     * 平移\n     * @type {Array.<number>}\n     * @default [0, 0]\n     */\n    this.position = [0, 0];\n  }\n\n  if (opts.rotation == null) {\n    /**\n     * 旋转\n     * @type {Array.<number>}\n     * @default 0\n     */\n    this.rotation = 0;\n  }\n\n  if (!opts.scale) {\n    /**\n     * 缩放\n     * @type {Array.<number>}\n     * @default [1, 1]\n     */\n    this.scale = [1, 1];\n  }\n  /**\n   * 旋转和缩放的原点\n   * @type {Array.<number>}\n   * @default null\n   */\n\n\n  this.origin = this.origin || null;\n};\n\nvar transformableProto = Transformable.prototype;\ntransformableProto.transform = null;\n/**\n * 判断是否需要有坐标变换\n * 如果有坐标变换, 则从position, rotation, scale以及父节点的transform计算出自身的transform矩阵\n */\n\ntransformableProto.needLocalTransform = function () {\n  return isNotAroundZero(this.rotation) || isNotAroundZero(this.position[0]) || isNotAroundZero(this.position[1]) || isNotAroundZero(this.scale[0] - 1) || isNotAroundZero(this.scale[1] - 1);\n};\n\ntransformableProto.updateTransform = function () {\n  var parent = this.parent;\n  var parentHasTransform = parent && parent.transform;\n  var needLocalTransform = this.needLocalTransform();\n  var m = this.transform;\n\n  if (!(needLocalTransform || parentHasTransform)) {\n    m && mIdentity(m);\n    return;\n  }\n\n  m = m || matrix.create();\n\n  if (needLocalTransform) {\n    this.getLocalTransform(m);\n  } else {\n    mIdentity(m);\n  } // 应用父节点变换\n\n\n  if (parentHasTransform) {\n    if (needLocalTransform) {\n      matrix.mul(m, parent.transform, m);\n    } else {\n      matrix.copy(m, parent.transform);\n    }\n  } // 保存这个变换矩阵\n\n\n  this.transform = m;\n  this.invTransform = this.invTransform || matrix.create();\n  matrix.invert(this.invTransform, m);\n};\n\ntransformableProto.getLocalTransform = function (m) {\n  return Transformable.getLocalTransform(this, m);\n};\n/**\n * 将自己的transform应用到context上\n * @param {CanvasRenderingContext2D} ctx\n */\n\n\ntransformableProto.setTransform = function (ctx) {\n  var m = this.transform;\n  var dpr = ctx.dpr || 1;\n\n  if (m) {\n    ctx.setTransform(dpr * m[0], dpr * m[1], dpr * m[2], dpr * m[3], dpr * m[4], dpr * m[5]);\n  } else {\n    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\n  }\n};\n\ntransformableProto.restoreTransform = function (ctx) {\n  var dpr = ctx.dpr || 1;\n  ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\n};\n\nvar tmpTransform = [];\n/**\n * 分解`transform`矩阵到`position`, `rotation`, `scale`\n */\n\ntransformableProto.decomposeTransform = function () {\n  if (!this.transform) {\n    return;\n  }\n\n  var parent = this.parent;\n  var m = this.transform;\n\n  if (parent && parent.transform) {\n    // Get local transform and decompose them to position, scale, rotation\n    matrix.mul(tmpTransform, parent.invTransform, m);\n    m = tmpTransform;\n  }\n\n  var sx = m[0] * m[0] + m[1] * m[1];\n  var sy = m[2] * m[2] + m[3] * m[3];\n  var position = this.position;\n  var scale = this.scale;\n\n  if (isNotAroundZero(sx - 1)) {\n    sx = Math.sqrt(sx);\n  }\n\n  if (isNotAroundZero(sy - 1)) {\n    sy = Math.sqrt(sy);\n  }\n\n  if (m[0] < 0) {\n    sx = -sx;\n  }\n\n  if (m[3] < 0) {\n    sy = -sy;\n  }\n\n  position[0] = m[4];\n  position[1] = m[5];\n  scale[0] = sx;\n  scale[1] = sy;\n  this.rotation = Math.atan2(-m[1] / sy, m[0] / sx);\n};\n/**\n * Get global scale\n * @return {Array.<number>}\n */\n\n\ntransformableProto.getGlobalScale = function () {\n  var m = this.transform;\n\n  if (!m) {\n    return [1, 1];\n  }\n\n  var sx = Math.sqrt(m[0] * m[0] + m[1] * m[1]);\n  var sy = Math.sqrt(m[2] * m[2] + m[3] * m[3]);\n\n  if (m[0] < 0) {\n    sx = -sx;\n  }\n\n  if (m[3] < 0) {\n    sy = -sy;\n  }\n\n  return [sx, sy];\n};\n/**\n * 变换坐标位置到 shape 的局部坐标空间\n * @method\n * @param {number} x\n * @param {number} y\n * @return {Array.<number>}\n */\n\n\ntransformableProto.transformCoordToLocal = function (x, y) {\n  var v2 = [x, y];\n  var invTransform = this.invTransform;\n\n  if (invTransform) {\n    vector.applyTransform(v2, v2, invTransform);\n  }\n\n  return v2;\n};\n/**\n * 变换局部坐标位置到全局坐标空间\n * @method\n * @param {number} x\n * @param {number} y\n * @return {Array.<number>}\n */\n\n\ntransformableProto.transformCoordToGlobal = function (x, y) {\n  var v2 = [x, y];\n  var transform = this.transform;\n\n  if (transform) {\n    vector.applyTransform(v2, v2, transform);\n  }\n\n  return v2;\n};\n/**\n * @static\n * @param {Object} target\n * @param {Array.<number>} target.origin\n * @param {number} target.rotation\n * @param {Array.<number>} target.position\n * @param {Array.<number>} [m]\n */\n\n\nTransformable.getLocalTransform = function (target, m) {\n  m = m || [];\n  mIdentity(m);\n  var origin = target.origin;\n  var scale = target.scale || [1, 1];\n  var rotation = target.rotation || 0;\n  var position = target.position || [0, 0];\n\n  if (origin) {\n    // Translate to origin\n    m[4] -= origin[0];\n    m[5] -= origin[1];\n  }\n\n  matrix.scale(m, m, scale);\n\n  if (rotation) {\n    matrix.rotate(m, m, rotation);\n  }\n\n  if (origin) {\n    // Translate back from origin\n    m[4] += origin[0];\n    m[5] += origin[1];\n  }\n\n  m[4] += position[0];\n  m[5] += position[1];\n  return m;\n};\n\nvar _default = Transformable;\nmodule.exports = _default;\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar LRU = __webpack_require__(14);\n\nvar kCSSColorTable = {\n  'transparent': [0, 0, 0, 0],\n  'aliceblue': [240, 248, 255, 1],\n  'antiquewhite': [250, 235, 215, 1],\n  'aqua': [0, 255, 255, 1],\n  'aquamarine': [127, 255, 212, 1],\n  'azure': [240, 255, 255, 1],\n  'beige': [245, 245, 220, 1],\n  'bisque': [255, 228, 196, 1],\n  'black': [0, 0, 0, 1],\n  'blanchedalmond': [255, 235, 205, 1],\n  'blue': [0, 0, 255, 1],\n  'blueviolet': [138, 43, 226, 1],\n  'brown': [165, 42, 42, 1],\n  'burlywood': [222, 184, 135, 1],\n  'cadetblue': [95, 158, 160, 1],\n  'chartreuse': [127, 255, 0, 1],\n  'chocolate': [210, 105, 30, 1],\n  'coral': [255, 127, 80, 1],\n  'cornflowerblue': [100, 149, 237, 1],\n  'cornsilk': [255, 248, 220, 1],\n  'crimson': [220, 20, 60, 1],\n  'cyan': [0, 255, 255, 1],\n  'darkblue': [0, 0, 139, 1],\n  'darkcyan': [0, 139, 139, 1],\n  'darkgoldenrod': [184, 134, 11, 1],\n  'darkgray': [169, 169, 169, 1],\n  'darkgreen': [0, 100, 0, 1],\n  'darkgrey': [169, 169, 169, 1],\n  'darkkhaki': [189, 183, 107, 1],\n  'darkmagenta': [139, 0, 139, 1],\n  'darkolivegreen': [85, 107, 47, 1],\n  'darkorange': [255, 140, 0, 1],\n  'darkorchid': [153, 50, 204, 1],\n  'darkred': [139, 0, 0, 1],\n  'darksalmon': [233, 150, 122, 1],\n  'darkseagreen': [143, 188, 143, 1],\n  'darkslateblue': [72, 61, 139, 1],\n  'darkslategray': [47, 79, 79, 1],\n  'darkslategrey': [47, 79, 79, 1],\n  'darkturquoise': [0, 206, 209, 1],\n  'darkviolet': [148, 0, 211, 1],\n  'deeppink': [255, 20, 147, 1],\n  'deepskyblue': [0, 191, 255, 1],\n  'dimgray': [105, 105, 105, 1],\n  'dimgrey': [105, 105, 105, 1],\n  'dodgerblue': [30, 144, 255, 1],\n  'firebrick': [178, 34, 34, 1],\n  'floralwhite': [255, 250, 240, 1],\n  'forestgreen': [34, 139, 34, 1],\n  'fuchsia': [255, 0, 255, 1],\n  'gainsboro': [220, 220, 220, 1],\n  'ghostwhite': [248, 248, 255, 1],\n  'gold': [255, 215, 0, 1],\n  'goldenrod': [218, 165, 32, 1],\n  'gray': [128, 128, 128, 1],\n  'green': [0, 128, 0, 1],\n  'greenyellow': [173, 255, 47, 1],\n  'grey': [128, 128, 128, 1],\n  'honeydew': [240, 255, 240, 1],\n  'hotpink': [255, 105, 180, 1],\n  'indianred': [205, 92, 92, 1],\n  'indigo': [75, 0, 130, 1],\n  'ivory': [255, 255, 240, 1],\n  'khaki': [240, 230, 140, 1],\n  'lavender': [230, 230, 250, 1],\n  'lavenderblush': [255, 240, 245, 1],\n  'lawngreen': [124, 252, 0, 1],\n  'lemonchiffon': [255, 250, 205, 1],\n  'lightblue': [173, 216, 230, 1],\n  'lightcoral': [240, 128, 128, 1],\n  'lightcyan': [224, 255, 255, 1],\n  'lightgoldenrodyellow': [250, 250, 210, 1],\n  'lightgray': [211, 211, 211, 1],\n  'lightgreen': [144, 238, 144, 1],\n  'lightgrey': [211, 211, 211, 1],\n  'lightpink': [255, 182, 193, 1],\n  'lightsalmon': [255, 160, 122, 1],\n  'lightseagreen': [32, 178, 170, 1],\n  'lightskyblue': [135, 206, 250, 1],\n  'lightslategray': [119, 136, 153, 1],\n  'lightslategrey': [119, 136, 153, 1],\n  'lightsteelblue': [176, 196, 222, 1],\n  'lightyellow': [255, 255, 224, 1],\n  'lime': [0, 255, 0, 1],\n  'limegreen': [50, 205, 50, 1],\n  'linen': [250, 240, 230, 1],\n  'magenta': [255, 0, 255, 1],\n  'maroon': [128, 0, 0, 1],\n  'mediumaquamarine': [102, 205, 170, 1],\n  'mediumblue': [0, 0, 205, 1],\n  'mediumorchid': [186, 85, 211, 1],\n  'mediumpurple': [147, 112, 219, 1],\n  'mediumseagreen': [60, 179, 113, 1],\n  'mediumslateblue': [123, 104, 238, 1],\n  'mediumspringgreen': [0, 250, 154, 1],\n  'mediumturquoise': [72, 209, 204, 1],\n  'mediumvioletred': [199, 21, 133, 1],\n  'midnightblue': [25, 25, 112, 1],\n  'mintcream': [245, 255, 250, 1],\n  'mistyrose': [255, 228, 225, 1],\n  'moccasin': [255, 228, 181, 1],\n  'navajowhite': [255, 222, 173, 1],\n  'navy': [0, 0, 128, 1],\n  'oldlace': [253, 245, 230, 1],\n  'olive': [128, 128, 0, 1],\n  'olivedrab': [107, 142, 35, 1],\n  'orange': [255, 165, 0, 1],\n  'orangered': [255, 69, 0, 1],\n  'orchid': [218, 112, 214, 1],\n  'palegoldenrod': [238, 232, 170, 1],\n  'palegreen': [152, 251, 152, 1],\n  'paleturquoise': [175, 238, 238, 1],\n  'palevioletred': [219, 112, 147, 1],\n  'papayawhip': [255, 239, 213, 1],\n  'peachpuff': [255, 218, 185, 1],\n  'peru': [205, 133, 63, 1],\n  'pink': [255, 192, 203, 1],\n  'plum': [221, 160, 221, 1],\n  'powderblue': [176, 224, 230, 1],\n  'purple': [128, 0, 128, 1],\n  'red': [255, 0, 0, 1],\n  'rosybrown': [188, 143, 143, 1],\n  'royalblue': [65, 105, 225, 1],\n  'saddlebrown': [139, 69, 19, 1],\n  'salmon': [250, 128, 114, 1],\n  'sandybrown': [244, 164, 96, 1],\n  'seagreen': [46, 139, 87, 1],\n  'seashell': [255, 245, 238, 1],\n  'sienna': [160, 82, 45, 1],\n  'silver': [192, 192, 192, 1],\n  'skyblue': [135, 206, 235, 1],\n  'slateblue': [106, 90, 205, 1],\n  'slategray': [112, 128, 144, 1],\n  'slategrey': [112, 128, 144, 1],\n  'snow': [255, 250, 250, 1],\n  'springgreen': [0, 255, 127, 1],\n  'steelblue': [70, 130, 180, 1],\n  'tan': [210, 180, 140, 1],\n  'teal': [0, 128, 128, 1],\n  'thistle': [216, 191, 216, 1],\n  'tomato': [255, 99, 71, 1],\n  'turquoise': [64, 224, 208, 1],\n  'violet': [238, 130, 238, 1],\n  'wheat': [245, 222, 179, 1],\n  'white': [255, 255, 255, 1],\n  'whitesmoke': [245, 245, 245, 1],\n  'yellow': [255, 255, 0, 1],\n  'yellowgreen': [154, 205, 50, 1]\n};\n\nfunction clampCssByte(i) {\n  // Clamp to integer 0 .. 255.\n  i = Math.round(i); // Seems to be what Chrome does (vs truncation).\n\n  return i < 0 ? 0 : i > 255 ? 255 : i;\n}\n\nfunction clampCssAngle(i) {\n  // Clamp to integer 0 .. 360.\n  i = Math.round(i); // Seems to be what Chrome does (vs truncation).\n\n  return i < 0 ? 0 : i > 360 ? 360 : i;\n}\n\nfunction clampCssFloat(f) {\n  // Clamp to float 0.0 .. 1.0.\n  return f < 0 ? 0 : f > 1 ? 1 : f;\n}\n\nfunction parseCssInt(str) {\n  // int or percentage.\n  if (str.length && str.charAt(str.length - 1) === '%') {\n    return clampCssByte(parseFloat(str) / 100 * 255);\n  }\n\n  return clampCssByte(parseInt(str, 10));\n}\n\nfunction parseCssFloat(str) {\n  // float or percentage.\n  if (str.length && str.charAt(str.length - 1) === '%') {\n    return clampCssFloat(parseFloat(str) / 100);\n  }\n\n  return clampCssFloat(parseFloat(str));\n}\n\nfunction cssHueToRgb(m1, m2, h) {\n  if (h < 0) {\n    h += 1;\n  } else if (h > 1) {\n    h -= 1;\n  }\n\n  if (h * 6 < 1) {\n    return m1 + (m2 - m1) * h * 6;\n  }\n\n  if (h * 2 < 1) {\n    return m2;\n  }\n\n  if (h * 3 < 2) {\n    return m1 + (m2 - m1) * (2 / 3 - h) * 6;\n  }\n\n  return m1;\n}\n\nfunction lerpNumber(a, b, p) {\n  return a + (b - a) * p;\n}\n\nfunction setRgba(out, r, g, b, a) {\n  out[0] = r;\n  out[1] = g;\n  out[2] = b;\n  out[3] = a;\n  return out;\n}\n\nfunction copyRgba(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n\nvar colorCache = new LRU(20);\nvar lastRemovedArr = null;\n\nfunction putToCache(colorStr, rgbaArr) {\n  // Reuse removed array\n  if (lastRemovedArr) {\n    copyRgba(lastRemovedArr, rgbaArr);\n  }\n\n  lastRemovedArr = colorCache.put(colorStr, lastRemovedArr || rgbaArr.slice());\n}\n/**\n * @param {string} colorStr\n * @param {Array.<number>} out\n * @return {Array.<number>}\n * @memberOf module:zrender/util/color\n */\n\n\nfunction parse(colorStr, rgbaArr) {\n  if (!colorStr) {\n    return;\n  }\n\n  rgbaArr = rgbaArr || [];\n  var cached = colorCache.get(colorStr);\n\n  if (cached) {\n    return copyRgba(rgbaArr, cached);\n  } // colorStr may be not string\n\n\n  colorStr = colorStr + ''; // Remove all whitespace, not compliant, but should just be more accepting.\n\n  var str = colorStr.replace(/ /g, '').toLowerCase(); // Color keywords (and transparent) lookup.\n\n  if (str in kCSSColorTable) {\n    copyRgba(rgbaArr, kCSSColorTable[str]);\n    putToCache(colorStr, rgbaArr);\n    return rgbaArr;\n  } // #abc and #abc123 syntax.\n\n\n  if (str.charAt(0) === '#') {\n    if (str.length === 4) {\n      var iv = parseInt(str.substr(1), 16); // TODO(deanm): Stricter parsing.\n\n      if (!(iv >= 0 && iv <= 0xfff)) {\n        setRgba(rgbaArr, 0, 0, 0, 1);\n        return; // Covers NaN.\n      }\n\n      setRgba(rgbaArr, (iv & 0xf00) >> 4 | (iv & 0xf00) >> 8, iv & 0xf0 | (iv & 0xf0) >> 4, iv & 0xf | (iv & 0xf) << 4, 1);\n      putToCache(colorStr, rgbaArr);\n      return rgbaArr;\n    } else if (str.length === 7) {\n      var iv = parseInt(str.substr(1), 16); // TODO(deanm): Stricter parsing.\n\n      if (!(iv >= 0 && iv <= 0xffffff)) {\n        setRgba(rgbaArr, 0, 0, 0, 1);\n        return; // Covers NaN.\n      }\n\n      setRgba(rgbaArr, (iv & 0xff0000) >> 16, (iv & 0xff00) >> 8, iv & 0xff, 1);\n      putToCache(colorStr, rgbaArr);\n      return rgbaArr;\n    }\n\n    return;\n  }\n\n  var op = str.indexOf('('),\n      ep = str.indexOf(')');\n\n  if (op !== -1 && ep + 1 === str.length) {\n    var fname = str.substr(0, op);\n    var params = str.substr(op + 1, ep - (op + 1)).split(',');\n    var alpha = 1; // To allow case fallthrough.\n\n    switch (fname) {\n      case 'rgba':\n        if (params.length !== 4) {\n          setRgba(rgbaArr, 0, 0, 0, 1);\n          return;\n        }\n\n        alpha = parseCssFloat(params.pop());\n      // jshint ignore:line\n      // Fall through.\n\n      case 'rgb':\n        if (params.length !== 3) {\n          setRgba(rgbaArr, 0, 0, 0, 1);\n          return;\n        }\n\n        setRgba(rgbaArr, parseCssInt(params[0]), parseCssInt(params[1]), parseCssInt(params[2]), alpha);\n        putToCache(colorStr, rgbaArr);\n        return rgbaArr;\n\n      case 'hsla':\n        if (params.length !== 4) {\n          setRgba(rgbaArr, 0, 0, 0, 1);\n          return;\n        }\n\n        params[3] = parseCssFloat(params[3]);\n        hsla2rgba(params, rgbaArr);\n        putToCache(colorStr, rgbaArr);\n        return rgbaArr;\n\n      case 'hsl':\n        if (params.length !== 3) {\n          setRgba(rgbaArr, 0, 0, 0, 1);\n          return;\n        }\n\n        hsla2rgba(params, rgbaArr);\n        putToCache(colorStr, rgbaArr);\n        return rgbaArr;\n\n      default:\n        return;\n    }\n  }\n\n  setRgba(rgbaArr, 0, 0, 0, 1);\n  return;\n}\n/**\n * @param {Array.<number>} hsla\n * @param {Array.<number>} rgba\n * @return {Array.<number>} rgba\n */\n\n\nfunction hsla2rgba(hsla, rgba) {\n  var h = (parseFloat(hsla[0]) % 360 + 360) % 360 / 360; // 0 .. 1\n  // NOTE(deanm): According to the CSS spec s/l should only be\n  // percentages, but we don't bother and let float or percentage.\n\n  var s = parseCssFloat(hsla[1]);\n  var l = parseCssFloat(hsla[2]);\n  var m2 = l <= 0.5 ? l * (s + 1) : l + s - l * s;\n  var m1 = l * 2 - m2;\n  rgba = rgba || [];\n  setRgba(rgba, clampCssByte(cssHueToRgb(m1, m2, h + 1 / 3) * 255), clampCssByte(cssHueToRgb(m1, m2, h) * 255), clampCssByte(cssHueToRgb(m1, m2, h - 1 / 3) * 255), 1);\n\n  if (hsla.length === 4) {\n    rgba[3] = hsla[3];\n  }\n\n  return rgba;\n}\n/**\n * @param {Array.<number>} rgba\n * @return {Array.<number>} hsla\n */\n\n\nfunction rgba2hsla(rgba) {\n  if (!rgba) {\n    return;\n  } // RGB from 0 to 255\n\n\n  var R = rgba[0] / 255;\n  var G = rgba[1] / 255;\n  var B = rgba[2] / 255;\n  var vMin = Math.min(R, G, B); // Min. value of RGB\n\n  var vMax = Math.max(R, G, B); // Max. value of RGB\n\n  var delta = vMax - vMin; // Delta RGB value\n\n  var L = (vMax + vMin) / 2;\n  var H;\n  var S; // HSL results from 0 to 1\n\n  if (delta === 0) {\n    H = 0;\n    S = 0;\n  } else {\n    if (L < 0.5) {\n      S = delta / (vMax + vMin);\n    } else {\n      S = delta / (2 - vMax - vMin);\n    }\n\n    var deltaR = ((vMax - R) / 6 + delta / 2) / delta;\n    var deltaG = ((vMax - G) / 6 + delta / 2) / delta;\n    var deltaB = ((vMax - B) / 6 + delta / 2) / delta;\n\n    if (R === vMax) {\n      H = deltaB - deltaG;\n    } else if (G === vMax) {\n      H = 1 / 3 + deltaR - deltaB;\n    } else if (B === vMax) {\n      H = 2 / 3 + deltaG - deltaR;\n    }\n\n    if (H < 0) {\n      H += 1;\n    }\n\n    if (H > 1) {\n      H -= 1;\n    }\n  }\n\n  var hsla = [H * 360, S, L];\n\n  if (rgba[3] != null) {\n    hsla.push(rgba[3]);\n  }\n\n  return hsla;\n}\n/**\n * @param {string} color\n * @param {number} level\n * @return {string}\n * @memberOf module:zrender/util/color\n */\n\n\nfunction lift(color, level) {\n  var colorArr = parse(color);\n\n  if (colorArr) {\n    for (var i = 0; i < 3; i++) {\n      if (level < 0) {\n        colorArr[i] = colorArr[i] * (1 - level) | 0;\n      } else {\n        colorArr[i] = (255 - colorArr[i]) * level + colorArr[i] | 0;\n      }\n    }\n\n    return stringify(colorArr, colorArr.length === 4 ? 'rgba' : 'rgb');\n  }\n}\n/**\n * @param {string} color\n * @return {string}\n * @memberOf module:zrender/util/color\n */\n\n\nfunction toHex(color) {\n  var colorArr = parse(color);\n\n  if (colorArr) {\n    return ((1 << 24) + (colorArr[0] << 16) + (colorArr[1] << 8) + +colorArr[2]).toString(16).slice(1);\n  }\n}\n/**\n * Map value to color. Faster than lerp methods because color is represented by rgba array.\n * @param {number} normalizedValue A float between 0 and 1.\n * @param {Array.<Array.<number>>} colors List of rgba color array\n * @param {Array.<number>} [out] Mapped gba color array\n * @return {Array.<number>} will be null/undefined if input illegal.\n */\n\n\nfunction fastLerp(normalizedValue, colors, out) {\n  if (!(colors && colors.length) || !(normalizedValue >= 0 && normalizedValue <= 1)) {\n    return;\n  }\n\n  out = out || [];\n  var value = normalizedValue * (colors.length - 1);\n  var leftIndex = Math.floor(value);\n  var rightIndex = Math.ceil(value);\n  var leftColor = colors[leftIndex];\n  var rightColor = colors[rightIndex];\n  var dv = value - leftIndex;\n  out[0] = clampCssByte(lerpNumber(leftColor[0], rightColor[0], dv));\n  out[1] = clampCssByte(lerpNumber(leftColor[1], rightColor[1], dv));\n  out[2] = clampCssByte(lerpNumber(leftColor[2], rightColor[2], dv));\n  out[3] = clampCssFloat(lerpNumber(leftColor[3], rightColor[3], dv));\n  return out;\n}\n/**\n * @deprecated\n */\n\n\nvar fastMapToColor = fastLerp;\n/**\n * @param {number} normalizedValue A float between 0 and 1.\n * @param {Array.<string>} colors Color list.\n * @param {boolean=} fullOutput Default false.\n * @return {(string|Object)} Result color. If fullOutput,\n *                           return {color: ..., leftIndex: ..., rightIndex: ..., value: ...},\n * @memberOf module:zrender/util/color\n */\n\nfunction lerp(normalizedValue, colors, fullOutput) {\n  if (!(colors && colors.length) || !(normalizedValue >= 0 && normalizedValue <= 1)) {\n    return;\n  }\n\n  var value = normalizedValue * (colors.length - 1);\n  var leftIndex = Math.floor(value);\n  var rightIndex = Math.ceil(value);\n  var leftColor = parse(colors[leftIndex]);\n  var rightColor = parse(colors[rightIndex]);\n  var dv = value - leftIndex;\n  var color = stringify([clampCssByte(lerpNumber(leftColor[0], rightColor[0], dv)), clampCssByte(lerpNumber(leftColor[1], rightColor[1], dv)), clampCssByte(lerpNumber(leftColor[2], rightColor[2], dv)), clampCssFloat(lerpNumber(leftColor[3], rightColor[3], dv))], 'rgba');\n  return fullOutput ? {\n    color: color,\n    leftIndex: leftIndex,\n    rightIndex: rightIndex,\n    value: value\n  } : color;\n}\n/**\n * @deprecated\n */\n\n\nvar mapToColor = lerp;\n/**\n * @param {string} color\n * @param {number=} h 0 ~ 360, ignore when null.\n * @param {number=} s 0 ~ 1, ignore when null.\n * @param {number=} l 0 ~ 1, ignore when null.\n * @return {string} Color string in rgba format.\n * @memberOf module:zrender/util/color\n */\n\nfunction modifyHSL(color, h, s, l) {\n  color = parse(color);\n\n  if (color) {\n    color = rgba2hsla(color);\n    h != null && (color[0] = clampCssAngle(h));\n    s != null && (color[1] = parseCssFloat(s));\n    l != null && (color[2] = parseCssFloat(l));\n    return stringify(hsla2rgba(color), 'rgba');\n  }\n}\n/**\n * @param {string} color\n * @param {number=} alpha 0 ~ 1\n * @return {string} Color string in rgba format.\n * @memberOf module:zrender/util/color\n */\n\n\nfunction modifyAlpha(color, alpha) {\n  color = parse(color);\n\n  if (color && alpha != null) {\n    color[3] = clampCssFloat(alpha);\n    return stringify(color, 'rgba');\n  }\n}\n/**\n * @param {Array.<number>} arrColor like [12,33,44,0.4]\n * @param {string} type 'rgba', 'hsva', ...\n * @return {string} Result color. (If input illegal, return undefined).\n */\n\n\nfunction stringify(arrColor, type) {\n  if (!arrColor || !arrColor.length) {\n    return;\n  }\n\n  var colorStr = arrColor[0] + ',' + arrColor[1] + ',' + arrColor[2];\n\n  if (type === 'rgba' || type === 'hsva' || type === 'hsla') {\n    colorStr += ',' + arrColor[3];\n  }\n\n  return type + '(' + colorStr + ')';\n}\n\nexports.parse = parse;\nexports.lift = lift;\nexports.toHex = toHex;\nexports.fastLerp = fastLerp;\nexports.fastMapToColor = fastMapToColor;\nexports.lerp = lerp;\nexports.mapToColor = mapToColor;\nexports.modifyHSL = modifyHSL;\nexports.modifyAlpha = modifyAlpha;\nexports.stringify = stringify;\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports) {\n\nvar dpr = 1; // If in browser environment\n\nif (typeof window !== 'undefined') {\n  dpr = Math.max(window.devicePixelRatio || 1, 1);\n}\n/**\n * config默认配置项\n * @exports zrender/config\n * @author Kener (@Kener-林峰, kener.linfeng@gmail.com)\n */\n\n/**\n * debug日志选项：catchBrushException为true下有效\n * 0 : 不生成debug数据，发布用\n * 1 : 异常抛出，调试用\n * 2 : 控制台输出，调试用\n */\n\n\nvar debugMode = 0; // retina 屏幕优化\n\nvar devicePixelRatio = dpr;\nexports.debugMode = debugMode;\nexports.devicePixelRatio = devicePixelRatio;\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _util = __webpack_require__(0);\n\nvar retrieve2 = _util.retrieve2;\nvar retrieve3 = _util.retrieve3;\nvar each = _util.each;\nvar normalizeCssArray = _util.normalizeCssArray;\nvar isString = _util.isString;\nvar isObject = _util.isObject;\n\nvar textContain = __webpack_require__(5);\n\nvar roundRectHelper = __webpack_require__(21);\n\nvar imageHelper = __webpack_require__(10);\n\n// TODO: Have not support 'start', 'end' yet.\nvar VALID_TEXT_ALIGN = {\n  left: 1,\n  right: 1,\n  center: 1\n};\nvar VALID_TEXT_VERTICAL_ALIGN = {\n  top: 1,\n  bottom: 1,\n  middle: 1\n};\n/**\n * @param {module:zrender/graphic/Style} style\n * @return {module:zrender/graphic/Style} The input style.\n */\n\nfunction normalizeTextStyle(style) {\n  normalizeStyle(style);\n  each(style.rich, normalizeStyle);\n  return style;\n}\n\nfunction normalizeStyle(style) {\n  if (style) {\n    style.font = textContain.makeFont(style);\n    var textAlign = style.textAlign;\n    textAlign === 'middle' && (textAlign = 'center');\n    style.textAlign = textAlign == null || VALID_TEXT_ALIGN[textAlign] ? textAlign : 'left'; // Compatible with textBaseline.\n\n    var textVerticalAlign = style.textVerticalAlign || style.textBaseline;\n    textVerticalAlign === 'center' && (textVerticalAlign = 'middle');\n    style.textVerticalAlign = textVerticalAlign == null || VALID_TEXT_VERTICAL_ALIGN[textVerticalAlign] ? textVerticalAlign : 'top';\n    var textPadding = style.textPadding;\n\n    if (textPadding) {\n      style.textPadding = normalizeCssArray(style.textPadding);\n    }\n  }\n}\n/**\n * @param {CanvasRenderingContext2D} ctx\n * @param {string} text\n * @param {module:zrender/graphic/Style} style\n * @param {Object|boolean} [rect] {x, y, width, height}\n *                  If set false, rect text is not used.\n */\n\n\nfunction renderText(hostEl, ctx, text, style, rect) {\n  style.rich ? renderRichText(hostEl, ctx, text, style, rect) : renderPlainText(hostEl, ctx, text, style, rect);\n}\n\nfunction renderPlainText(hostEl, ctx, text, style, rect) {\n  var font = setCtx(ctx, 'font', style.font || textContain.DEFAULT_FONT);\n  var textPadding = style.textPadding;\n  var contentBlock = hostEl.__textCotentBlock;\n\n  if (!contentBlock || hostEl.__dirty) {\n    contentBlock = hostEl.__textCotentBlock = textContain.parsePlainText(text, font, textPadding, style.truncate);\n  }\n\n  var outerHeight = contentBlock.outerHeight;\n  var textLines = contentBlock.lines;\n  var lineHeight = contentBlock.lineHeight;\n  var boxPos = getBoxPosition(outerHeight, style, rect);\n  var baseX = boxPos.baseX;\n  var baseY = boxPos.baseY;\n  var textAlign = boxPos.textAlign;\n  var textVerticalAlign = boxPos.textVerticalAlign; // Origin of textRotation should be the base point of text drawing.\n\n  applyTextRotation(ctx, style, rect, baseX, baseY);\n  var boxY = textContain.adjustTextY(baseY, outerHeight, textVerticalAlign);\n  var textX = baseX;\n  var textY = boxY;\n  var needDrawBg = needDrawBackground(style);\n\n  if (needDrawBg || textPadding) {\n    // Consider performance, do not call getTextWidth util necessary.\n    var textWidth = textContain.getWidth(text, font);\n    var outerWidth = textWidth;\n    textPadding && (outerWidth += textPadding[1] + textPadding[3]);\n    var boxX = textContain.adjustTextX(baseX, outerWidth, textAlign);\n    needDrawBg && drawBackground(hostEl, ctx, style, boxX, boxY, outerWidth, outerHeight);\n\n    if (textPadding) {\n      textX = getTextXForPadding(baseX, textAlign, textPadding);\n      textY += textPadding[0];\n    }\n  }\n\n  setCtx(ctx, 'textAlign', textAlign || 'left'); // Force baseline to be \"middle\". Otherwise, if using \"top\", the\n  // text will offset downward a little bit in font \"Microsoft YaHei\".\n\n  setCtx(ctx, 'textBaseline', 'middle'); // Always set shadowBlur and shadowOffset to avoid leak from displayable.\n\n  setCtx(ctx, 'shadowBlur', style.textShadowBlur || 0);\n  setCtx(ctx, 'shadowColor', style.textShadowColor || 'transparent');\n  setCtx(ctx, 'shadowOffsetX', style.textShadowOffsetX || 0);\n  setCtx(ctx, 'shadowOffsetY', style.textShadowOffsetY || 0); // `textBaseline` is set as 'middle'.\n\n  textY += lineHeight / 2;\n  var textStrokeWidth = style.textStrokeWidth;\n  var textStroke = getStroke(style.textStroke, textStrokeWidth);\n  var textFill = getFill(style.textFill);\n\n  if (textStroke) {\n    setCtx(ctx, 'lineWidth', textStrokeWidth);\n    setCtx(ctx, 'strokeStyle', textStroke);\n  }\n\n  if (textFill) {\n    setCtx(ctx, 'fillStyle', textFill);\n  }\n\n  for (var i = 0; i < textLines.length; i++) {\n    // Fill after stroke so the outline will not cover the main part.\n    textStroke && ctx.strokeText(textLines[i], textX, textY);\n    textFill && ctx.fillText(textLines[i], textX, textY);\n    textY += lineHeight;\n  }\n}\n\nfunction renderRichText(hostEl, ctx, text, style, rect) {\n  var contentBlock = hostEl.__textCotentBlock;\n\n  if (!contentBlock || hostEl.__dirty) {\n    contentBlock = hostEl.__textCotentBlock = textContain.parseRichText(text, style);\n  }\n\n  drawRichText(hostEl, ctx, contentBlock, style, rect);\n}\n\nfunction drawRichText(hostEl, ctx, contentBlock, style, rect) {\n  var contentWidth = contentBlock.width;\n  var outerWidth = contentBlock.outerWidth;\n  var outerHeight = contentBlock.outerHeight;\n  var textPadding = style.textPadding;\n  var boxPos = getBoxPosition(outerHeight, style, rect);\n  var baseX = boxPos.baseX;\n  var baseY = boxPos.baseY;\n  var textAlign = boxPos.textAlign;\n  var textVerticalAlign = boxPos.textVerticalAlign; // Origin of textRotation should be the base point of text drawing.\n\n  applyTextRotation(ctx, style, rect, baseX, baseY);\n  var boxX = textContain.adjustTextX(baseX, outerWidth, textAlign);\n  var boxY = textContain.adjustTextY(baseY, outerHeight, textVerticalAlign);\n  var xLeft = boxX;\n  var lineTop = boxY;\n\n  if (textPadding) {\n    xLeft += textPadding[3];\n    lineTop += textPadding[0];\n  }\n\n  var xRight = xLeft + contentWidth;\n  needDrawBackground(style) && drawBackground(hostEl, ctx, style, boxX, boxY, outerWidth, outerHeight);\n\n  for (var i = 0; i < contentBlock.lines.length; i++) {\n    var line = contentBlock.lines[i];\n    var tokens = line.tokens;\n    var tokenCount = tokens.length;\n    var lineHeight = line.lineHeight;\n    var usedWidth = line.width;\n    var leftIndex = 0;\n    var lineXLeft = xLeft;\n    var lineXRight = xRight;\n    var rightIndex = tokenCount - 1;\n    var token;\n\n    while (leftIndex < tokenCount && (token = tokens[leftIndex], !token.textAlign || token.textAlign === 'left')) {\n      placeToken(hostEl, ctx, token, style, lineHeight, lineTop, lineXLeft, 'left');\n      usedWidth -= token.width;\n      lineXLeft += token.width;\n      leftIndex++;\n    }\n\n    while (rightIndex >= 0 && (token = tokens[rightIndex], token.textAlign === 'right')) {\n      placeToken(hostEl, ctx, token, style, lineHeight, lineTop, lineXRight, 'right');\n      usedWidth -= token.width;\n      lineXRight -= token.width;\n      rightIndex--;\n    } // The other tokens are placed as textAlign 'center' if there is enough space.\n\n\n    lineXLeft += (contentWidth - (lineXLeft - xLeft) - (xRight - lineXRight) - usedWidth) / 2;\n\n    while (leftIndex <= rightIndex) {\n      token = tokens[leftIndex]; // Consider width specified by user, use 'center' rather than 'left'.\n\n      placeToken(hostEl, ctx, token, style, lineHeight, lineTop, lineXLeft + token.width / 2, 'center');\n      lineXLeft += token.width;\n      leftIndex++;\n    }\n\n    lineTop += lineHeight;\n  }\n}\n\nfunction applyTextRotation(ctx, style, rect, x, y) {\n  // textRotation only apply in RectText.\n  if (rect && style.textRotation) {\n    var origin = style.textOrigin;\n\n    if (origin === 'center') {\n      x = rect.width / 2 + rect.x;\n      y = rect.height / 2 + rect.y;\n    } else if (origin) {\n      x = origin[0] + rect.x;\n      y = origin[1] + rect.y;\n    }\n\n    ctx.translate(x, y); // Positive: anticlockwise\n\n    ctx.rotate(-style.textRotation);\n    ctx.translate(-x, -y);\n  }\n}\n\nfunction placeToken(hostEl, ctx, token, style, lineHeight, lineTop, x, textAlign) {\n  var tokenStyle = style.rich[token.styleName] || {}; // 'ctx.textBaseline' is always set as 'middle', for sake of\n  // the bias of \"Microsoft YaHei\".\n\n  var textVerticalAlign = token.textVerticalAlign;\n  var y = lineTop + lineHeight / 2;\n\n  if (textVerticalAlign === 'top') {\n    y = lineTop + token.height / 2;\n  } else if (textVerticalAlign === 'bottom') {\n    y = lineTop + lineHeight - token.height / 2;\n  }\n\n  !token.isLineHolder && needDrawBackground(tokenStyle) && drawBackground(hostEl, ctx, tokenStyle, textAlign === 'right' ? x - token.width : textAlign === 'center' ? x - token.width / 2 : x, y - token.height / 2, token.width, token.height);\n  var textPadding = token.textPadding;\n\n  if (textPadding) {\n    x = getTextXForPadding(x, textAlign, textPadding);\n    y -= token.height / 2 - textPadding[2] - token.textHeight / 2;\n  }\n\n  setCtx(ctx, 'shadowBlur', retrieve3(tokenStyle.textShadowBlur, style.textShadowBlur, 0));\n  setCtx(ctx, 'shadowColor', tokenStyle.textShadowColor || style.textShadowColor || 'transparent');\n  setCtx(ctx, 'shadowOffsetX', retrieve3(tokenStyle.textShadowOffsetX, style.textShadowOffsetX, 0));\n  setCtx(ctx, 'shadowOffsetY', retrieve3(tokenStyle.textShadowOffsetY, style.textShadowOffsetY, 0));\n  setCtx(ctx, 'textAlign', textAlign); // Force baseline to be \"middle\". Otherwise, if using \"top\", the\n  // text will offset downward a little bit in font \"Microsoft YaHei\".\n\n  setCtx(ctx, 'textBaseline', 'middle');\n  setCtx(ctx, 'font', token.font || textContain.DEFAULT_FONT);\n  var textStroke = getStroke(tokenStyle.textStroke || style.textStroke, textStrokeWidth);\n  var textFill = getFill(tokenStyle.textFill || style.textFill);\n  var textStrokeWidth = retrieve2(tokenStyle.textStrokeWidth, style.textStrokeWidth); // Fill after stroke so the outline will not cover the main part.\n\n  if (textStroke) {\n    setCtx(ctx, 'lineWidth', textStrokeWidth);\n    setCtx(ctx, 'strokeStyle', textStroke);\n    ctx.strokeText(token.text, x, y);\n  }\n\n  if (textFill) {\n    setCtx(ctx, 'fillStyle', textFill);\n    ctx.fillText(token.text, x, y);\n  }\n}\n\nfunction needDrawBackground(style) {\n  return style.textBackgroundColor || style.textBorderWidth && style.textBorderColor;\n} // style: {textBackgroundColor, textBorderWidth, textBorderColor, textBorderRadius}\n// shape: {x, y, width, height}\n\n\nfunction drawBackground(hostEl, ctx, style, x, y, width, height) {\n  var textBackgroundColor = style.textBackgroundColor;\n  var textBorderWidth = style.textBorderWidth;\n  var textBorderColor = style.textBorderColor;\n  var isPlainBg = isString(textBackgroundColor);\n  setCtx(ctx, 'shadowBlur', style.textBoxShadowBlur || 0);\n  setCtx(ctx, 'shadowColor', style.textBoxShadowColor || 'transparent');\n  setCtx(ctx, 'shadowOffsetX', style.textBoxShadowOffsetX || 0);\n  setCtx(ctx, 'shadowOffsetY', style.textBoxShadowOffsetY || 0);\n\n  if (isPlainBg || textBorderWidth && textBorderColor) {\n    ctx.beginPath();\n    var textBorderRadius = style.textBorderRadius;\n\n    if (!textBorderRadius) {\n      ctx.rect(x, y, width, height);\n    } else {\n      roundRectHelper.buildPath(ctx, {\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n        r: textBorderRadius\n      });\n    }\n\n    ctx.closePath();\n  }\n\n  if (isPlainBg) {\n    setCtx(ctx, 'fillStyle', textBackgroundColor);\n    ctx.fill();\n  } else if (isObject(textBackgroundColor)) {\n    var image = textBackgroundColor.image;\n    image = imageHelper.createOrUpdateImage(image, null, hostEl, onBgImageLoaded, textBackgroundColor);\n\n    if (image && imageHelper.isImageReady(image)) {\n      ctx.drawImage(image, x, y, width, height);\n    }\n  }\n\n  if (textBorderWidth && textBorderColor) {\n    setCtx(ctx, 'lineWidth', textBorderWidth);\n    setCtx(ctx, 'strokeStyle', textBorderColor);\n    ctx.stroke();\n  }\n}\n\nfunction onBgImageLoaded(image, textBackgroundColor) {\n  // Replace image, so that `contain/text.js#parseRichText`\n  // will get correct result in next tick.\n  textBackgroundColor.image = image;\n}\n\nfunction getBoxPosition(blockHeiht, style, rect) {\n  var baseX = style.x || 0;\n  var baseY = style.y || 0;\n  var textAlign = style.textAlign;\n  var textVerticalAlign = style.textVerticalAlign; // Text position represented by coord\n\n  if (rect) {\n    var textPosition = style.textPosition;\n\n    if (textPosition instanceof Array) {\n      // Percent\n      baseX = rect.x + parsePercent(textPosition[0], rect.width);\n      baseY = rect.y + parsePercent(textPosition[1], rect.height);\n    } else {\n      var res = textContain.adjustTextPositionOnRect(textPosition, rect, style.textDistance);\n      baseX = res.x;\n      baseY = res.y; // Default align and baseline when has textPosition\n\n      textAlign = textAlign || res.textAlign;\n      textVerticalAlign = textVerticalAlign || res.textVerticalAlign;\n    } // textOffset is only support in RectText, otherwise\n    // we have to adjust boundingRect for textOffset.\n\n\n    var textOffset = style.textOffset;\n\n    if (textOffset) {\n      baseX += textOffset[0];\n      baseY += textOffset[1];\n    }\n  }\n\n  return {\n    baseX: baseX,\n    baseY: baseY,\n    textAlign: textAlign,\n    textVerticalAlign: textVerticalAlign\n  };\n}\n\nfunction setCtx(ctx, prop, value) {\n  // FIXME ??? performance try\n  // if (ctx.__currentValues[prop] !== value) {\n  // ctx[prop] = ctx.__currentValues[prop] = value;\n  ctx[prop] = value; // }\n\n  return ctx[prop];\n}\n/**\n * @param {string} [stroke] If specified, do not check style.textStroke.\n * @param {string} [lineWidth] If specified, do not check style.textStroke.\n * @param {number} style\n */\n\n\nfunction getStroke(stroke, lineWidth) {\n  return stroke == null || lineWidth <= 0 || stroke === 'transparent' || stroke === 'none' ? null // TODO pattern and gradient?\n  : stroke.image || stroke.colorStops ? '#000' : stroke;\n}\n\nfunction getFill(fill) {\n  return fill == null || fill === 'none' ? null // TODO pattern and gradient?\n  : fill.image || fill.colorStops ? '#000' : fill;\n}\n\nfunction parsePercent(value, maxValue) {\n  if (typeof value === 'string') {\n    if (value.lastIndexOf('%') >= 0) {\n      return parseFloat(value) / 100 * maxValue;\n    }\n\n    return parseFloat(value);\n  }\n\n  return value;\n}\n\nfunction getTextXForPadding(x, textAlign, textPadding) {\n  return textAlign === 'right' ? x - textPadding[1] : textAlign === 'center' ? x + textPadding[3] / 2 - textPadding[1] / 2 : x + textPadding[3];\n}\n/**\n * @param {string} text\n * @param {module:zrender/Style} style\n * @return {boolean}\n */\n\n\nfunction needDrawText(text, style) {\n  return text != null && (text || style.textBackgroundColor || style.textBorderWidth && style.textBorderColor || style.textPadding);\n}\n\nexports.normalizeTextStyle = normalizeTextStyle;\nexports.renderText = renderText;\nexports.getStroke = getStroke;\nexports.getFill = getFill;\nexports.needDrawText = needDrawText;\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports) {\n\nfunction buildPath(ctx, shape) {\n  var x = shape.x;\n  var y = shape.y;\n  var width = shape.width;\n  var height = shape.height;\n  var r = shape.r;\n  var r1;\n  var r2;\n  var r3;\n  var r4; // Convert width and height to positive for better borderRadius\n\n  if (width < 0) {\n    x = x + width;\n    width = -width;\n  }\n\n  if (height < 0) {\n    y = y + height;\n    height = -height;\n  }\n\n  if (typeof r === 'number') {\n    r1 = r2 = r3 = r4 = r;\n  } else if (r instanceof Array) {\n    if (r.length === 1) {\n      r1 = r2 = r3 = r4 = r[0];\n    } else if (r.length === 2) {\n      r1 = r3 = r[0];\n      r2 = r4 = r[1];\n    } else if (r.length === 3) {\n      r1 = r[0];\n      r2 = r4 = r[1];\n      r3 = r[2];\n    } else {\n      r1 = r[0];\n      r2 = r[1];\n      r3 = r[2];\n      r4 = r[3];\n    }\n  } else {\n    r1 = r2 = r3 = r4 = 0;\n  }\n\n  var total;\n\n  if (r1 + r2 > width) {\n    total = r1 + r2;\n    r1 *= width / total;\n    r2 *= width / total;\n  }\n\n  if (r3 + r4 > width) {\n    total = r3 + r4;\n    r3 *= width / total;\n    r4 *= width / total;\n  }\n\n  if (r2 + r3 > height) {\n    total = r2 + r3;\n    r2 *= height / total;\n    r3 *= height / total;\n  }\n\n  if (r1 + r4 > height) {\n    total = r1 + r4;\n    r1 *= height / total;\n    r4 *= height / total;\n  }\n\n  ctx.moveTo(x + r1, y);\n  ctx.lineTo(x + width - r2, y);\n  r2 !== 0 && ctx.quadraticCurveTo(x + width, y, x + width, y + r2);\n  ctx.lineTo(x + width, y + height - r3);\n  r3 !== 0 && ctx.quadraticCurveTo(x + width, y + height, x + width - r3, y + height);\n  ctx.lineTo(x + r4, y + height);\n  r4 !== 0 && ctx.quadraticCurveTo(x, y + height, x, y + height - r4);\n  ctx.lineTo(x, y + r1);\n  r1 !== 0 && ctx.quadraticCurveTo(x, y, x + r1, y);\n}\n\nexports.buildPath = buildPath;\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports) {\n\nvar PI2 = Math.PI * 2;\n\nfunction normalizeRadian(angle) {\n  angle %= PI2;\n\n  if (angle < 0) {\n    angle += PI2;\n  }\n\n  return angle;\n}\n\nexports.normalizeRadian = normalizeRadian;\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar smoothSpline = __webpack_require__(66);\n\nvar smoothBezier = __webpack_require__(67);\n\nfunction buildPath(ctx, shape, closePath) {\n  var points = shape.points;\n  var smooth = shape.smooth;\n\n  if (points && points.length >= 2) {\n    if (smooth && smooth !== 'spline') {\n      var controlPoints = smoothBezier(points, smooth, closePath, shape.smoothConstraint);\n      ctx.moveTo(points[0][0], points[0][1]);\n      var len = points.length;\n\n      for (var i = 0; i < (closePath ? len : len - 1); i++) {\n        var cp1 = controlPoints[i * 2];\n        var cp2 = controlPoints[i * 2 + 1];\n        var p = points[(i + 1) % len];\n        ctx.bezierCurveTo(cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]);\n      }\n    } else {\n      if (smooth === 'spline') {\n        points = smoothSpline(points, closePath);\n      }\n\n      ctx.moveTo(points[0][0], points[0][1]);\n\n      for (var i = 1, l = points.length; i < l; i++) {\n        ctx.lineTo(points[i][0], points[i][1]);\n      }\n    }\n\n    closePath && ctx.closePath();\n  }\n}\n\nexports.buildPath = buildPath;\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports) {\n\n/**\n * @param {Array.<Object>} colorStops\n */\nvar Gradient = function (colorStops) {\n  this.colorStops = colorStops || [];\n};\n\nGradient.prototype = {\n  constructor: Gradient,\n  addColorStop: function (offset, color) {\n    this.colorStops.push({\n      offset: offset,\n      color: color\n    });\n  }\n};\nvar _default = Gradient;\nmodule.exports = _default;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(26);\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(7);\nvar layoutUtil = __webpack_require__(27);\n\n__webpack_require__(28);\n__webpack_require__(77);\n\nvar wordCloudLayoutHelper = __webpack_require__(78);\n\nif (!wordCloudLayoutHelper.isSupported) {\n    throw new Error('Sorry your browser not support wordCloud');\n}\n\n// https://github.com/timdream/wordcloud2.js/blob/c236bee60436e048949f9becc4f0f67bd832dc5c/index.js#L233\nfunction updateCanvasMask(maskCanvas) {\n    var ctx = maskCanvas.getContext('2d');\n    var imageData = ctx.getImageData(\n        0, 0, maskCanvas.width, maskCanvas.height);\n    var newImageData = ctx.createImageData(imageData);\n\n    var toneSum = 0;\n    var toneCnt = 0;\n    for (var i = 0; i < imageData.data.length; i += 4) {\n        var alpha = imageData.data[i + 3];\n        if (alpha > 128) {\n            var tone = imageData.data[i]\n                + imageData.data[i + 1]\n                + imageData.data[i + 2];\n            toneSum += tone;\n            ++toneCnt;\n        }\n    }\n    var threshold = toneSum / toneCnt;\n\n    for (var i = 0; i < imageData.data.length; i += 4) {\n        var tone = imageData.data[i]\n            + imageData.data[i + 1]\n            + imageData.data[i + 2];\n        var alpha = imageData.data[i + 3];\n\n        if (alpha < 128 || tone > threshold) {\n            // Area not to draw\n            newImageData.data[i] = 0;\n            newImageData.data[i + 1] = 0;\n            newImageData.data[i + 2] = 0;\n            newImageData.data[i + 3] = 0;\n        }\n        else {\n            // Area to draw\n            // The color must be same with backgroundColor\n            newImageData.data[i] = 255;\n            newImageData.data[i + 1] = 255;\n            newImageData.data[i + 2] = 255;\n            newImageData.data[i + 3] = 255;\n        }\n    }\n\n    ctx.putImageData(newImageData, 0, 0);\n}\n\necharts.registerLayout(function (ecModel, api) {\n    ecModel.eachSeriesByType('wordCloud', function (seriesModel) {\n        var gridRect = layoutUtil.getLayoutRect(\n            seriesModel.getBoxLayoutParams(), {\n                width: api.getWidth(),\n                height: api.getHeight()\n            }\n        );\n        var data = seriesModel.getData();\n\n        var canvas = document.createElement('canvas');\n        canvas.width = gridRect.width;\n        canvas.height = gridRect.height;\n\n        var ctx = canvas.getContext('2d');\n        var maskImage = seriesModel.get('maskImage');\n        if (maskImage) {\n            try {\n                ctx.drawImage(maskImage, 0, 0, canvas.width, canvas.height);\n                updateCanvasMask(canvas);\n            }\n            catch (e) {\n                console.error('Invalid mask image');\n                console.error(e.toString());\n            }\n        }\n\n        var sizeRange = seriesModel.get('sizeRange');\n        var rotationRange = seriesModel.get('rotationRange');\n        var valueExtent = data.getDataExtent('value');\n\n        var DEGREE_TO_RAD = Math.PI / 180;\n        var gridSize = seriesModel.get('gridSize');\n        wordCloudLayoutHelper(canvas, {\n            list: data.mapArray('value', function (value, idx) {\n                var itemModel = data.getItemModel(idx);\n                return [\n                    data.getName(idx),\n                    itemModel.get('textStyle.normal.textSize', true)\n                        || echarts.number.linearMap(value, valueExtent, sizeRange),\n                    idx\n                ];\n            }).sort(function (a, b) {\n                // Sort from large to small in case there is no more room for more words\n                return b[1] - a[1];\n            }),\n            fontFamily: seriesModel.get('textStyle.normal.fontFamily')\n                || seriesModel.get('textStyle.emphasis.fontFamily')\n                || ecModel.get('textStyle.fontFamily'),\n            fontWeight: seriesModel.get('textStyle.normal.fontWeight')\n                || seriesModel.get('textStyle.emphasis.fontWeight')\n                || ecModel.get('textStyle.fontWeight'),\n            gridSize: gridSize,\n\n            ellipticity: gridRect.height / gridRect.width,\n\n            minRotation: rotationRange[0] * DEGREE_TO_RAD,\n            maxRotation: rotationRange[1] * DEGREE_TO_RAD,\n\n            clearCanvas: !maskImage,\n\n            rotateRatio: 1,\n\n            rotationStep: seriesModel.get('rotationStep') * DEGREE_TO_RAD,\n\n            drawOutOfBound: seriesModel.get('drawOutOfBound'),\n\n            shuffle: false,\n\n            shape: seriesModel.get('shape')\n        });\n\n        function onWordCloudDrawn(e) {\n            var item = e.detail.item;\n            if (e.detail.drawn && seriesModel.layoutInstance.ondraw) {\n                e.detail.drawn.gx += gridRect.x / gridSize;\n                e.detail.drawn.gy += gridRect.y / gridSize;\n                seriesModel.layoutInstance.ondraw(\n                    item[0], item[1], item[2], e.detail.drawn\n                );\n            }\n        }\n\n        canvas.addEventListener('wordclouddrawn', onWordCloudDrawn);\n\n        if (seriesModel.layoutInstance) {\n            // Dispose previous\n            seriesModel.layoutInstance.dispose();\n        }\n\n        seriesModel.layoutInstance = {\n            ondraw: null,\n\n            dispose: function () {\n                canvas.removeEventListener('wordclouddrawn', onWordCloudDrawn);\n                // Abort\n                canvas.addEventListener('wordclouddrawn', function (e) {\n                    // Prevent default to cancle the event and stop the loop\n                    e.preventDefault();\n                });\n            }\n        };\n    });\n});\n\necharts.registerPreprocessor(function (option) {\n    var series = (option || {}).series;\n    !echarts.util.isArray(series) && (series = series ? [series] : []);\n\n    var compats = ['shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY'];\n\n    echarts.util.each(series, function (seriesItem) {\n        if (seriesItem && seriesItem.type === 'wordCloud') {\n            var textStyle = seriesItem.textStyle || {};\n\n            compatTextStyle(textStyle.normal);\n            compatTextStyle(textStyle.emphasis);\n        }\n    });\n\n    function compatTextStyle(textStyle) {\n        textStyle && echarts.util.each(compats, function (key) {\n            if (textStyle.hasOwnProperty(key)) {\n                textStyle['text' + echarts.format.capitalFirst(key)] = textStyle[key];\n            }\n        });\n    }\n});\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar BoundingRect = __webpack_require__(3);\n\nvar _number = __webpack_require__(9);\n\nvar parsePercent = _number.parsePercent;\n\nvar formatUtil = __webpack_require__(13);\n\n// Layout helpers for each component positioning\nvar each = zrUtil.each;\n/**\n * @public\n */\n\nvar LOCATION_PARAMS = ['left', 'right', 'top', 'bottom', 'width', 'height'];\n/**\n * @public\n */\n\nvar HV_NAMES = [['width', 'left', 'right'], ['height', 'top', 'bottom']];\n\nfunction boxLayout(orient, group, gap, maxWidth, maxHeight) {\n  var x = 0;\n  var y = 0;\n\n  if (maxWidth == null) {\n    maxWidth = Infinity;\n  }\n\n  if (maxHeight == null) {\n    maxHeight = Infinity;\n  }\n\n  var currentLineMaxSize = 0;\n  group.eachChild(function (child, idx) {\n    var position = child.position;\n    var rect = child.getBoundingRect();\n    var nextChild = group.childAt(idx + 1);\n    var nextChildRect = nextChild && nextChild.getBoundingRect();\n    var nextX;\n    var nextY;\n\n    if (orient === 'horizontal') {\n      var moveX = rect.width + (nextChildRect ? -nextChildRect.x + rect.x : 0);\n      nextX = x + moveX; // Wrap when width exceeds maxWidth or meet a `newline` group\n      // FIXME compare before adding gap?\n\n      if (nextX > maxWidth || child.newline) {\n        x = 0;\n        nextX = moveX;\n        y += currentLineMaxSize + gap;\n        currentLineMaxSize = rect.height;\n      } else {\n        // FIXME: consider rect.y is not `0`?\n        currentLineMaxSize = Math.max(currentLineMaxSize, rect.height);\n      }\n    } else {\n      var moveY = rect.height + (nextChildRect ? -nextChildRect.y + rect.y : 0);\n      nextY = y + moveY; // Wrap when width exceeds maxHeight or meet a `newline` group\n\n      if (nextY > maxHeight || child.newline) {\n        x += currentLineMaxSize + gap;\n        y = 0;\n        nextY = moveY;\n        currentLineMaxSize = rect.width;\n      } else {\n        currentLineMaxSize = Math.max(currentLineMaxSize, rect.width);\n      }\n    }\n\n    if (child.newline) {\n      return;\n    }\n\n    position[0] = x;\n    position[1] = y;\n    orient === 'horizontal' ? x = nextX + gap : y = nextY + gap;\n  });\n}\n/**\n * VBox or HBox layouting\n * @param {string} orient\n * @param {module:zrender/container/Group} group\n * @param {number} gap\n * @param {number} [width=Infinity]\n * @param {number} [height=Infinity]\n */\n\n\nvar box = boxLayout;\n/**\n * VBox layouting\n * @param {module:zrender/container/Group} group\n * @param {number} gap\n * @param {number} [width=Infinity]\n * @param {number} [height=Infinity]\n */\n\nvar vbox = zrUtil.curry(boxLayout, 'vertical');\n/**\n * HBox layouting\n * @param {module:zrender/container/Group} group\n * @param {number} gap\n * @param {number} [width=Infinity]\n * @param {number} [height=Infinity]\n */\n\nvar hbox = zrUtil.curry(boxLayout, 'horizontal');\n/**\n * If x or x2 is not specified or 'center' 'left' 'right',\n * the width would be as long as possible.\n * If y or y2 is not specified or 'middle' 'top' 'bottom',\n * the height would be as long as possible.\n *\n * @param {Object} positionInfo\n * @param {number|string} [positionInfo.x]\n * @param {number|string} [positionInfo.y]\n * @param {number|string} [positionInfo.x2]\n * @param {number|string} [positionInfo.y2]\n * @param {Object} containerRect {width, height}\n * @param {string|number} margin\n * @return {Object} {width, height}\n */\n\nfunction getAvailableSize(positionInfo, containerRect, margin) {\n  var containerWidth = containerRect.width;\n  var containerHeight = containerRect.height;\n  var x = parsePercent(positionInfo.x, containerWidth);\n  var y = parsePercent(positionInfo.y, containerHeight);\n  var x2 = parsePercent(positionInfo.x2, containerWidth);\n  var y2 = parsePercent(positionInfo.y2, containerHeight);\n  (isNaN(x) || isNaN(parseFloat(positionInfo.x))) && (x = 0);\n  (isNaN(x2) || isNaN(parseFloat(positionInfo.x2))) && (x2 = containerWidth);\n  (isNaN(y) || isNaN(parseFloat(positionInfo.y))) && (y = 0);\n  (isNaN(y2) || isNaN(parseFloat(positionInfo.y2))) && (y2 = containerHeight);\n  margin = formatUtil.normalizeCssArray(margin || 0);\n  return {\n    width: Math.max(x2 - x - margin[1] - margin[3], 0),\n    height: Math.max(y2 - y - margin[0] - margin[2], 0)\n  };\n}\n/**\n * Parse position info.\n *\n * @param {Object} positionInfo\n * @param {number|string} [positionInfo.left]\n * @param {number|string} [positionInfo.top]\n * @param {number|string} [positionInfo.right]\n * @param {number|string} [positionInfo.bottom]\n * @param {number|string} [positionInfo.width]\n * @param {number|string} [positionInfo.height]\n * @param {number|string} [positionInfo.aspect] Aspect is width / height\n * @param {Object} containerRect\n * @param {string|number} [margin]\n *\n * @return {module:zrender/core/BoundingRect}\n */\n\n\nfunction getLayoutRect(positionInfo, containerRect, margin) {\n  margin = formatUtil.normalizeCssArray(margin || 0);\n  var containerWidth = containerRect.width;\n  var containerHeight = containerRect.height;\n  var left = parsePercent(positionInfo.left, containerWidth);\n  var top = parsePercent(positionInfo.top, containerHeight);\n  var right = parsePercent(positionInfo.right, containerWidth);\n  var bottom = parsePercent(positionInfo.bottom, containerHeight);\n  var width = parsePercent(positionInfo.width, containerWidth);\n  var height = parsePercent(positionInfo.height, containerHeight);\n  var verticalMargin = margin[2] + margin[0];\n  var horizontalMargin = margin[1] + margin[3];\n  var aspect = positionInfo.aspect; // If width is not specified, calculate width from left and right\n\n  if (isNaN(width)) {\n    width = containerWidth - right - horizontalMargin - left;\n  }\n\n  if (isNaN(height)) {\n    height = containerHeight - bottom - verticalMargin - top;\n  }\n\n  if (aspect != null) {\n    // If width and height are not given\n    // 1. Graph should not exceeds the container\n    // 2. Aspect must be keeped\n    // 3. Graph should take the space as more as possible\n    // FIXME\n    // Margin is not considered, because there is no case that both\n    // using margin and aspect so far.\n    if (isNaN(width) && isNaN(height)) {\n      if (aspect > containerWidth / containerHeight) {\n        width = containerWidth * 0.8;\n      } else {\n        height = containerHeight * 0.8;\n      }\n    } // Calculate width or height with given aspect\n\n\n    if (isNaN(width)) {\n      width = aspect * height;\n    }\n\n    if (isNaN(height)) {\n      height = width / aspect;\n    }\n  } // If left is not specified, calculate left from right and width\n\n\n  if (isNaN(left)) {\n    left = containerWidth - right - width - horizontalMargin;\n  }\n\n  if (isNaN(top)) {\n    top = containerHeight - bottom - height - verticalMargin;\n  } // Align left and top\n\n\n  switch (positionInfo.left || positionInfo.right) {\n    case 'center':\n      left = containerWidth / 2 - width / 2 - margin[3];\n      break;\n\n    case 'right':\n      left = containerWidth - width - horizontalMargin;\n      break;\n  }\n\n  switch (positionInfo.top || positionInfo.bottom) {\n    case 'middle':\n    case 'center':\n      top = containerHeight / 2 - height / 2 - margin[0];\n      break;\n\n    case 'bottom':\n      top = containerHeight - height - verticalMargin;\n      break;\n  } // If something is wrong and left, top, width, height are calculated as NaN\n\n\n  left = left || 0;\n  top = top || 0;\n\n  if (isNaN(width)) {\n    // Width may be NaN if only one value is given except width\n    width = containerWidth - horizontalMargin - left - (right || 0);\n  }\n\n  if (isNaN(height)) {\n    // Height may be NaN if only one value is given except height\n    height = containerHeight - verticalMargin - top - (bottom || 0);\n  }\n\n  var rect = new BoundingRect(left + margin[3], top + margin[0], width, height);\n  rect.margin = margin;\n  return rect;\n}\n/**\n * Position a zr element in viewport\n *  Group position is specified by either\n *  {left, top}, {right, bottom}\n *  If all properties exists, right and bottom will be igonred.\n *\n * Logic:\n *     1. Scale (against origin point in parent coord)\n *     2. Rotate (against origin point in parent coord)\n *     3. Traslate (with el.position by this method)\n * So this method only fixes the last step 'Traslate', which does not affect\n * scaling and rotating.\n *\n * If be called repeatly with the same input el, the same result will be gotten.\n *\n * @param {module:zrender/Element} el Should have `getBoundingRect` method.\n * @param {Object} positionInfo\n * @param {number|string} [positionInfo.left]\n * @param {number|string} [positionInfo.top]\n * @param {number|string} [positionInfo.right]\n * @param {number|string} [positionInfo.bottom]\n * @param {number|string} [positionInfo.width] Only for opt.boundingModel: 'raw'\n * @param {number|string} [positionInfo.height] Only for opt.boundingModel: 'raw'\n * @param {Object} containerRect\n * @param {string|number} margin\n * @param {Object} [opt]\n * @param {Array.<number>} [opt.hv=[1,1]] Only horizontal or only vertical.\n * @param {Array.<number>} [opt.boundingMode='all']\n *        Specify how to calculate boundingRect when locating.\n *        'all': Position the boundingRect that is transformed and uioned\n *               both itself and its descendants.\n *               This mode simplies confine the elements in the bounding\n *               of their container (e.g., using 'right: 0').\n *        'raw': Position the boundingRect that is not transformed and only itself.\n *               This mode is useful when you want a element can overflow its\n *               container. (Consider a rotated circle needs to be located in a corner.)\n *               In this mode positionInfo.width/height can only be number.\n */\n\n\nfunction positionElement(el, positionInfo, containerRect, margin, opt) {\n  var h = !opt || !opt.hv || opt.hv[0];\n  var v = !opt || !opt.hv || opt.hv[1];\n  var boundingMode = opt && opt.boundingMode || 'all';\n\n  if (!h && !v) {\n    return;\n  }\n\n  var rect;\n\n  if (boundingMode === 'raw') {\n    rect = el.type === 'group' ? new BoundingRect(0, 0, +positionInfo.width || 0, +positionInfo.height || 0) : el.getBoundingRect();\n  } else {\n    rect = el.getBoundingRect();\n\n    if (el.needLocalTransform()) {\n      var transform = el.getLocalTransform(); // Notice: raw rect may be inner object of el,\n      // which should not be modified.\n\n      rect = rect.clone();\n      rect.applyTransform(transform);\n    }\n  } // The real width and height can not be specified but calculated by the given el.\n\n\n  positionInfo = getLayoutRect(zrUtil.defaults({\n    width: rect.width,\n    height: rect.height\n  }, positionInfo), containerRect, margin); // Because 'tranlate' is the last step in transform\n  // (see zrender/core/Transformable#getLocalTransfrom),\n  // we can just only modify el.position to get final result.\n\n  var elPos = el.position;\n  var dx = h ? positionInfo.x - rect.x : 0;\n  var dy = v ? positionInfo.y - rect.y : 0;\n  el.attr('position', boundingMode === 'raw' ? [dx, dy] : [elPos[0] + dx, elPos[1] + dy]);\n}\n/**\n * @param {Object} option Contains some of the properties in HV_NAMES.\n * @param {number} hvIdx 0: horizontal; 1: vertical.\n */\n\n\nfunction sizeCalculable(option, hvIdx) {\n  return option[HV_NAMES[hvIdx][0]] != null || option[HV_NAMES[hvIdx][1]] != null && option[HV_NAMES[hvIdx][2]] != null;\n}\n/**\n * Consider Case:\n * When defulat option has {left: 0, width: 100}, and we set {right: 0}\n * through setOption or media query, using normal zrUtil.merge will cause\n * {right: 0} does not take effect.\n *\n * @example\n * ComponentModel.extend({\n *     init: function () {\n *         ...\n *         var inputPositionParams = layout.getLayoutParams(option);\n *         this.mergeOption(inputPositionParams);\n *     },\n *     mergeOption: function (newOption) {\n *         newOption && zrUtil.merge(thisOption, newOption, true);\n *         layout.mergeLayoutParam(thisOption, newOption);\n *     }\n * });\n *\n * @param {Object} targetOption\n * @param {Object} newOption\n * @param {Object|string} [opt]\n * @param {boolean|Array.<boolean>} [opt.ignoreSize=false] Used for the components\n *  that width (or height) should not be calculated by left and right (or top and bottom).\n */\n\n\nfunction mergeLayoutParam(targetOption, newOption, opt) {\n  !zrUtil.isObject(opt) && (opt = {});\n  var ignoreSize = opt.ignoreSize;\n  !zrUtil.isArray(ignoreSize) && (ignoreSize = [ignoreSize, ignoreSize]);\n  var hResult = merge(HV_NAMES[0], 0);\n  var vResult = merge(HV_NAMES[1], 1);\n  copy(HV_NAMES[0], targetOption, hResult);\n  copy(HV_NAMES[1], targetOption, vResult);\n\n  function merge(names, hvIdx) {\n    var newParams = {};\n    var newValueCount = 0;\n    var merged = {};\n    var mergedValueCount = 0;\n    var enoughParamNumber = 2;\n    each(names, function (name) {\n      merged[name] = targetOption[name];\n    });\n    each(names, function (name) {\n      // Consider case: newOption.width is null, which is\n      // set by user for removing width setting.\n      hasProp(newOption, name) && (newParams[name] = merged[name] = newOption[name]);\n      hasValue(newParams, name) && newValueCount++;\n      hasValue(merged, name) && mergedValueCount++;\n    });\n\n    if (ignoreSize[hvIdx]) {\n      // Only one of left/right is premitted to exist.\n      if (hasValue(newOption, names[1])) {\n        merged[names[2]] = null;\n      } else if (hasValue(newOption, names[2])) {\n        merged[names[1]] = null;\n      }\n\n      return merged;\n    } // Case: newOption: {width: ..., right: ...},\n    // or targetOption: {right: ...} and newOption: {width: ...},\n    // There is no conflict when merged only has params count\n    // little than enoughParamNumber.\n\n\n    if (mergedValueCount === enoughParamNumber || !newValueCount) {\n      return merged;\n    } // Case: newOption: {width: ..., right: ...},\n    // Than we can make sure user only want those two, and ignore\n    // all origin params in targetOption.\n    else if (newValueCount >= enoughParamNumber) {\n        return newParams;\n      } else {\n        // Chose another param from targetOption by priority.\n        for (var i = 0; i < names.length; i++) {\n          var name = names[i];\n\n          if (!hasProp(newParams, name) && hasProp(targetOption, name)) {\n            newParams[name] = targetOption[name];\n            break;\n          }\n        }\n\n        return newParams;\n      }\n  }\n\n  function hasProp(obj, name) {\n    return obj.hasOwnProperty(name);\n  }\n\n  function hasValue(obj, name) {\n    return obj[name] != null && obj[name] !== 'auto';\n  }\n\n  function copy(names, target, source) {\n    each(names, function (name) {\n      target[name] = source[name];\n    });\n  }\n}\n/**\n * Retrieve 'left', 'right', 'top', 'bottom', 'width', 'height' from object.\n * @param {Object} source\n * @return {Object} Result contains those props.\n */\n\n\nfunction getLayoutParams(source) {\n  return copyLayoutParams({}, source);\n}\n/**\n * Retrieve 'left', 'right', 'top', 'bottom', 'width', 'height' from object.\n * @param {Object} source\n * @return {Object} Result contains those props.\n */\n\n\nfunction copyLayoutParams(target, source) {\n  source && target && each(LOCATION_PARAMS, function (name) {\n    source.hasOwnProperty(name) && (target[name] = source[name]);\n  });\n  return target;\n}\n\nexports.LOCATION_PARAMS = LOCATION_PARAMS;\nexports.HV_NAMES = HV_NAMES;\nexports.box = box;\nexports.vbox = vbox;\nexports.hbox = hbox;\nexports.getAvailableSize = getAvailableSize;\nexports.getLayoutRect = getLayoutRect;\nexports.positionElement = positionElement;\nexports.sizeCalculable = sizeCalculable;\nexports.mergeLayoutParam = mergeLayoutParam;\nexports.getLayoutParams = getLayoutParams;\nexports.copyLayoutParams = copyLayoutParams;\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar completeDimensions = __webpack_require__(29);\nvar echarts = __webpack_require__(7);\n\necharts.extendSeriesModel({\n\n    type: 'series.wordCloud',\n\n    visualColorAccessPath: 'textStyle.normal.color',\n\n    optionUpdated: function () {\n        var option = this.option;\n        option.gridSize = Math.max(Math.floor(option.gridSize), 4);\n    },\n\n    getInitialData: function (option, ecModel) {\n        var dimensions = completeDimensions(['value'], option.data);\n        var list = new echarts.List(dimensions, this);\n        list.initData(option.data);\n        return list;\n    },\n\n    // Most of options are from https://github.com/timdream/wordcloud2.js/blob/gh-pages/API.md\n    defaultOption: {\n\n        maskImage: null,\n\n        // Shape can be 'circle', 'cardioid', 'diamond', 'triangle-forward', 'triangle', 'pentagon', 'star'\n        shape: 'circle',\n\n        left: 'center',\n\n        top: 'center',\n\n        width: '70%',\n\n        height: '80%',\n\n        sizeRange: [12, 60],\n\n        rotationRange: [-90, 90],\n\n        rotationStep: 45,\n\n        gridSize: 8,\n\n        drawOutOfBound: false,\n\n        textStyle: {\n            normal: {\n                fontWeight: 'normal'\n            }\n        }\n    }\n});\n\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar _model = __webpack_require__(30);\n\nvar normalizeToArray = _model.normalizeToArray;\n\n/**\n * Complete dimensions by data (guess dimension).\n */\nvar each = zrUtil.each;\nvar isString = zrUtil.isString;\nvar defaults = zrUtil.defaults;\nvar OTHER_DIMS = {\n  tooltip: 1,\n  label: 1,\n  itemName: 1\n};\n/**\n * Complete the dimensions array, by user defined `dimension` and `encode`,\n * and guessing from the data structure.\n * If no 'value' dimension specified, the first no-named dimension will be\n * named as 'value'.\n *\n * @param {Array.<string>} sysDims Necessary dimensions, like ['x', 'y'], which\n *      provides not only dim template, but also default order.\n *      `name` of each item provides default coord name.\n *      [{dimsDef: []}, ...] can be specified to give names.\n * @param {Array} data Data list. [[1, 2, 3], [2, 3, 4]].\n * @param {Object} [opt]\n * @param {Array.<Object|string>} [opt.dimsDef] option.series.dimensions User defined dimensions\n *      For example: ['asdf', {name, type}, ...].\n * @param {Object} [opt.encodeDef] option.series.encode {x: 2, y: [3, 1], tooltip: [1, 2], label: 3}\n * @param {string} [opt.extraPrefix] Prefix of name when filling the left dimensions.\n * @param {string} [opt.extraFromZero] If specified, extra dim names will be:\n *                      extraPrefix + 0, extraPrefix + extraBaseIndex + 1 ...\n *                      If not specified, extra dim names will be:\n *                      extraPrefix, extraPrefix + 0, extraPrefix + 1 ...\n * @param {number} [opt.dimCount] If not specified, guess by the first data item.\n * @return {Array.<Object>} [{\n *      name: string mandatory,\n *      coordDim: string mandatory,\n *      coordDimIndex: number mandatory,\n *      type: string optional,\n *      tooltipName: string optional,\n *      otherDims: {\n *          tooltip: number optional,\n *          label: number optional\n *      },\n *      isExtraCoord: boolean true or undefined.\n *      other props ...\n * }]\n */\n\nfunction completeDimensions(sysDims, data, opt) {\n  data = data || [];\n  opt = opt || {};\n  sysDims = (sysDims || []).slice();\n  var dimsDef = (opt.dimsDef || []).slice();\n  var encodeDef = zrUtil.createHashMap(opt.encodeDef);\n  var dataDimNameMap = zrUtil.createHashMap();\n  var coordDimNameMap = zrUtil.createHashMap(); // var valueCandidate;\n\n  var result = [];\n  var dimCount = opt.dimCount;\n\n  if (dimCount == null) {\n    var value0 = retrieveValue(data[0]);\n    dimCount = Math.max(zrUtil.isArray(value0) && value0.length || 1, sysDims.length, dimsDef.length);\n    each(sysDims, function (sysDimItem) {\n      var sysDimItemDimsDef = sysDimItem.dimsDef;\n      sysDimItemDimsDef && (dimCount = Math.max(dimCount, sysDimItemDimsDef.length));\n    });\n  } // Apply user defined dims (`name` and `type`) and init result.\n\n\n  for (var i = 0; i < dimCount; i++) {\n    var dimDefItem = isString(dimsDef[i]) ? {\n      name: dimsDef[i]\n    } : dimsDef[i] || {};\n    var userDimName = dimDefItem.name;\n    var resultItem = result[i] = {\n      otherDims: {}\n    }; // Name will be applied later for avoiding duplication.\n\n    if (userDimName != null && dataDimNameMap.get(userDimName) == null) {\n      // Only if `series.dimensions` is defined in option, tooltipName\n      // will be set, and dimension will be diplayed vertically in\n      // tooltip by default.\n      resultItem.name = resultItem.tooltipName = userDimName;\n      dataDimNameMap.set(userDimName, i);\n    }\n\n    dimDefItem.type != null && (resultItem.type = dimDefItem.type);\n  } // Set `coordDim` and `coordDimIndex` by `encodeDef` and normalize `encodeDef`.\n\n\n  encodeDef.each(function (dataDims, coordDim) {\n    dataDims = encodeDef.set(coordDim, normalizeToArray(dataDims).slice());\n    each(dataDims, function (resultDimIdx, coordDimIndex) {\n      // The input resultDimIdx can be dim name or index.\n      isString(resultDimIdx) && (resultDimIdx = dataDimNameMap.get(resultDimIdx));\n\n      if (resultDimIdx != null && resultDimIdx < dimCount) {\n        dataDims[coordDimIndex] = resultDimIdx;\n        applyDim(result[resultDimIdx], coordDim, coordDimIndex);\n      }\n    });\n  }); // Apply templetes and default order from `sysDims`.\n\n  var availDimIdx = 0;\n  each(sysDims, function (sysDimItem, sysDimIndex) {\n    var coordDim;\n    var sysDimItem;\n    var sysDimItemDimsDef;\n    var sysDimItemOtherDims;\n\n    if (isString(sysDimItem)) {\n      coordDim = sysDimItem;\n      sysDimItem = {};\n    } else {\n      coordDim = sysDimItem.name;\n      sysDimItem = zrUtil.clone(sysDimItem); // `coordDimIndex` should not be set directly.\n\n      sysDimItemDimsDef = sysDimItem.dimsDef;\n      sysDimItemOtherDims = sysDimItem.otherDims;\n      sysDimItem.name = sysDimItem.coordDim = sysDimItem.coordDimIndex = sysDimItem.dimsDef = sysDimItem.otherDims = null;\n    }\n\n    var dataDims = normalizeToArray(encodeDef.get(coordDim)); // dimensions provides default dim sequences.\n\n    if (!dataDims.length) {\n      for (var i = 0; i < (sysDimItemDimsDef && sysDimItemDimsDef.length || 1); i++) {\n        while (availDimIdx < result.length && result[availDimIdx].coordDim != null) {\n          availDimIdx++;\n        }\n\n        availDimIdx < result.length && dataDims.push(availDimIdx++);\n      }\n    } // Apply templates.\n\n\n    each(dataDims, function (resultDimIdx, coordDimIndex) {\n      var resultItem = result[resultDimIdx];\n      applyDim(defaults(resultItem, sysDimItem), coordDim, coordDimIndex);\n\n      if (resultItem.name == null && sysDimItemDimsDef) {\n        resultItem.name = resultItem.tooltipName = sysDimItemDimsDef[coordDimIndex];\n      }\n\n      sysDimItemOtherDims && defaults(resultItem.otherDims, sysDimItemOtherDims);\n    });\n  }); // Make sure the first extra dim is 'value'.\n\n  var extra = opt.extraPrefix || 'value'; // Set dim `name` and other `coordDim` and other props.\n\n  for (var resultDimIdx = 0; resultDimIdx < dimCount; resultDimIdx++) {\n    var resultItem = result[resultDimIdx] = result[resultDimIdx] || {};\n    var coordDim = resultItem.coordDim;\n    coordDim == null && (resultItem.coordDim = genName(extra, coordDimNameMap, opt.extraFromZero), resultItem.coordDimIndex = 0, resultItem.isExtraCoord = true);\n    resultItem.name == null && (resultItem.name = genName(resultItem.coordDim, dataDimNameMap));\n    resultItem.type == null && guessOrdinal(data, resultDimIdx) && (resultItem.type = 'ordinal');\n  }\n\n  return result;\n\n  function applyDim(resultItem, coordDim, coordDimIndex) {\n    if (OTHER_DIMS[coordDim]) {\n      resultItem.otherDims[coordDim] = coordDimIndex;\n    } else {\n      resultItem.coordDim = coordDim;\n      resultItem.coordDimIndex = coordDimIndex;\n      coordDimNameMap.set(coordDim, true);\n    }\n  }\n\n  function genName(name, map, fromZero) {\n    if (fromZero || map.get(name) != null) {\n      var i = 0;\n\n      while (map.get(name + i) != null) {\n        i++;\n      }\n\n      name += i;\n    }\n\n    map.set(name, true);\n    return name;\n  }\n} // The rule should not be complex, otherwise user might not\n// be able to known where the data is wrong.\n\n\nvar guessOrdinal = completeDimensions.guessOrdinal = function (data, dimIndex) {\n  for (var i = 0, len = data.length; i < len; i++) {\n    var value = retrieveValue(data[i]);\n\n    if (!zrUtil.isArray(value)) {\n      return false;\n    }\n\n    var value = value[dimIndex]; // Consider usage convenience, '1', '2' will be treated as \"number\".\n    // `isFinit('')` get `true`.\n\n    if (value != null && isFinite(value) && value !== '') {\n      return false;\n    } else if (isString(value) && value !== '-') {\n      return true;\n    }\n  }\n\n  return false;\n};\n\nfunction retrieveValue(o) {\n  return zrUtil.isArray(o) ? o : zrUtil.isObject(o) ? o.value : o;\n}\n\nvar _default = completeDimensions;\nmodule.exports = _default;\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar formatUtil = __webpack_require__(13);\n\nvar nubmerUtil = __webpack_require__(9);\n\nvar Model = __webpack_require__(31);\n\nvar each = zrUtil.each;\nvar isObject = zrUtil.isObject;\n/**\n * If value is not array, then translate it to array.\n * @param  {*} value\n * @return {Array} [value] or value\n */\n\nfunction normalizeToArray(value) {\n  return value instanceof Array ? value : value == null ? [] : [value];\n}\n/**\n * Sync default option between normal and emphasis like `position` and `show`\n * In case some one will write code like\n *     label: {\n *         normal: {\n *             show: false,\n *             position: 'outside',\n *             fontSize: 18\n *         },\n *         emphasis: {\n *             show: true\n *         }\n *     }\n * @param {Object} opt\n * @param {Array.<string>} subOpts\n */\n\n\nfunction defaultEmphasis(opt, subOpts) {\n  if (opt) {\n    var emphasisOpt = opt.emphasis = opt.emphasis || {};\n    var normalOpt = opt.normal = opt.normal || {}; // Default emphasis option from normal\n\n    for (var i = 0, len = subOpts.length; i < len; i++) {\n      var subOptName = subOpts[i];\n\n      if (!emphasisOpt.hasOwnProperty(subOptName) && normalOpt.hasOwnProperty(subOptName)) {\n        emphasisOpt[subOptName] = normalOpt[subOptName];\n      }\n    }\n  }\n}\n\nvar TEXT_STYLE_OPTIONS = ['fontStyle', 'fontWeight', 'fontSize', 'fontFamily', 'rich', 'tag', 'color', 'textBorderColor', 'textBorderWidth', 'width', 'height', 'lineHeight', 'align', 'verticalAlign', 'baseline', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY', 'textShadowColor', 'textShadowBlur', 'textShadowOffsetX', 'textShadowOffsetY', 'backgroundColor', 'borderColor', 'borderWidth', 'borderRadius', 'padding']; // modelUtil.LABEL_OPTIONS = modelUtil.TEXT_STYLE_OPTIONS.concat([\n//     'position', 'offset', 'rotate', 'origin', 'show', 'distance', 'formatter',\n//     'fontStyle', 'fontWeight', 'fontSize', 'fontFamily',\n//     // FIXME: deprecated, check and remove it.\n//     'textStyle'\n// ]);\n\n/**\n * data could be [12, 2323, {value: 223}, [1221, 23], {value: [2, 23]}]\n * This helper method retieves value from data.\n * @param {string|number|Date|Array|Object} dataItem\n * @return {number|string|Date|Array.<number|string|Date>}\n */\n\nfunction getDataItemValue(dataItem) {\n  // Performance sensitive.\n  return dataItem && (dataItem.value == null ? dataItem : dataItem.value);\n}\n/**\n * data could be [12, 2323, {value: 223}, [1221, 23], {value: [2, 23]}]\n * This helper method determine if dataItem has extra option besides value\n * @param {string|number|Date|Array|Object} dataItem\n */\n\n\nfunction isDataItemOption(dataItem) {\n  return isObject(dataItem) && !(dataItem instanceof Array); // // markLine data can be array\n  // && !(dataItem[0] && isObject(dataItem[0]) && !(dataItem[0] instanceof Array));\n}\n/**\n * This helper method convert value in data.\n * @param {string|number|Date} value\n * @param {Object|string} [dimInfo] If string (like 'x'), dimType defaults 'number'.\n */\n\n\nfunction converDataValue(value, dimInfo) {\n  // Performance sensitive.\n  var dimType = dimInfo && dimInfo.type;\n\n  if (dimType === 'ordinal') {\n    return value;\n  }\n\n  if (dimType === 'time' // spead up when using timestamp\n  && typeof value !== 'number' && value != null && value !== '-') {\n    value = +nubmerUtil.parseDate(value);\n  } // dimType defaults 'number'.\n  // If dimType is not ordinal and value is null or undefined or NaN or '-',\n  // parse to NaN.\n\n\n  return value == null || value === '' ? NaN : +value; // If string (like '-'), using '+' parse to NaN\n}\n/**\n * Create a model proxy to be used in tooltip for edge data, markLine data, markPoint data.\n * @param {module:echarts/data/List} data\n * @param {Object} opt\n * @param {string} [opt.seriesIndex]\n * @param {Object} [opt.name]\n * @param {Object} [opt.mainType]\n * @param {Object} [opt.subType]\n */\n\n\nfunction createDataFormatModel(data, opt) {\n  var model = new Model();\n  zrUtil.mixin(model, dataFormatMixin);\n  model.seriesIndex = opt.seriesIndex;\n  model.name = opt.name || '';\n  model.mainType = opt.mainType;\n  model.subType = opt.subType;\n\n  model.getData = function () {\n    return data;\n  };\n\n  return model;\n} // PENDING A little ugly\n\n\nvar dataFormatMixin = {\n  /**\n   * Get params for formatter\n   * @param {number} dataIndex\n   * @param {string} [dataType]\n   * @return {Object}\n   */\n  getDataParams: function (dataIndex, dataType) {\n    var data = this.getData(dataType);\n    var rawValue = this.getRawValue(dataIndex, dataType);\n    var rawDataIndex = data.getRawIndex(dataIndex);\n    var name = data.getName(dataIndex, true);\n    var itemOpt = data.getRawDataItem(dataIndex);\n    var color = data.getItemVisual(dataIndex, 'color');\n    return {\n      componentType: this.mainType,\n      componentSubType: this.subType,\n      seriesType: this.mainType === 'series' ? this.subType : null,\n      seriesIndex: this.seriesIndex,\n      seriesId: this.id,\n      seriesName: this.name,\n      name: name,\n      dataIndex: rawDataIndex,\n      data: itemOpt,\n      dataType: dataType,\n      value: rawValue,\n      color: color,\n      marker: formatUtil.getTooltipMarker(color),\n      // Param name list for mapping `a`, `b`, `c`, `d`, `e`\n      $vars: ['seriesName', 'name', 'value']\n    };\n  },\n\n  /**\n   * Format label\n   * @param {number} dataIndex\n   * @param {string} [status='normal'] 'normal' or 'emphasis'\n   * @param {string} [dataType]\n   * @param {number} [dimIndex]\n   * @param {string} [labelProp='label']\n   * @return {string}\n   */\n  getFormattedLabel: function (dataIndex, status, dataType, dimIndex, labelProp) {\n    status = status || 'normal';\n    var data = this.getData(dataType);\n    var itemModel = data.getItemModel(dataIndex);\n    var params = this.getDataParams(dataIndex, dataType);\n\n    if (dimIndex != null && params.value instanceof Array) {\n      params.value = params.value[dimIndex];\n    }\n\n    var formatter = itemModel.get([labelProp || 'label', status, 'formatter']);\n\n    if (typeof formatter === 'function') {\n      params.status = status;\n      return formatter(params);\n    } else if (typeof formatter === 'string') {\n      return formatUtil.formatTpl(formatter, params);\n    }\n  },\n\n  /**\n   * Get raw value in option\n   * @param {number} idx\n   * @param {string} [dataType]\n   * @return {Object}\n   */\n  getRawValue: function (idx, dataType) {\n    var data = this.getData(dataType);\n    var dataItem = data.getRawDataItem(idx);\n\n    if (dataItem != null) {\n      return isObject(dataItem) && !(dataItem instanceof Array) ? dataItem.value : dataItem;\n    }\n  },\n\n  /**\n   * Should be implemented.\n   * @param {number} dataIndex\n   * @param {boolean} [multipleSeries=false]\n   * @param {number} [dataType]\n   * @return {string} tooltip string\n   */\n  formatTooltip: zrUtil.noop\n};\n/**\n * Mapping to exists for merge.\n *\n * @public\n * @param {Array.<Object>|Array.<module:echarts/model/Component>} exists\n * @param {Object|Array.<Object>} newCptOptions\n * @return {Array.<Object>} Result, like [{exist: ..., option: ...}, {}],\n *                          index of which is the same as exists.\n */\n\nfunction mappingToExists(exists, newCptOptions) {\n  // Mapping by the order by original option (but not order of\n  // new option) in merge mode. Because we should ensure\n  // some specified index (like xAxisIndex) is consistent with\n  // original option, which is easy to understand, espatially in\n  // media query. And in most case, merge option is used to\n  // update partial option but not be expected to change order.\n  newCptOptions = (newCptOptions || []).slice();\n  var result = zrUtil.map(exists || [], function (obj, index) {\n    return {\n      exist: obj\n    };\n  }); // Mapping by id or name if specified.\n\n  each(newCptOptions, function (cptOption, index) {\n    if (!isObject(cptOption)) {\n      return;\n    } // id has highest priority.\n\n\n    for (var i = 0; i < result.length; i++) {\n      if (!result[i].option // Consider name: two map to one.\n      && cptOption.id != null && result[i].exist.id === cptOption.id + '') {\n        result[i].option = cptOption;\n        newCptOptions[index] = null;\n        return;\n      }\n    }\n\n    for (var i = 0; i < result.length; i++) {\n      var exist = result[i].exist;\n\n      if (!result[i].option // Consider name: two map to one.\n      // Can not match when both ids exist but different.\n      && (exist.id == null || cptOption.id == null) && cptOption.name != null && !isIdInner(cptOption) && !isIdInner(exist) && exist.name === cptOption.name + '') {\n        result[i].option = cptOption;\n        newCptOptions[index] = null;\n        return;\n      }\n    }\n  }); // Otherwise mapping by index.\n\n  each(newCptOptions, function (cptOption, index) {\n    if (!isObject(cptOption)) {\n      return;\n    }\n\n    var i = 0;\n\n    for (; i < result.length; i++) {\n      var exist = result[i].exist;\n\n      if (!result[i].option // Existing model that already has id should be able to\n      // mapped to (because after mapping performed model may\n      // be assigned with a id, whish should not affect next\n      // mapping), except those has inner id.\n      && !isIdInner(exist) // Caution:\n      // Do not overwrite id. But name can be overwritten,\n      // because axis use name as 'show label text'.\n      // 'exist' always has id and name and we dont\n      // need to check it.\n      && cptOption.id == null) {\n        result[i].option = cptOption;\n        break;\n      }\n    }\n\n    if (i >= result.length) {\n      result.push({\n        option: cptOption\n      });\n    }\n  });\n  return result;\n}\n/**\n * Make id and name for mapping result (result of mappingToExists)\n * into `keyInfo` field.\n *\n * @public\n * @param {Array.<Object>} Result, like [{exist: ..., option: ...}, {}],\n *                          which order is the same as exists.\n * @return {Array.<Object>} The input.\n */\n\n\nfunction makeIdAndName(mapResult) {\n  // We use this id to hash component models and view instances\n  // in echarts. id can be specified by user, or auto generated.\n  // The id generation rule ensures new view instance are able\n  // to mapped to old instance when setOption are called in\n  // no-merge mode. So we generate model id by name and plus\n  // type in view id.\n  // name can be duplicated among components, which is convenient\n  // to specify multi components (like series) by one name.\n  // Ensure that each id is distinct.\n  var idMap = zrUtil.createHashMap();\n  each(mapResult, function (item, index) {\n    var existCpt = item.exist;\n    existCpt && idMap.set(existCpt.id, item);\n  });\n  each(mapResult, function (item, index) {\n    var opt = item.option;\n    zrUtil.assert(!opt || opt.id == null || !idMap.get(opt.id) || idMap.get(opt.id) === item, 'id duplicates: ' + (opt && opt.id));\n    opt && opt.id != null && idMap.set(opt.id, item);\n    !item.keyInfo && (item.keyInfo = {});\n  }); // Make name and id.\n\n  each(mapResult, function (item, index) {\n    var existCpt = item.exist;\n    var opt = item.option;\n    var keyInfo = item.keyInfo;\n\n    if (!isObject(opt)) {\n      return;\n    } // name can be overwitten. Consider case: axis.name = '20km'.\n    // But id generated by name will not be changed, which affect\n    // only in that case: setOption with 'not merge mode' and view\n    // instance will be recreated, which can be accepted.\n\n\n    keyInfo.name = opt.name != null ? opt.name + '' : existCpt ? existCpt.name : '\\0-'; // name may be displayed on screen, so use '-'.\n\n    if (existCpt) {\n      keyInfo.id = existCpt.id;\n    } else if (opt.id != null) {\n      keyInfo.id = opt.id + '';\n    } else {\n      // Consider this situatoin:\n      //  optionA: [{name: 'a'}, {name: 'a'}, {..}]\n      //  optionB [{..}, {name: 'a'}, {name: 'a'}]\n      // Series with the same name between optionA and optionB\n      // should be mapped.\n      var idNum = 0;\n\n      do {\n        keyInfo.id = '\\0' + keyInfo.name + '\\0' + idNum++;\n      } while (idMap.get(keyInfo.id));\n    }\n\n    idMap.set(keyInfo.id, item);\n  });\n}\n/**\n * @public\n * @param {Object} cptOption\n * @return {boolean}\n */\n\n\nfunction isIdInner(cptOption) {\n  return isObject(cptOption) && cptOption.id && (cptOption.id + '').indexOf('\\0_ec_\\0') === 0;\n}\n/**\n * A helper for removing duplicate items between batchA and batchB,\n * and in themselves, and categorize by series.\n *\n * @param {Array.<Object>} batchA Like: [{seriesId: 2, dataIndex: [32, 4, 5]}, ...]\n * @param {Array.<Object>} batchB Like: [{seriesId: 2, dataIndex: [32, 4, 5]}, ...]\n * @return {Array.<Array.<Object>, Array.<Object>>} result: [resultBatchA, resultBatchB]\n */\n\n\nfunction compressBatches(batchA, batchB) {\n  var mapA = {};\n  var mapB = {};\n  makeMap(batchA || [], mapA);\n  makeMap(batchB || [], mapB, mapA);\n  return [mapToArray(mapA), mapToArray(mapB)];\n\n  function makeMap(sourceBatch, map, otherMap) {\n    for (var i = 0, len = sourceBatch.length; i < len; i++) {\n      var seriesId = sourceBatch[i].seriesId;\n      var dataIndices = normalizeToArray(sourceBatch[i].dataIndex);\n      var otherDataIndices = otherMap && otherMap[seriesId];\n\n      for (var j = 0, lenj = dataIndices.length; j < lenj; j++) {\n        var dataIndex = dataIndices[j];\n\n        if (otherDataIndices && otherDataIndices[dataIndex]) {\n          otherDataIndices[dataIndex] = null;\n        } else {\n          (map[seriesId] || (map[seriesId] = {}))[dataIndex] = 1;\n        }\n      }\n    }\n  }\n\n  function mapToArray(map, isData) {\n    var result = [];\n\n    for (var i in map) {\n      if (map.hasOwnProperty(i) && map[i] != null) {\n        if (isData) {\n          result.push(+i);\n        } else {\n          var dataIndices = mapToArray(map[i], true);\n          dataIndices.length && result.push({\n            seriesId: i,\n            dataIndex: dataIndices\n          });\n        }\n      }\n    }\n\n    return result;\n  }\n}\n/**\n * @param {module:echarts/data/List} data\n * @param {Object} payload Contains dataIndex (means rawIndex) / dataIndexInside / name\n *                         each of which can be Array or primary type.\n * @return {number|Array.<number>} dataIndex If not found, return undefined/null.\n */\n\n\nfunction queryDataIndex(data, payload) {\n  if (payload.dataIndexInside != null) {\n    return payload.dataIndexInside;\n  } else if (payload.dataIndex != null) {\n    return zrUtil.isArray(payload.dataIndex) ? zrUtil.map(payload.dataIndex, function (value) {\n      return data.indexOfRawIndex(value);\n    }) : data.indexOfRawIndex(payload.dataIndex);\n  } else if (payload.name != null) {\n    return zrUtil.isArray(payload.name) ? zrUtil.map(payload.name, function (value) {\n      return data.indexOfName(value);\n    }) : data.indexOfName(payload.name);\n  }\n}\n/**\n * Enable property storage to any host object.\n * Notice: Serialization is not supported.\n *\n * For example:\n * var get = modelUitl.makeGetter();\n *\n * function some(hostObj) {\n *      get(hostObj)._someProperty = 1212;\n *      ...\n * }\n *\n * @return {Function}\n */\n\n\nvar makeGetter = function () {\n  var index = 0;\n  return function () {\n    var key = '\\0__ec_prop_getter_' + index++;\n    return function (hostObj) {\n      return hostObj[key] || (hostObj[key] = {});\n    };\n  };\n}();\n/**\n * @param {module:echarts/model/Global} ecModel\n * @param {string|Object} finder\n *        If string, e.g., 'geo', means {geoIndex: 0}.\n *        If Object, could contain some of these properties below:\n *        {\n *            seriesIndex, seriesId, seriesName,\n *            geoIndex, geoId, geoName,\n *            bmapIndex, bmapId, bmapName,\n *            xAxisIndex, xAxisId, xAxisName,\n *            yAxisIndex, yAxisId, yAxisName,\n *            gridIndex, gridId, gridName,\n *            ... (can be extended)\n *        }\n *        Each properties can be number|string|Array.<number>|Array.<string>\n *        For example, a finder could be\n *        {\n *            seriesIndex: 3,\n *            geoId: ['aa', 'cc'],\n *            gridName: ['xx', 'rr']\n *        }\n *        xxxIndex can be set as 'all' (means all xxx) or 'none' (means not specify)\n *        If nothing or null/undefined specified, return nothing.\n * @param {Object} [opt]\n * @param {string} [opt.defaultMainType]\n * @param {Array.<string>} [opt.includeMainTypes]\n * @return {Object} result like:\n *        {\n *            seriesModels: [seriesModel1, seriesModel2],\n *            seriesModel: seriesModel1, // The first model\n *            geoModels: [geoModel1, geoModel2],\n *            geoModel: geoModel1, // The first model\n *            ...\n *        }\n */\n\n\nfunction parseFinder(ecModel, finder, opt) {\n  if (zrUtil.isString(finder)) {\n    var obj = {};\n    obj[finder + 'Index'] = 0;\n    finder = obj;\n  }\n\n  var defaultMainType = opt && opt.defaultMainType;\n\n  if (defaultMainType && !has(finder, defaultMainType + 'Index') && !has(finder, defaultMainType + 'Id') && !has(finder, defaultMainType + 'Name')) {\n    finder[defaultMainType + 'Index'] = 0;\n  }\n\n  var result = {};\n  each(finder, function (value, key) {\n    var value = finder[key]; // Exclude 'dataIndex' and other illgal keys.\n\n    if (key === 'dataIndex' || key === 'dataIndexInside') {\n      result[key] = value;\n      return;\n    }\n\n    var parsedKey = key.match(/^(\\w+)(Index|Id|Name)$/) || [];\n    var mainType = parsedKey[1];\n    var queryType = (parsedKey[2] || '').toLowerCase();\n\n    if (!mainType || !queryType || value == null || queryType === 'index' && value === 'none' || opt && opt.includeMainTypes && zrUtil.indexOf(opt.includeMainTypes, mainType) < 0) {\n      return;\n    }\n\n    var queryParam = {\n      mainType: mainType\n    };\n\n    if (queryType !== 'index' || value !== 'all') {\n      queryParam[queryType] = value;\n    }\n\n    var models = ecModel.queryComponents(queryParam);\n    result[mainType + 'Models'] = models;\n    result[mainType + 'Model'] = models[0];\n  });\n  return result;\n}\n/**\n * @see {module:echarts/data/helper/completeDimensions}\n * @param {module:echarts/data/List} data\n * @param {string|number} dataDim\n * @return {string}\n */\n\n\nfunction dataDimToCoordDim(data, dataDim) {\n  var dimensions = data.dimensions;\n  dataDim = data.getDimension(dataDim);\n\n  for (var i = 0; i < dimensions.length; i++) {\n    var dimItem = data.getDimensionInfo(dimensions[i]);\n\n    if (dimItem.name === dataDim) {\n      return dimItem.coordDim;\n    }\n  }\n}\n/**\n * @see {module:echarts/data/helper/completeDimensions}\n * @param {module:echarts/data/List} data\n * @param {string} coordDim\n * @return {Array.<string>} data dimensions on the coordDim.\n */\n\n\nfunction coordDimToDataDim(data, coordDim) {\n  var dataDim = [];\n  each(data.dimensions, function (dimName) {\n    var dimItem = data.getDimensionInfo(dimName);\n\n    if (dimItem.coordDim === coordDim) {\n      dataDim[dimItem.coordDimIndex] = dimItem.name;\n    }\n  });\n  return dataDim;\n}\n/**\n * @see {module:echarts/data/helper/completeDimensions}\n * @param {module:echarts/data/List} data\n * @param {string} otherDim Can be `otherDims`\n *                        like 'label' or 'tooltip'.\n * @return {Array.<string>} data dimensions on the otherDim.\n */\n\n\nfunction otherDimToDataDim(data, otherDim) {\n  var dataDim = [];\n  each(data.dimensions, function (dimName) {\n    var dimItem = data.getDimensionInfo(dimName);\n    var otherDims = dimItem.otherDims;\n    var dimIndex = otherDims[otherDim];\n\n    if (dimIndex != null && dimIndex !== false) {\n      dataDim[dimIndex] = dimItem.name;\n    }\n  });\n  return dataDim;\n}\n\nfunction has(obj, prop) {\n  return obj && obj.hasOwnProperty(prop);\n}\n\nexports.normalizeToArray = normalizeToArray;\nexports.defaultEmphasis = defaultEmphasis;\nexports.TEXT_STYLE_OPTIONS = TEXT_STYLE_OPTIONS;\nexports.getDataItemValue = getDataItemValue;\nexports.isDataItemOption = isDataItemOption;\nexports.converDataValue = converDataValue;\nexports.createDataFormatModel = createDataFormatModel;\nexports.dataFormatMixin = dataFormatMixin;\nexports.mappingToExists = mappingToExists;\nexports.makeIdAndName = makeIdAndName;\nexports.isIdInner = isIdInner;\nexports.compressBatches = compressBatches;\nexports.queryDataIndex = queryDataIndex;\nexports.makeGetter = makeGetter;\nexports.parseFinder = parseFinder;\nexports.dataDimToCoordDim = dataDimToCoordDim;\nexports.coordDimToDataDim = coordDimToDataDim;\nexports.otherDimToDataDim = otherDimToDataDim;\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar env = __webpack_require__(15);\n\nvar clazzUtil = __webpack_require__(32);\n\nvar lineStyleMixin = __webpack_require__(35);\n\nvar areaStyleMixin = __webpack_require__(36);\n\nvar textStyleMixin = __webpack_require__(37);\n\nvar itemStyleMixin = __webpack_require__(76);\n\n/**\n * @module echarts/model/Model\n */\nvar mixin = zrUtil.mixin;\n/**\n * @alias module:echarts/model/Model\n * @constructor\n * @param {Object} option\n * @param {module:echarts/model/Model} [parentModel]\n * @param {module:echarts/model/Global} [ecModel]\n */\n\nfunction Model(option, parentModel, ecModel) {\n  /**\n   * @type {module:echarts/model/Model}\n   * @readOnly\n   */\n  this.parentModel = parentModel;\n  /**\n   * @type {module:echarts/model/Global}\n   * @readOnly\n   */\n\n  this.ecModel = ecModel;\n  /**\n   * @type {Object}\n   * @protected\n   */\n\n  this.option = option; // Simple optimization\n  // if (this.init) {\n  //     if (arguments.length <= 4) {\n  //         this.init(option, parentModel, ecModel, extraOpt);\n  //     }\n  //     else {\n  //         this.init.apply(this, arguments);\n  //     }\n  // }\n}\n\nModel.prototype = {\n  constructor: Model,\n\n  /**\n   * Model 的初始化函数\n   * @param {Object} option\n   */\n  init: null,\n\n  /**\n   * 从新的 Option merge\n   */\n  mergeOption: function (option) {\n    zrUtil.merge(this.option, option, true);\n  },\n\n  /**\n   * @param {string|Array.<string>} path\n   * @param {boolean} [ignoreParent=false]\n   * @return {*}\n   */\n  get: function (path, ignoreParent) {\n    if (path == null) {\n      return this.option;\n    }\n\n    return doGet(this.option, this.parsePath(path), !ignoreParent && getParent(this, path));\n  },\n\n  /**\n   * @param {string} key\n   * @param {boolean} [ignoreParent=false]\n   * @return {*}\n   */\n  getShallow: function (key, ignoreParent) {\n    var option = this.option;\n    var val = option == null ? option : option[key];\n    var parentModel = !ignoreParent && getParent(this, key);\n\n    if (val == null && parentModel) {\n      val = parentModel.getShallow(key);\n    }\n\n    return val;\n  },\n\n  /**\n   * @param {string|Array.<string>} [path]\n   * @param {module:echarts/model/Model} [parentModel]\n   * @return {module:echarts/model/Model}\n   */\n  getModel: function (path, parentModel) {\n    var obj = path == null ? this.option : doGet(this.option, path = this.parsePath(path));\n    var thisParentModel;\n    parentModel = parentModel || (thisParentModel = getParent(this, path)) && thisParentModel.getModel(path);\n    return new Model(obj, parentModel, this.ecModel);\n  },\n\n  /**\n   * If model has option\n   */\n  isEmpty: function () {\n    return this.option == null;\n  },\n  restoreData: function () {},\n  // Pending\n  clone: function () {\n    var Ctor = this.constructor;\n    return new Ctor(zrUtil.clone(this.option));\n  },\n  setReadOnly: function (properties) {\n    clazzUtil.setReadOnly(this, properties);\n  },\n  // If path is null/undefined, return null/undefined.\n  parsePath: function (path) {\n    if (typeof path === 'string') {\n      path = path.split('.');\n    }\n\n    return path;\n  },\n\n  /**\n   * @param {Function} getParentMethod\n   *        param {Array.<string>|string} path\n   *        return {module:echarts/model/Model}\n   */\n  customizeGetParent: function (getParentMethod) {\n    clazzUtil.set(this, 'getParent', getParentMethod);\n  },\n  isAnimationEnabled: function () {\n    if (!env.node) {\n      if (this.option.animation != null) {\n        return !!this.option.animation;\n      } else if (this.parentModel) {\n        return this.parentModel.isAnimationEnabled();\n      }\n    }\n  }\n};\n\nfunction doGet(obj, pathArr, parentModel) {\n  for (var i = 0; i < pathArr.length; i++) {\n    // Ignore empty\n    if (!pathArr[i]) {\n      continue;\n    } // obj could be number/string/... (like 0)\n\n\n    obj = obj && typeof obj === 'object' ? obj[pathArr[i]] : null;\n\n    if (obj == null) {\n      break;\n    }\n  }\n\n  if (obj == null && parentModel) {\n    obj = parentModel.get(pathArr);\n  }\n\n  return obj;\n} // `path` can be null/undefined\n\n\nfunction getParent(model, path) {\n  var getParentMethod = clazzUtil.get(model, 'getParent');\n  return getParentMethod ? getParentMethod.call(model, path) : model.parentModel;\n} // Enable Model.extend.\n\n\nclazzUtil.enableClassExtend(Model);\nmixin(Model, lineStyleMixin);\nmixin(Model, areaStyleMixin);\nmixin(Model, textStyleMixin);\nmixin(Model, itemStyleMixin);\nvar _default = Model;\nmodule.exports = _default;\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _config = __webpack_require__(33);\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = __webpack_require__(0);\n\nvar TYPE_DELIMITER = '.';\nvar IS_CONTAINER = '___EC__COMPONENT__CONTAINER___';\nvar MEMBER_PRIFIX = '\\0ec_\\0';\n/**\n * Hide private class member.\n * The same behavior as `host[name] = value;` (can be right-value)\n * @public\n */\n\nfunction set(host, name, value) {\n  return host[MEMBER_PRIFIX + name] = value;\n}\n/**\n * Hide private class member.\n * The same behavior as `host[name];`\n * @public\n */\n\n\nfunction get(host, name) {\n  return host[MEMBER_PRIFIX + name];\n}\n/**\n * For hidden private class member.\n * The same behavior as `host.hasOwnProperty(name);`\n * @public\n */\n\n\nfunction hasOwn(host, name) {\n  return host.hasOwnProperty(MEMBER_PRIFIX + name);\n}\n/**\n * Notice, parseClassType('') should returns {main: '', sub: ''}\n * @public\n */\n\n\nfunction parseClassType(componentType) {\n  var ret = {\n    main: '',\n    sub: ''\n  };\n\n  if (componentType) {\n    componentType = componentType.split(TYPE_DELIMITER);\n    ret.main = componentType[0] || '';\n    ret.sub = componentType[1] || '';\n  }\n\n  return ret;\n}\n/**\n * @public\n */\n\n\nfunction checkClassType(componentType) {\n  zrUtil.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(componentType), 'componentType \"' + componentType + '\" illegal');\n}\n/**\n * @public\n */\n\n\nfunction enableClassExtend(RootClass, mandatoryMethods) {\n  RootClass.$constructor = RootClass;\n\n  RootClass.extend = function (proto) {\n    var superClass = this;\n\n    var ExtendedClass = function () {\n      if (!proto.$constructor) {\n        superClass.apply(this, arguments);\n      } else {\n        proto.$constructor.apply(this, arguments);\n      }\n    };\n\n    zrUtil.extend(ExtendedClass.prototype, proto);\n    ExtendedClass.extend = this.extend;\n    ExtendedClass.superCall = superCall;\n    ExtendedClass.superApply = superApply;\n    zrUtil.inherits(ExtendedClass, this);\n    ExtendedClass.superClass = superClass;\n    return ExtendedClass;\n  };\n} // superCall should have class info, which can not be fetch from 'this'.\n// Consider this case:\n// class A has method f,\n// class B inherits class A, overrides method f, f call superApply('f'),\n// class C inherits class B, do not overrides method f,\n// then when method of class C is called, dead loop occured.\n\n\nfunction superCall(context, methodName) {\n  var args = zrUtil.slice(arguments, 2);\n  return this.superClass.prototype[methodName].apply(context, args);\n}\n\nfunction superApply(context, methodName, args) {\n  return this.superClass.prototype[methodName].apply(context, args);\n}\n/**\n * @param {Object} entity\n * @param {Object} options\n * @param {boolean} [options.registerWhenExtend]\n * @public\n */\n\n\nfunction enableClassManagement(entity, options) {\n  options = options || {};\n  /**\n   * Component model classes\n   * key: componentType,\n   * value:\n   *     componentClass, when componentType is 'xxx'\n   *     or Object.<subKey, componentClass>, when componentType is 'xxx.yy'\n   * @type {Object}\n   */\n\n  var storage = {};\n\n  entity.registerClass = function (Clazz, componentType) {\n    if (componentType) {\n      checkClassType(componentType);\n      componentType = parseClassType(componentType);\n\n      if (!componentType.sub) {\n        storage[componentType.main] = Clazz;\n      } else if (componentType.sub !== IS_CONTAINER) {\n        var container = makeContainer(componentType);\n        container[componentType.sub] = Clazz;\n      }\n    }\n\n    return Clazz;\n  };\n\n  entity.getClass = function (componentMainType, subType, throwWhenNotFound) {\n    var Clazz = storage[componentMainType];\n\n    if (Clazz && Clazz[IS_CONTAINER]) {\n      Clazz = subType ? Clazz[subType] : null;\n    }\n\n    if (throwWhenNotFound && !Clazz) {\n      throw new Error(!subType ? componentMainType + '.' + 'type should be specified.' : 'Component ' + componentMainType + '.' + (subType || '') + ' not exists. Load it first.');\n    }\n\n    return Clazz;\n  };\n\n  entity.getClassesByMainType = function (componentType) {\n    componentType = parseClassType(componentType);\n    var result = [];\n    var obj = storage[componentType.main];\n\n    if (obj && obj[IS_CONTAINER]) {\n      zrUtil.each(obj, function (o, type) {\n        type !== IS_CONTAINER && result.push(o);\n      });\n    } else {\n      result.push(obj);\n    }\n\n    return result;\n  };\n\n  entity.hasClass = function (componentType) {\n    // Just consider componentType.main.\n    componentType = parseClassType(componentType);\n    return !!storage[componentType.main];\n  };\n  /**\n   * @return {Array.<string>} Like ['aa', 'bb'], but can not be ['aa.xx']\n   */\n\n\n  entity.getAllClassMainTypes = function () {\n    var types = [];\n    zrUtil.each(storage, function (obj, type) {\n      types.push(type);\n    });\n    return types;\n  };\n  /**\n   * If a main type is container and has sub types\n   * @param  {string}  mainType\n   * @return {boolean}\n   */\n\n\n  entity.hasSubTypes = function (componentType) {\n    componentType = parseClassType(componentType);\n    var obj = storage[componentType.main];\n    return obj && obj[IS_CONTAINER];\n  };\n\n  entity.parseClassType = parseClassType;\n\n  function makeContainer(componentType) {\n    var container = storage[componentType.main];\n\n    if (!container || !container[IS_CONTAINER]) {\n      container = storage[componentType.main] = {};\n      container[IS_CONTAINER] = true;\n    }\n\n    return container;\n  }\n\n  if (options.registerWhenExtend) {\n    var originalExtend = entity.extend;\n\n    if (originalExtend) {\n      entity.extend = function (proto) {\n        var ExtendedClass = originalExtend.call(this, proto);\n        return entity.registerClass(ExtendedClass, proto.type);\n      };\n    }\n  }\n\n  return entity;\n}\n/**\n * @param {string|Array.<string>} properties\n */\n\n\nfunction setReadOnly(obj, properties) {// FIXME It seems broken in IE8 simulation of IE11\n  // if (!zrUtil.isArray(properties)) {\n  //     properties = properties != null ? [properties] : [];\n  // }\n  // zrUtil.each(properties, function (prop) {\n  //     var value = obj[prop];\n  //     Object.defineProperty\n  //         && Object.defineProperty(obj, prop, {\n  //             value: value, writable: false\n  //         });\n  //     zrUtil.isArray(obj[prop])\n  //         && Object.freeze\n  //         && Object.freeze(obj[prop]);\n  // });\n}\n\nexports.set = set;\nexports.get = get;\nexports.hasOwn = hasOwn;\nexports.parseClassType = parseClassType;\nexports.enableClassExtend = enableClassExtend;\nexports.enableClassManagement = enableClassManagement;\nexports.setReadOnly = setReadOnly;\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {// (1) The code `if (__DEV__) ...` can be removed by build tool.\n// (2) If intend to use `__DEV__`, this module should be imported. Use a global\n// variable `__DEV__` may cause that miss the declaration (see #6535), or the\n// declaration is behind of the using position (for example in `Model.extent`,\n// And tools like rollup can not analysis the dependency if not import).\nvar dev; // In browser\n\nif (typeof window !== 'undefined') {\n  dev = window.__DEV__;\n} // In node\nelse if (typeof global !== 'undefined') {\n    dev = global.__DEV__;\n  }\n\nif (typeof dev === 'undefined') {\n  dev = true;\n}\n\nvar __DEV__ = dev;\nexports.__DEV__ = __DEV__;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(34)))\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports) {\n\nvar g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar makeStyleMapper = __webpack_require__(11);\n\nvar getLineStyle = makeStyleMapper([['lineWidth', 'width'], ['stroke', 'color'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor']]);\nvar _default = {\n  getLineStyle: function (excludes) {\n    var style = getLineStyle(this, excludes);\n    var lineDash = this.getLineDash(style.lineWidth);\n    lineDash && (style.lineDash = lineDash);\n    return style;\n  },\n  getLineDash: function (lineWidth) {\n    if (lineWidth == null) {\n      lineWidth = 1;\n    }\n\n    var lineType = this.get('type');\n    var dotSize = Math.max(lineWidth, 2);\n    var dashSize = lineWidth * 4;\n    return lineType === 'solid' || lineType == null ? null : lineType === 'dashed' ? [dashSize, dashSize] : [dotSize, dotSize];\n  }\n};\nmodule.exports = _default;\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar makeStyleMapper = __webpack_require__(11);\n\nvar getAreaStyle = makeStyleMapper([['fill', 'color'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['opacity'], ['shadowColor']]);\nvar _default = {\n  getAreaStyle: function (excludes, includes) {\n    return getAreaStyle(this, excludes, includes);\n  }\n};\nmodule.exports = _default;\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar textContain = __webpack_require__(5);\n\nvar graphicUtil = __webpack_require__(38);\n\nvar PATH_COLOR = ['textStyle', 'color'];\nvar _default = {\n  /**\n   * Get color property or get color from option.textStyle.color\n   * @param {boolean} [isEmphasis]\n   * @return {string}\n   */\n  getTextColor: function (isEmphasis) {\n    var ecModel = this.ecModel;\n    return this.getShallow('color') || (!isEmphasis && ecModel ? ecModel.get(PATH_COLOR) : null);\n  },\n\n  /**\n   * Create font string from fontStyle, fontWeight, fontSize, fontFamily\n   * @return {string}\n   */\n  getFont: function () {\n    return graphicUtil.getFont({\n      fontStyle: this.getShallow('fontStyle'),\n      fontWeight: this.getShallow('fontWeight'),\n      fontSize: this.getShallow('fontSize'),\n      fontFamily: this.getShallow('fontFamily')\n    }, this.ecModel);\n  },\n  getTextRect: function (text) {\n    return textContain.getBoundingRect(text, this.getFont(), this.getShallow('align'), this.getShallow('verticalAlign') || this.getShallow('baseline'), this.getShallow('padding'), this.getShallow('rich'), this.getShallow('truncateText'));\n  }\n};\nmodule.exports = _default;\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar pathTool = __webpack_require__(39);\n\nvar colorTool = __webpack_require__(18);\n\nvar matrix = __webpack_require__(8);\n\nvar vector = __webpack_require__(2);\n\nvar Path = __webpack_require__(1);\n\nvar Transformable = __webpack_require__(17);\n\nvar Image = __webpack_require__(58);\n\nexports.Image = Image;\n\nvar Group = __webpack_require__(59);\n\nexports.Group = Group;\n\nvar Text = __webpack_require__(60);\n\nexports.Text = Text;\n\nvar Circle = __webpack_require__(61);\n\nexports.Circle = Circle;\n\nvar Sector = __webpack_require__(62);\n\nexports.Sector = Sector;\n\nvar Ring = __webpack_require__(64);\n\nexports.Ring = Ring;\n\nvar Polygon = __webpack_require__(65);\n\nexports.Polygon = Polygon;\n\nvar Polyline = __webpack_require__(68);\n\nexports.Polyline = Polyline;\n\nvar Rect = __webpack_require__(69);\n\nexports.Rect = Rect;\n\nvar Line = __webpack_require__(70);\n\nexports.Line = Line;\n\nvar BezierCurve = __webpack_require__(71);\n\nexports.BezierCurve = BezierCurve;\n\nvar Arc = __webpack_require__(72);\n\nexports.Arc = Arc;\n\nvar CompoundPath = __webpack_require__(73);\n\nexports.CompoundPath = CompoundPath;\n\nvar LinearGradient = __webpack_require__(74);\n\nexports.LinearGradient = LinearGradient;\n\nvar RadialGradient = __webpack_require__(75);\n\nexports.RadialGradient = RadialGradient;\n\nvar BoundingRect = __webpack_require__(3);\n\nexports.BoundingRect = BoundingRect;\nvar round = Math.round;\nvar mathMax = Math.max;\nvar mathMin = Math.min;\nvar EMPTY_OBJ = {};\n/**\n * Extend shape with parameters\n */\n\nfunction extendShape(opts) {\n  return Path.extend(opts);\n}\n/**\n * Extend path\n */\n\n\nfunction extendPath(pathData, opts) {\n  return pathTool.extendFromString(pathData, opts);\n}\n/**\n * Create a path element from path data string\n * @param {string} pathData\n * @param {Object} opts\n * @param {module:zrender/core/BoundingRect} rect\n * @param {string} [layout=cover] 'center' or 'cover'\n */\n\n\nfunction makePath(pathData, opts, rect, layout) {\n  var path = pathTool.createFromString(pathData, opts);\n  var boundingRect = path.getBoundingRect();\n\n  if (rect) {\n    if (layout === 'center') {\n      rect = centerGraphic(rect, boundingRect);\n    }\n\n    resizePath(path, rect);\n  }\n\n  return path;\n}\n/**\n * Create a image element from image url\n * @param {string} imageUrl image url\n * @param {Object} opts options\n * @param {module:zrender/core/BoundingRect} rect constrain rect\n * @param {string} [layout=cover] 'center' or 'cover'\n */\n\n\nfunction makeImage(imageUrl, rect, layout) {\n  var path = new Image({\n    style: {\n      image: imageUrl,\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height\n    },\n    onload: function (img) {\n      if (layout === 'center') {\n        var boundingRect = {\n          width: img.width,\n          height: img.height\n        };\n        path.setStyle(centerGraphic(rect, boundingRect));\n      }\n    }\n  });\n  return path;\n}\n/**\n * Get position of centered element in bounding box.\n *\n * @param  {Object} rect         element local bounding box\n * @param  {Object} boundingRect constraint bounding box\n * @return {Object} element position containing x, y, width, and height\n */\n\n\nfunction centerGraphic(rect, boundingRect) {\n  // Set rect to center, keep width / height ratio.\n  var aspect = boundingRect.width / boundingRect.height;\n  var width = rect.height * aspect;\n  var height;\n\n  if (width <= rect.width) {\n    height = rect.height;\n  } else {\n    width = rect.width;\n    height = width / aspect;\n  }\n\n  var cx = rect.x + rect.width / 2;\n  var cy = rect.y + rect.height / 2;\n  return {\n    x: cx - width / 2,\n    y: cy - height / 2,\n    width: width,\n    height: height\n  };\n}\n\nvar mergePath = pathTool.mergePath;\n/**\n * Resize a path to fit the rect\n * @param {module:zrender/graphic/Path} path\n * @param {Object} rect\n */\n\nfunction resizePath(path, rect) {\n  if (!path.applyTransform) {\n    return;\n  }\n\n  var pathRect = path.getBoundingRect();\n  var m = pathRect.calculateTransform(rect);\n  path.applyTransform(m);\n}\n/**\n * Sub pixel optimize line for canvas\n *\n * @param {Object} param\n * @param {Object} [param.shape]\n * @param {number} [param.shape.x1]\n * @param {number} [param.shape.y1]\n * @param {number} [param.shape.x2]\n * @param {number} [param.shape.y2]\n * @param {Object} [param.style]\n * @param {number} [param.style.lineWidth]\n * @return {Object} Modified param\n */\n\n\nfunction subPixelOptimizeLine(param) {\n  var shape = param.shape;\n  var lineWidth = param.style.lineWidth;\n\n  if (round(shape.x1 * 2) === round(shape.x2 * 2)) {\n    shape.x1 = shape.x2 = subPixelOptimize(shape.x1, lineWidth, true);\n  }\n\n  if (round(shape.y1 * 2) === round(shape.y2 * 2)) {\n    shape.y1 = shape.y2 = subPixelOptimize(shape.y1, lineWidth, true);\n  }\n\n  return param;\n}\n/**\n * Sub pixel optimize rect for canvas\n *\n * @param {Object} param\n * @param {Object} [param.shape]\n * @param {number} [param.shape.x]\n * @param {number} [param.shape.y]\n * @param {number} [param.shape.width]\n * @param {number} [param.shape.height]\n * @param {Object} [param.style]\n * @param {number} [param.style.lineWidth]\n * @return {Object} Modified param\n */\n\n\nfunction subPixelOptimizeRect(param) {\n  var shape = param.shape;\n  var lineWidth = param.style.lineWidth;\n  var originX = shape.x;\n  var originY = shape.y;\n  var originWidth = shape.width;\n  var originHeight = shape.height;\n  shape.x = subPixelOptimize(shape.x, lineWidth, true);\n  shape.y = subPixelOptimize(shape.y, lineWidth, true);\n  shape.width = Math.max(subPixelOptimize(originX + originWidth, lineWidth, false) - shape.x, originWidth === 0 ? 0 : 1);\n  shape.height = Math.max(subPixelOptimize(originY + originHeight, lineWidth, false) - shape.y, originHeight === 0 ? 0 : 1);\n  return param;\n}\n/**\n * Sub pixel optimize for canvas\n *\n * @param {number} position Coordinate, such as x, y\n * @param {number} lineWidth Should be nonnegative integer.\n * @param {boolean=} positiveOrNegative Default false (negative).\n * @return {number} Optimized position.\n */\n\n\nfunction subPixelOptimize(position, lineWidth, positiveOrNegative) {\n  // Assure that (position + lineWidth / 2) is near integer edge,\n  // otherwise line will be fuzzy in canvas.\n  var doubledPosition = round(position * 2);\n  return (doubledPosition + round(lineWidth)) % 2 === 0 ? doubledPosition / 2 : (doubledPosition + (positiveOrNegative ? 1 : -1)) / 2;\n}\n\nfunction hasFillOrStroke(fillOrStroke) {\n  return fillOrStroke != null && fillOrStroke != 'none';\n}\n\nfunction liftColor(color) {\n  return typeof color === 'string' ? colorTool.lift(color, -0.1) : color;\n}\n/**\n * @private\n */\n\n\nfunction cacheElementStl(el) {\n  if (el.__hoverStlDirty) {\n    var stroke = el.style.stroke;\n    var fill = el.style.fill; // Create hoverStyle on mouseover\n\n    var hoverStyle = el.__hoverStl;\n    hoverStyle.fill = hoverStyle.fill || (hasFillOrStroke(fill) ? liftColor(fill) : null);\n    hoverStyle.stroke = hoverStyle.stroke || (hasFillOrStroke(stroke) ? liftColor(stroke) : null);\n    var normalStyle = {};\n\n    for (var name in hoverStyle) {\n      // See comment in `doSingleEnterHover`.\n      if (hoverStyle[name] != null) {\n        normalStyle[name] = el.style[name];\n      }\n    }\n\n    el.__normalStl = normalStyle;\n    el.__hoverStlDirty = false;\n  }\n}\n/**\n * @private\n */\n\n\nfunction doSingleEnterHover(el) {\n  if (el.__isHover) {\n    return;\n  }\n\n  cacheElementStl(el);\n\n  if (el.useHoverLayer) {\n    el.__zr && el.__zr.addHover(el, el.__hoverStl);\n  } else {\n    var style = el.style;\n    var insideRollbackOpt = style.insideRollbackOpt; // Consider case: only `position: 'top'` is set on emphasis, then text\n    // color should be returned to `autoColor`, rather than remain '#fff'.\n    // So we should rollback then apply again after style merging.\n\n    insideRollbackOpt && rollbackInsideStyle(style); // styles can be:\n    // {\n    //     label: {\n    //         normal: {\n    //             show: false,\n    //             position: 'outside',\n    //             fontSize: 18\n    //         },\n    //         emphasis: {\n    //             show: true\n    //         }\n    //     }\n    // },\n    // where properties of `emphasis` may not appear in `normal`. We previously use\n    // module:echarts/util/model#defaultEmphasis to merge `normal` to `emphasis`.\n    // But consider rich text and setOption in merge mode, it is impossible to cover\n    // all properties in merge. So we use merge mode when setting style here, where\n    // only properties that is not `null/undefined` can be set. The disadventage:\n    // null/undefined can not be used to remove style any more in `emphasis`.\n\n    style.extendFrom(el.__hoverStl); // Do not save `insideRollback`.\n\n    if (insideRollbackOpt) {\n      applyInsideStyle(style, style.insideOriginalTextPosition, insideRollbackOpt); // textFill may be rollbacked to null.\n\n      if (style.textFill == null) {\n        style.textFill = insideRollbackOpt.autoColor;\n      }\n    }\n\n    el.dirty(false);\n    el.z2 += 1;\n  }\n\n  el.__isHover = true;\n}\n/**\n * @inner\n */\n\n\nfunction doSingleLeaveHover(el) {\n  if (!el.__isHover) {\n    return;\n  }\n\n  var normalStl = el.__normalStl;\n\n  if (el.useHoverLayer) {\n    el.__zr && el.__zr.removeHover(el);\n  } else {\n    // Consider null/undefined value, should use\n    // `setStyle` but not `extendFrom(stl, true)`.\n    normalStl && el.setStyle(normalStl);\n    el.z2 -= 1;\n  }\n\n  el.__isHover = false;\n}\n/**\n * @inner\n */\n\n\nfunction doEnterHover(el) {\n  el.type === 'group' ? el.traverse(function (child) {\n    if (child.type !== 'group') {\n      doSingleEnterHover(child);\n    }\n  }) : doSingleEnterHover(el);\n}\n\nfunction doLeaveHover(el) {\n  el.type === 'group' ? el.traverse(function (child) {\n    if (child.type !== 'group') {\n      doSingleLeaveHover(child);\n    }\n  }) : doSingleLeaveHover(el);\n}\n/**\n * @inner\n */\n\n\nfunction setElementHoverStl(el, hoverStl) {\n  // If element has sepcified hoverStyle, then use it instead of given hoverStyle\n  // Often used when item group has a label element and it's hoverStyle is different\n  el.__hoverStl = el.hoverStyle || hoverStl || {};\n  el.__hoverStlDirty = true;\n\n  if (el.__isHover) {\n    cacheElementStl(el);\n  }\n}\n/**\n * @inner\n */\n\n\nfunction onElementMouseOver(e) {\n  if (this.__hoverSilentOnTouch && e.zrByTouch) {\n    return;\n  } // Only if element is not in emphasis status\n\n\n  !this.__isEmphasis && doEnterHover(this);\n}\n/**\n * @inner\n */\n\n\nfunction onElementMouseOut(e) {\n  if (this.__hoverSilentOnTouch && e.zrByTouch) {\n    return;\n  } // Only if element is not in emphasis status\n\n\n  !this.__isEmphasis && doLeaveHover(this);\n}\n/**\n * @inner\n */\n\n\nfunction enterEmphasis() {\n  this.__isEmphasis = true;\n  doEnterHover(this);\n}\n/**\n * @inner\n */\n\n\nfunction leaveEmphasis() {\n  this.__isEmphasis = false;\n  doLeaveHover(this);\n}\n/**\n * Set hover style of element.\n * This method can be called repeatly without side-effects.\n * @param {module:zrender/Element} el\n * @param {Object} [hoverStyle]\n * @param {Object} [opt]\n * @param {boolean} [opt.hoverSilentOnTouch=false]\n *        In touch device, mouseover event will be trigger on touchstart event\n *        (see module:zrender/dom/HandlerProxy). By this mechanism, we can\n *        conviniently use hoverStyle when tap on touch screen without additional\n *        code for compatibility.\n *        But if the chart/component has select feature, which usually also use\n *        hoverStyle, there might be conflict between 'select-highlight' and\n *        'hover-highlight' especially when roam is enabled (see geo for example).\n *        In this case, hoverSilentOnTouch should be used to disable hover-highlight\n *        on touch device.\n */\n\n\nfunction setHoverStyle(el, hoverStyle, opt) {\n  el.__hoverSilentOnTouch = opt && opt.hoverSilentOnTouch;\n  el.type === 'group' ? el.traverse(function (child) {\n    if (child.type !== 'group') {\n      setElementHoverStl(child, hoverStyle);\n    }\n  }) : setElementHoverStl(el, hoverStyle); // Duplicated function will be auto-ignored, see Eventful.js.\n\n  el.on('mouseover', onElementMouseOver).on('mouseout', onElementMouseOut); // Emphasis, normal can be triggered manually\n\n  el.on('emphasis', enterEmphasis).on('normal', leaveEmphasis);\n}\n/**\n * @param {Object|module:zrender/graphic/Style} normalStyle\n * @param {Object} emphasisStyle\n * @param {module:echarts/model/Model} normalModel\n * @param {module:echarts/model/Model} emphasisModel\n * @param {Object} opt Check `opt` of `setTextStyleCommon` to find other props.\n * @param {Object} [opt.defaultText]\n * @param {module:echarts/model/Model} [opt.labelFetcher] Fetch text by\n *      `opt.labelFetcher.getFormattedLabel(opt.labelDataIndex, 'normal'/'emphasis', null, opt.labelDimIndex)`\n * @param {module:echarts/model/Model} [opt.labelDataIndex] Fetch text by\n *      `opt.textFetcher.getFormattedLabel(opt.labelDataIndex, 'normal'/'emphasis', null, opt.labelDimIndex)`\n * @param {module:echarts/model/Model} [opt.labelDimIndex] Fetch text by\n *      `opt.textFetcher.getFormattedLabel(opt.labelDataIndex, 'normal'/'emphasis', null, opt.labelDimIndex)`\n * @param {Object} [normalSpecified]\n * @param {Object} [emphasisSpecified]\n */\n\n\nfunction setLabelStyle(normalStyle, emphasisStyle, normalModel, emphasisModel, opt, normalSpecified, emphasisSpecified) {\n  opt = opt || EMPTY_OBJ;\n  var labelFetcher = opt.labelFetcher;\n  var labelDataIndex = opt.labelDataIndex;\n  var labelDimIndex = opt.labelDimIndex; // This scenario, `label.normal.show = true; label.emphasis.show = false`,\n  // is not supported util someone requests.\n\n  var showNormal = normalModel.getShallow('show');\n  var showEmphasis = emphasisModel.getShallow('show'); // Consider performance, only fetch label when necessary.\n  // If `normal.show` is `false` and `emphasis.show` is `true` and `emphasis.formatter` is not set,\n  // label should be displayed, where text is fetched by `normal.formatter` or `opt.defaultText`.\n\n  var baseText = showNormal || showEmphasis ? zrUtil.retrieve2(labelFetcher ? labelFetcher.getFormattedLabel(labelDataIndex, 'normal', null, labelDimIndex) : null, opt.defaultText) : null;\n  var normalStyleText = showNormal ? baseText : null;\n  var emphasisStyleText = showEmphasis ? zrUtil.retrieve2(labelFetcher ? labelFetcher.getFormattedLabel(labelDataIndex, 'emphasis', null, labelDimIndex) : null, baseText) : null; // Optimize: If style.text is null, text will not be drawn.\n\n  if (normalStyleText != null || emphasisStyleText != null) {\n    // Always set `textStyle` even if `normalStyle.text` is null, because default\n    // values have to be set on `normalStyle`.\n    // If we set default values on `emphasisStyle`, consider case:\n    // Firstly, `setOption(... label: {normal: {text: null}, emphasis: {show: true}} ...);`\n    // Secondly, `setOption(... label: {noraml: {show: true, text: 'abc', color: 'red'} ...);`\n    // Then the 'red' will not work on emphasis.\n    setTextStyle(normalStyle, normalModel, normalSpecified, opt);\n    setTextStyle(emphasisStyle, emphasisModel, emphasisSpecified, opt, true);\n  }\n\n  normalStyle.text = normalStyleText;\n  emphasisStyle.text = emphasisStyleText;\n}\n/**\n * Set basic textStyle properties.\n * @param {Object|module:zrender/graphic/Style} textStyle\n * @param {module:echarts/model/Model} model\n * @param {Object} [specifiedTextStyle] Can be overrided by settings in model.\n * @param {Object} [opt] See `opt` of `setTextStyleCommon`.\n * @param {boolean} [isEmphasis]\n */\n\n\nfunction setTextStyle(textStyle, textStyleModel, specifiedTextStyle, opt, isEmphasis) {\n  setTextStyleCommon(textStyle, textStyleModel, opt, isEmphasis);\n  specifiedTextStyle && zrUtil.extend(textStyle, specifiedTextStyle);\n  textStyle.host && textStyle.host.dirty && textStyle.host.dirty(false);\n  return textStyle;\n}\n/**\n * Set text option in the style.\n * @deprecated\n * @param {Object} textStyle\n * @param {module:echarts/model/Model} labelModel\n * @param {string|boolean} defaultColor Default text color.\n *        If set as false, it will be processed as a emphasis style.\n */\n\n\nfunction setText(textStyle, labelModel, defaultColor) {\n  var opt = {\n    isRectText: true\n  };\n  var isEmphasis;\n\n  if (defaultColor === false) {\n    isEmphasis = true;\n  } else {\n    // Support setting color as 'auto' to get visual color.\n    opt.autoColor = defaultColor;\n  }\n\n  setTextStyleCommon(textStyle, labelModel, opt, isEmphasis);\n  textStyle.host && textStyle.host.dirty && textStyle.host.dirty(false);\n}\n/**\n * {\n *      disableBox: boolean, Whether diable drawing box of block (outer most).\n *      isRectText: boolean,\n *      autoColor: string, specify a color when color is 'auto',\n *              for textFill, textStroke, textBackgroundColor, and textBorderColor.\n *              If autoColor specified, it is used as default textFill.\n *      useInsideStyle:\n *              `true`: Use inside style (textFill, textStroke, textStrokeWidth)\n *                  if `textFill` is not specified.\n *              `false`: Do not use inside style.\n *              `null/undefined`: use inside style if `isRectText` is true and\n *                  `textFill` is not specified and textPosition contains `'inside'`.\n *      forceRich: boolean\n * }\n */\n\n\nfunction setTextStyleCommon(textStyle, textStyleModel, opt, isEmphasis) {\n  // Consider there will be abnormal when merge hover style to normal style if given default value.\n  opt = opt || EMPTY_OBJ;\n\n  if (opt.isRectText) {\n    var textPosition = textStyleModel.getShallow('position') || (isEmphasis ? null : 'inside'); // 'outside' is not a valid zr textPostion value, but used\n    // in bar series, and magric type should be considered.\n\n    textPosition === 'outside' && (textPosition = 'top');\n    textStyle.textPosition = textPosition;\n    textStyle.textOffset = textStyleModel.getShallow('offset');\n    var labelRotate = textStyleModel.getShallow('rotate');\n    labelRotate != null && (labelRotate *= Math.PI / 180);\n    textStyle.textRotation = labelRotate;\n    textStyle.textDistance = zrUtil.retrieve2(textStyleModel.getShallow('distance'), isEmphasis ? null : 5);\n  }\n\n  var ecModel = textStyleModel.ecModel;\n  var globalTextStyle = ecModel && ecModel.option.textStyle; // Consider case:\n  // {\n  //     data: [{\n  //         value: 12,\n  //         label: {\n  //             normal: {\n  //                 rich: {\n  //                     // no 'a' here but using parent 'a'.\n  //                 }\n  //             }\n  //         }\n  //     }],\n  //     rich: {\n  //         a: { ... }\n  //     }\n  // }\n\n  var richItemNames = getRichItemNames(textStyleModel);\n  var richResult;\n\n  if (richItemNames) {\n    richResult = {};\n\n    for (var name in richItemNames) {\n      if (richItemNames.hasOwnProperty(name)) {\n        // Cascade is supported in rich.\n        var richTextStyle = textStyleModel.getModel(['rich', name]); // In rich, never `disableBox`.\n\n        setTokenTextStyle(richResult[name] = {}, richTextStyle, globalTextStyle, opt, isEmphasis);\n      }\n    }\n  }\n\n  textStyle.rich = richResult;\n  setTokenTextStyle(textStyle, textStyleModel, globalTextStyle, opt, isEmphasis, true);\n\n  if (opt.forceRich && !opt.textStyle) {\n    opt.textStyle = {};\n  }\n\n  return textStyle;\n} // Consider case:\n// {\n//     data: [{\n//         value: 12,\n//         label: {\n//             normal: {\n//                 rich: {\n//                     // no 'a' here but using parent 'a'.\n//                 }\n//             }\n//         }\n//     }],\n//     rich: {\n//         a: { ... }\n//     }\n// }\n\n\nfunction getRichItemNames(textStyleModel) {\n  // Use object to remove duplicated names.\n  var richItemNameMap;\n\n  while (textStyleModel && textStyleModel !== textStyleModel.ecModel) {\n    var rich = (textStyleModel.option || EMPTY_OBJ).rich;\n\n    if (rich) {\n      richItemNameMap = richItemNameMap || {};\n\n      for (var name in rich) {\n        if (rich.hasOwnProperty(name)) {\n          richItemNameMap[name] = 1;\n        }\n      }\n    }\n\n    textStyleModel = textStyleModel.parentModel;\n  }\n\n  return richItemNameMap;\n}\n\nfunction setTokenTextStyle(textStyle, textStyleModel, globalTextStyle, opt, isEmphasis, isBlock) {\n  // In merge mode, default value should not be given.\n  globalTextStyle = !isEmphasis && globalTextStyle || EMPTY_OBJ;\n  textStyle.textFill = getAutoColor(textStyleModel.getShallow('color'), opt) || globalTextStyle.color;\n  textStyle.textStroke = getAutoColor(textStyleModel.getShallow('textBorderColor'), opt) || globalTextStyle.textBorderColor;\n  textStyle.textStrokeWidth = zrUtil.retrieve2(textStyleModel.getShallow('textBorderWidth'), globalTextStyle.textBorderWidth);\n\n  if (!isEmphasis) {\n    if (isBlock) {\n      // Always set `insideRollback`, for clearing previous.\n      var originalTextPosition = textStyle.textPosition;\n      textStyle.insideRollback = applyInsideStyle(textStyle, originalTextPosition, opt); // Save original textPosition, because style.textPosition will be repalced by\n      // real location (like [10, 30]) in zrender.\n\n      textStyle.insideOriginalTextPosition = originalTextPosition;\n      textStyle.insideRollbackOpt = opt;\n    } // Set default finally.\n\n\n    if (textStyle.textFill == null) {\n      textStyle.textFill = opt.autoColor;\n    }\n  } // Do not use `getFont` here, because merge should be supported, where\n  // part of these properties may be changed in emphasis style, and the\n  // others should remain their original value got from normal style.\n\n\n  textStyle.fontStyle = textStyleModel.getShallow('fontStyle') || globalTextStyle.fontStyle;\n  textStyle.fontWeight = textStyleModel.getShallow('fontWeight') || globalTextStyle.fontWeight;\n  textStyle.fontSize = textStyleModel.getShallow('fontSize') || globalTextStyle.fontSize;\n  textStyle.fontFamily = textStyleModel.getShallow('fontFamily') || globalTextStyle.fontFamily;\n  textStyle.textAlign = textStyleModel.getShallow('align');\n  textStyle.textVerticalAlign = textStyleModel.getShallow('verticalAlign') || textStyleModel.getShallow('baseline');\n  textStyle.textLineHeight = textStyleModel.getShallow('lineHeight');\n  textStyle.textWidth = textStyleModel.getShallow('width');\n  textStyle.textHeight = textStyleModel.getShallow('height');\n  textStyle.textTag = textStyleModel.getShallow('tag');\n\n  if (!isBlock || !opt.disableBox) {\n    textStyle.textBackgroundColor = getAutoColor(textStyleModel.getShallow('backgroundColor'), opt);\n    textStyle.textPadding = textStyleModel.getShallow('padding');\n    textStyle.textBorderColor = getAutoColor(textStyleModel.getShallow('borderColor'), opt);\n    textStyle.textBorderWidth = textStyleModel.getShallow('borderWidth');\n    textStyle.textBorderRadius = textStyleModel.getShallow('borderRadius');\n    textStyle.textBoxShadowColor = textStyleModel.getShallow('shadowColor');\n    textStyle.textBoxShadowBlur = textStyleModel.getShallow('shadowBlur');\n    textStyle.textBoxShadowOffsetX = textStyleModel.getShallow('shadowOffsetX');\n    textStyle.textBoxShadowOffsetY = textStyleModel.getShallow('shadowOffsetY');\n  }\n\n  textStyle.textShadowColor = textStyleModel.getShallow('textShadowColor') || globalTextStyle.textShadowColor;\n  textStyle.textShadowBlur = textStyleModel.getShallow('textShadowBlur') || globalTextStyle.textShadowBlur;\n  textStyle.textShadowOffsetX = textStyleModel.getShallow('textShadowOffsetX') || globalTextStyle.textShadowOffsetX;\n  textStyle.textShadowOffsetY = textStyleModel.getShallow('textShadowOffsetY') || globalTextStyle.textShadowOffsetY;\n}\n\nfunction getAutoColor(color, opt) {\n  return color !== 'auto' ? color : opt && opt.autoColor ? opt.autoColor : null;\n}\n\nfunction applyInsideStyle(textStyle, textPosition, opt) {\n  var useInsideStyle = opt.useInsideStyle;\n  var insideRollback;\n\n  if (textStyle.textFill == null && useInsideStyle !== false && (useInsideStyle === true || opt.isRectText && textPosition // textPosition can be [10, 30]\n  && typeof textPosition === 'string' && textPosition.indexOf('inside') >= 0)) {\n    insideRollback = {\n      textFill: null,\n      textStroke: textStyle.textStroke,\n      textStrokeWidth: textStyle.textStrokeWidth\n    };\n    textStyle.textFill = '#fff'; // Consider text with #fff overflow its container.\n\n    if (textStyle.textStroke == null) {\n      textStyle.textStroke = opt.autoColor;\n      textStyle.textStrokeWidth == null && (textStyle.textStrokeWidth = 2);\n    }\n  }\n\n  return insideRollback;\n}\n\nfunction rollbackInsideStyle(style) {\n  var insideRollback = style.insideRollback;\n\n  if (insideRollback) {\n    style.textFill = insideRollback.textFill;\n    style.textStroke = insideRollback.textStroke;\n    style.textStrokeWidth = insideRollback.textStrokeWidth;\n  }\n}\n\nfunction getFont(opt, ecModel) {\n  // ecModel or default text style model.\n  var gTextStyleModel = ecModel || ecModel.getModel('textStyle');\n  return [// FIXME in node-canvas fontWeight is before fontStyle\n  opt.fontStyle || gTextStyleModel && gTextStyleModel.getShallow('fontStyle') || '', opt.fontWeight || gTextStyleModel && gTextStyleModel.getShallow('fontWeight') || '', (opt.fontSize || gTextStyleModel && gTextStyleModel.getShallow('fontSize') || 12) + 'px', opt.fontFamily || gTextStyleModel && gTextStyleModel.getShallow('fontFamily') || 'sans-serif'].join(' ');\n}\n\nfunction animateOrSetProps(isUpdate, el, props, animatableModel, dataIndex, cb) {\n  if (typeof dataIndex === 'function') {\n    cb = dataIndex;\n    dataIndex = null;\n  } // Do not check 'animation' property directly here. Consider this case:\n  // animation model is an `itemModel`, whose does not have `isAnimationEnabled`\n  // but its parent model (`seriesModel`) does.\n\n\n  var animationEnabled = animatableModel && animatableModel.isAnimationEnabled();\n\n  if (animationEnabled) {\n    var postfix = isUpdate ? 'Update' : '';\n    var duration = animatableModel.getShallow('animationDuration' + postfix);\n    var animationEasing = animatableModel.getShallow('animationEasing' + postfix);\n    var animationDelay = animatableModel.getShallow('animationDelay' + postfix);\n\n    if (typeof animationDelay === 'function') {\n      animationDelay = animationDelay(dataIndex, animatableModel.getAnimationDelayParams ? animatableModel.getAnimationDelayParams(el, dataIndex) : null);\n    }\n\n    if (typeof duration === 'function') {\n      duration = duration(dataIndex);\n    }\n\n    duration > 0 ? el.animateTo(props, duration, animationDelay || 0, animationEasing, cb, !!cb) : (el.stopAnimation(), el.attr(props), cb && cb());\n  } else {\n    el.stopAnimation();\n    el.attr(props);\n    cb && cb();\n  }\n}\n/**\n * Update graphic element properties with or without animation according to the\n * configuration in series.\n *\n * Caution: this method will stop previous animation.\n * So if do not use this method to one element twice before\n * animation starts, unless you know what you are doing.\n *\n * @param {module:zrender/Element} el\n * @param {Object} props\n * @param {module:echarts/model/Model} [animatableModel]\n * @param {number} [dataIndex]\n * @param {Function} [cb]\n * @example\n *     graphic.updateProps(el, {\n *         position: [100, 100]\n *     }, seriesModel, dataIndex, function () { console.log('Animation done!'); });\n *     // Or\n *     graphic.updateProps(el, {\n *         position: [100, 100]\n *     }, seriesModel, function () { console.log('Animation done!'); });\n */\n\n\nfunction updateProps(el, props, animatableModel, dataIndex, cb) {\n  animateOrSetProps(true, el, props, animatableModel, dataIndex, cb);\n}\n/**\n * Init graphic element properties with or without animation according to the\n * configuration in series.\n *\n * Caution: this method will stop previous animation.\n * So if do not use this method to one element twice before\n * animation starts, unless you know what you are doing.\n *\n * @param {module:zrender/Element} el\n * @param {Object} props\n * @param {module:echarts/model/Model} [animatableModel]\n * @param {number} [dataIndex]\n * @param {Function} cb\n */\n\n\nfunction initProps(el, props, animatableModel, dataIndex, cb) {\n  animateOrSetProps(false, el, props, animatableModel, dataIndex, cb);\n}\n/**\n * Get transform matrix of target (param target),\n * in coordinate of its ancestor (param ancestor)\n *\n * @param {module:zrender/mixin/Transformable} target\n * @param {module:zrender/mixin/Transformable} [ancestor]\n */\n\n\nfunction getTransform(target, ancestor) {\n  var mat = matrix.identity([]);\n\n  while (target && target !== ancestor) {\n    matrix.mul(mat, target.getLocalTransform(), mat);\n    target = target.parent;\n  }\n\n  return mat;\n}\n/**\n * Apply transform to an vertex.\n * @param {Array.<number>} target [x, y]\n * @param {Array.<number>|TypedArray.<number>|Object} transform Can be:\n *      + Transform matrix: like [1, 0, 0, 1, 0, 0]\n *      + {position, rotation, scale}, the same as `zrender/Transformable`.\n * @param {boolean=} invert Whether use invert matrix.\n * @return {Array.<number>} [x, y]\n */\n\n\nfunction applyTransform(target, transform, invert) {\n  if (transform && !zrUtil.isArrayLike(transform)) {\n    transform = Transformable.getLocalTransform(transform);\n  }\n\n  if (invert) {\n    transform = matrix.invert([], transform);\n  }\n\n  return vector.applyTransform([], target, transform);\n}\n/**\n * @param {string} direction 'left' 'right' 'top' 'bottom'\n * @param {Array.<number>} transform Transform matrix: like [1, 0, 0, 1, 0, 0]\n * @param {boolean=} invert Whether use invert matrix.\n * @return {string} Transformed direction. 'left' 'right' 'top' 'bottom'\n */\n\n\nfunction transformDirection(direction, transform, invert) {\n  // Pick a base, ensure that transform result will not be (0, 0).\n  var hBase = transform[4] === 0 || transform[5] === 0 || transform[0] === 0 ? 1 : Math.abs(2 * transform[4] / transform[0]);\n  var vBase = transform[4] === 0 || transform[5] === 0 || transform[2] === 0 ? 1 : Math.abs(2 * transform[4] / transform[2]);\n  var vertex = [direction === 'left' ? -hBase : direction === 'right' ? hBase : 0, direction === 'top' ? -vBase : direction === 'bottom' ? vBase : 0];\n  vertex = applyTransform(vertex, transform, invert);\n  return Math.abs(vertex[0]) > Math.abs(vertex[1]) ? vertex[0] > 0 ? 'right' : 'left' : vertex[1] > 0 ? 'bottom' : 'top';\n}\n/**\n * Apply group transition animation from g1 to g2.\n * If no animatableModel, no animation.\n */\n\n\nfunction groupTransition(g1, g2, animatableModel, cb) {\n  if (!g1 || !g2) {\n    return;\n  }\n\n  function getElMap(g) {\n    var elMap = {};\n    g.traverse(function (el) {\n      if (!el.isGroup && el.anid) {\n        elMap[el.anid] = el;\n      }\n    });\n    return elMap;\n  }\n\n  function getAnimatableProps(el) {\n    var obj = {\n      position: vector.clone(el.position),\n      rotation: el.rotation\n    };\n\n    if (el.shape) {\n      obj.shape = zrUtil.extend({}, el.shape);\n    }\n\n    return obj;\n  }\n\n  var elMap1 = getElMap(g1);\n  g2.traverse(function (el) {\n    if (!el.isGroup && el.anid) {\n      var oldEl = elMap1[el.anid];\n\n      if (oldEl) {\n        var newProp = getAnimatableProps(el);\n        el.attr(getAnimatableProps(oldEl));\n        updateProps(el, newProp, animatableModel, el.dataIndex);\n      } // else {\n      //     if (el.previousProps) {\n      //         graphic.updateProps\n      //     }\n      // }\n\n    }\n  });\n}\n/**\n * @param {Array.<Array.<number>>} points Like: [[23, 44], [53, 66], ...]\n * @param {Object} rect {x, y, width, height}\n * @return {Array.<Array.<number>>} A new clipped points.\n */\n\n\nfunction clipPointsByRect(points, rect) {\n  return zrUtil.map(points, function (point) {\n    var x = point[0];\n    x = mathMax(x, rect.x);\n    x = mathMin(x, rect.x + rect.width);\n    var y = point[1];\n    y = mathMax(y, rect.y);\n    y = mathMin(y, rect.y + rect.height);\n    return [x, y];\n  });\n}\n/**\n * @param {Object} targetRect {x, y, width, height}\n * @param {Object} rect {x, y, width, height}\n * @return {Object} A new clipped rect. If rect size are negative, return undefined.\n */\n\n\nfunction clipRectByRect(targetRect, rect) {\n  var x = mathMax(targetRect.x, rect.x);\n  var x2 = mathMin(targetRect.x + targetRect.width, rect.x + rect.width);\n  var y = mathMax(targetRect.y, rect.y);\n  var y2 = mathMin(targetRect.y + targetRect.height, rect.y + rect.height);\n\n  if (x2 >= x && y2 >= y) {\n    return {\n      x: x,\n      y: y,\n      width: x2 - x,\n      height: y2 - y\n    };\n  }\n}\n/**\n * @param {string} iconStr Support 'image://' or 'path://' or direct svg path.\n * @param {Object} [opt] Properties of `module:zrender/Element`, except `style`.\n * @param {Object} [rect] {x, y, width, height}\n * @return {module:zrender/Element} Icon path or image element.\n */\n\n\nfunction createIcon(iconStr, opt, rect) {\n  opt = zrUtil.extend({\n    rectHover: true\n  }, opt);\n  var style = opt.style = {\n    strokeNoScale: true\n  };\n  rect = rect || {\n    x: -1,\n    y: -1,\n    width: 2,\n    height: 2\n  };\n\n  if (iconStr) {\n    return iconStr.indexOf('image://') === 0 ? (style.image = iconStr.slice(8), zrUtil.defaults(style, rect), new Image(opt)) : makePath(iconStr.replace('path://', ''), opt, rect, 'center');\n  }\n}\n\nexports.extendShape = extendShape;\nexports.extendPath = extendPath;\nexports.makePath = makePath;\nexports.makeImage = makeImage;\nexports.mergePath = mergePath;\nexports.resizePath = resizePath;\nexports.subPixelOptimizeLine = subPixelOptimizeLine;\nexports.subPixelOptimizeRect = subPixelOptimizeRect;\nexports.subPixelOptimize = subPixelOptimize;\nexports.setHoverStyle = setHoverStyle;\nexports.setLabelStyle = setLabelStyle;\nexports.setTextStyle = setTextStyle;\nexports.setText = setText;\nexports.getFont = getFont;\nexports.updateProps = updateProps;\nexports.initProps = initProps;\nexports.getTransform = getTransform;\nexports.applyTransform = applyTransform;\nexports.transformDirection = transformDirection;\nexports.groupTransition = groupTransition;\nexports.clipPointsByRect = clipPointsByRect;\nexports.clipRectByRect = clipRectByRect;\nexports.createIcon = createIcon;\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Path = __webpack_require__(1);\n\nvar PathProxy = __webpack_require__(6);\n\nvar transformPath = __webpack_require__(57);\n\n// command chars\nvar cc = ['m', 'M', 'l', 'L', 'v', 'V', 'h', 'H', 'z', 'Z', 'c', 'C', 'q', 'Q', 't', 'T', 's', 'S', 'a', 'A'];\nvar mathSqrt = Math.sqrt;\nvar mathSin = Math.sin;\nvar mathCos = Math.cos;\nvar PI = Math.PI;\n\nvar vMag = function (v) {\n  return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n};\n\nvar vRatio = function (u, v) {\n  return (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v));\n};\n\nvar vAngle = function (u, v) {\n  return (u[0] * v[1] < u[1] * v[0] ? -1 : 1) * Math.acos(vRatio(u, v));\n};\n\nfunction processArc(x1, y1, x2, y2, fa, fs, rx, ry, psiDeg, cmd, path) {\n  var psi = psiDeg * (PI / 180.0);\n  var xp = mathCos(psi) * (x1 - x2) / 2.0 + mathSin(psi) * (y1 - y2) / 2.0;\n  var yp = -1 * mathSin(psi) * (x1 - x2) / 2.0 + mathCos(psi) * (y1 - y2) / 2.0;\n  var lambda = xp * xp / (rx * rx) + yp * yp / (ry * ry);\n\n  if (lambda > 1) {\n    rx *= mathSqrt(lambda);\n    ry *= mathSqrt(lambda);\n  }\n\n  var f = (fa === fs ? -1 : 1) * mathSqrt((rx * rx * (ry * ry) - rx * rx * (yp * yp) - ry * ry * (xp * xp)) / (rx * rx * (yp * yp) + ry * ry * (xp * xp))) || 0;\n  var cxp = f * rx * yp / ry;\n  var cyp = f * -ry * xp / rx;\n  var cx = (x1 + x2) / 2.0 + mathCos(psi) * cxp - mathSin(psi) * cyp;\n  var cy = (y1 + y2) / 2.0 + mathSin(psi) * cxp + mathCos(psi) * cyp;\n  var theta = vAngle([1, 0], [(xp - cxp) / rx, (yp - cyp) / ry]);\n  var u = [(xp - cxp) / rx, (yp - cyp) / ry];\n  var v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\n  var dTheta = vAngle(u, v);\n\n  if (vRatio(u, v) <= -1) {\n    dTheta = PI;\n  }\n\n  if (vRatio(u, v) >= 1) {\n    dTheta = 0;\n  }\n\n  if (fs === 0 && dTheta > 0) {\n    dTheta = dTheta - 2 * PI;\n  }\n\n  if (fs === 1 && dTheta < 0) {\n    dTheta = dTheta + 2 * PI;\n  }\n\n  path.addData(cmd, cx, cy, rx, ry, theta, dTheta, psi, fs);\n}\n\nfunction createPathProxyFromString(data) {\n  if (!data) {\n    return [];\n  } // command string\n\n\n  var cs = data.replace(/-/g, ' -').replace(/  /g, ' ').replace(/ /g, ',').replace(/,,/g, ',');\n  var n; // create pipes so that we can split the data\n\n  for (n = 0; n < cc.length; n++) {\n    cs = cs.replace(new RegExp(cc[n], 'g'), '|' + cc[n]);\n  } // create array\n\n\n  var arr = cs.split('|'); // init context point\n\n  var cpx = 0;\n  var cpy = 0;\n  var path = new PathProxy();\n  var CMD = PathProxy.CMD;\n  var prevCmd;\n\n  for (n = 1; n < arr.length; n++) {\n    var str = arr[n];\n    var c = str.charAt(0);\n    var off = 0;\n    var p = str.slice(1).replace(/e,-/g, 'e-').split(',');\n    var cmd;\n\n    if (p.length > 0 && p[0] === '') {\n      p.shift();\n    }\n\n    for (var i = 0; i < p.length; i++) {\n      p[i] = parseFloat(p[i]);\n    }\n\n    while (off < p.length && !isNaN(p[off])) {\n      if (isNaN(p[0])) {\n        break;\n      }\n\n      var ctlPtx;\n      var ctlPty;\n      var rx;\n      var ry;\n      var psi;\n      var fa;\n      var fs;\n      var x1 = cpx;\n      var y1 = cpy; // convert l, H, h, V, and v to L\n\n      switch (c) {\n        case 'l':\n          cpx += p[off++];\n          cpy += p[off++];\n          cmd = CMD.L;\n          path.addData(cmd, cpx, cpy);\n          break;\n\n        case 'L':\n          cpx = p[off++];\n          cpy = p[off++];\n          cmd = CMD.L;\n          path.addData(cmd, cpx, cpy);\n          break;\n\n        case 'm':\n          cpx += p[off++];\n          cpy += p[off++];\n          cmd = CMD.M;\n          path.addData(cmd, cpx, cpy);\n          c = 'l';\n          break;\n\n        case 'M':\n          cpx = p[off++];\n          cpy = p[off++];\n          cmd = CMD.M;\n          path.addData(cmd, cpx, cpy);\n          c = 'L';\n          break;\n\n        case 'h':\n          cpx += p[off++];\n          cmd = CMD.L;\n          path.addData(cmd, cpx, cpy);\n          break;\n\n        case 'H':\n          cpx = p[off++];\n          cmd = CMD.L;\n          path.addData(cmd, cpx, cpy);\n          break;\n\n        case 'v':\n          cpy += p[off++];\n          cmd = CMD.L;\n          path.addData(cmd, cpx, cpy);\n          break;\n\n        case 'V':\n          cpy = p[off++];\n          cmd = CMD.L;\n          path.addData(cmd, cpx, cpy);\n          break;\n\n        case 'C':\n          cmd = CMD.C;\n          path.addData(cmd, p[off++], p[off++], p[off++], p[off++], p[off++], p[off++]);\n          cpx = p[off - 2];\n          cpy = p[off - 1];\n          break;\n\n        case 'c':\n          cmd = CMD.C;\n          path.addData(cmd, p[off++] + cpx, p[off++] + cpy, p[off++] + cpx, p[off++] + cpy, p[off++] + cpx, p[off++] + cpy);\n          cpx += p[off - 2];\n          cpy += p[off - 1];\n          break;\n\n        case 'S':\n          ctlPtx = cpx;\n          ctlPty = cpy;\n          var len = path.len();\n          var pathData = path.data;\n\n          if (prevCmd === CMD.C) {\n            ctlPtx += cpx - pathData[len - 4];\n            ctlPty += cpy - pathData[len - 3];\n          }\n\n          cmd = CMD.C;\n          x1 = p[off++];\n          y1 = p[off++];\n          cpx = p[off++];\n          cpy = p[off++];\n          path.addData(cmd, ctlPtx, ctlPty, x1, y1, cpx, cpy);\n          break;\n\n        case 's':\n          ctlPtx = cpx;\n          ctlPty = cpy;\n          var len = path.len();\n          var pathData = path.data;\n\n          if (prevCmd === CMD.C) {\n            ctlPtx += cpx - pathData[len - 4];\n            ctlPty += cpy - pathData[len - 3];\n          }\n\n          cmd = CMD.C;\n          x1 = cpx + p[off++];\n          y1 = cpy + p[off++];\n          cpx += p[off++];\n          cpy += p[off++];\n          path.addData(cmd, ctlPtx, ctlPty, x1, y1, cpx, cpy);\n          break;\n\n        case 'Q':\n          x1 = p[off++];\n          y1 = p[off++];\n          cpx = p[off++];\n          cpy = p[off++];\n          cmd = CMD.Q;\n          path.addData(cmd, x1, y1, cpx, cpy);\n          break;\n\n        case 'q':\n          x1 = p[off++] + cpx;\n          y1 = p[off++] + cpy;\n          cpx += p[off++];\n          cpy += p[off++];\n          cmd = CMD.Q;\n          path.addData(cmd, x1, y1, cpx, cpy);\n          break;\n\n        case 'T':\n          ctlPtx = cpx;\n          ctlPty = cpy;\n          var len = path.len();\n          var pathData = path.data;\n\n          if (prevCmd === CMD.Q) {\n            ctlPtx += cpx - pathData[len - 4];\n            ctlPty += cpy - pathData[len - 3];\n          }\n\n          cpx = p[off++];\n          cpy = p[off++];\n          cmd = CMD.Q;\n          path.addData(cmd, ctlPtx, ctlPty, cpx, cpy);\n          break;\n\n        case 't':\n          ctlPtx = cpx;\n          ctlPty = cpy;\n          var len = path.len();\n          var pathData = path.data;\n\n          if (prevCmd === CMD.Q) {\n            ctlPtx += cpx - pathData[len - 4];\n            ctlPty += cpy - pathData[len - 3];\n          }\n\n          cpx += p[off++];\n          cpy += p[off++];\n          cmd = CMD.Q;\n          path.addData(cmd, ctlPtx, ctlPty, cpx, cpy);\n          break;\n\n        case 'A':\n          rx = p[off++];\n          ry = p[off++];\n          psi = p[off++];\n          fa = p[off++];\n          fs = p[off++];\n          x1 = cpx, y1 = cpy;\n          cpx = p[off++];\n          cpy = p[off++];\n          cmd = CMD.A;\n          processArc(x1, y1, cpx, cpy, fa, fs, rx, ry, psi, cmd, path);\n          break;\n\n        case 'a':\n          rx = p[off++];\n          ry = p[off++];\n          psi = p[off++];\n          fa = p[off++];\n          fs = p[off++];\n          x1 = cpx, y1 = cpy;\n          cpx += p[off++];\n          cpy += p[off++];\n          cmd = CMD.A;\n          processArc(x1, y1, cpx, cpy, fa, fs, rx, ry, psi, cmd, path);\n          break;\n      }\n    }\n\n    if (c === 'z' || c === 'Z') {\n      cmd = CMD.Z;\n      path.addData(cmd);\n    }\n\n    prevCmd = cmd;\n  }\n\n  path.toStatic();\n  return path;\n} // TODO Optimize double memory cost problem\n\n\nfunction createPathOptions(str, opts) {\n  var pathProxy = createPathProxyFromString(str);\n  opts = opts || {};\n\n  opts.buildPath = function (path) {\n    if (path.setData) {\n      path.setData(pathProxy.data); // Svg and vml renderer don't have context\n\n      var ctx = path.getContext();\n\n      if (ctx) {\n        path.rebuildPath(ctx);\n      }\n    } else {\n      var ctx = path;\n      pathProxy.rebuildPath(ctx);\n    }\n  };\n\n  opts.applyTransform = function (m) {\n    transformPath(pathProxy, m);\n    this.dirty(true);\n  };\n\n  return opts;\n}\n/**\n * Create a Path object from path string data\n * http://www.w3.org/TR/SVG/paths.html#PathData\n * @param  {Object} opts Other options\n */\n\n\nfunction createFromString(str, opts) {\n  return new Path(createPathOptions(str, opts));\n}\n/**\n * Create a Path class from path string data\n * @param  {string} str\n * @param  {Object} opts Other options\n */\n\n\nfunction extendFromString(str, opts) {\n  return Path.extend(createPathOptions(str, opts));\n}\n/**\n * Merge multiple paths\n */\n// TODO Apply transform\n// TODO stroke dash\n// TODO Optimize double memory cost problem\n\n\nfunction mergePath(pathEls, opts) {\n  var pathList = [];\n  var len = pathEls.length;\n\n  for (var i = 0; i < len; i++) {\n    var pathEl = pathEls[i];\n\n    if (!pathEl.path) {\n      pathEl.createPathProxy();\n    }\n\n    if (pathEl.__dirtyPath) {\n      pathEl.buildPath(pathEl.path, pathEl.shape, true);\n    }\n\n    pathList.push(pathEl.path);\n  }\n\n  var pathBundle = new Path(opts); // Need path proxy.\n\n  pathBundle.createPathProxy();\n\n  pathBundle.buildPath = function (path) {\n    path.appendPath(pathList); // Svg and vml renderer don't have context\n\n    var ctx = path.getContext();\n\n    if (ctx) {\n      path.rebuildPath(ctx);\n    }\n  };\n\n  return pathBundle;\n}\n\nexports.createFromString = createFromString;\nexports.extendFromString = extendFromString;\nexports.mergePath = mergePath;\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports) {\n\nvar STYLE_COMMON_PROPS = [['shadowBlur', 0], ['shadowOffsetX', 0], ['shadowOffsetY', 0], ['shadowColor', '#000'], ['lineCap', 'butt'], ['lineJoin', 'miter'], ['miterLimit', 10]]; // var SHADOW_PROPS = STYLE_COMMON_PROPS.slice(0, 4);\n// var LINE_PROPS = STYLE_COMMON_PROPS.slice(4);\n\nvar Style = function (opts, host) {\n  this.extendFrom(opts, false);\n  this.host = host;\n};\n\nfunction createLinearGradient(ctx, obj, rect) {\n  var x = obj.x == null ? 0 : obj.x;\n  var x2 = obj.x2 == null ? 1 : obj.x2;\n  var y = obj.y == null ? 0 : obj.y;\n  var y2 = obj.y2 == null ? 0 : obj.y2;\n\n  if (!obj.global) {\n    x = x * rect.width + rect.x;\n    x2 = x2 * rect.width + rect.x;\n    y = y * rect.height + rect.y;\n    y2 = y2 * rect.height + rect.y;\n  }\n\n  var canvasGradient = ctx.createLinearGradient(x, y, x2, y2);\n  return canvasGradient;\n}\n\nfunction createRadialGradient(ctx, obj, rect) {\n  var width = rect.width;\n  var height = rect.height;\n  var min = Math.min(width, height);\n  var x = obj.x == null ? 0.5 : obj.x;\n  var y = obj.y == null ? 0.5 : obj.y;\n  var r = obj.r == null ? 0.5 : obj.r;\n\n  if (!obj.global) {\n    x = x * width + rect.x;\n    y = y * height + rect.y;\n    r = r * min;\n  }\n\n  var canvasGradient = ctx.createRadialGradient(x, y, 0, x, y, r);\n  return canvasGradient;\n}\n\nStyle.prototype = {\n  constructor: Style,\n\n  /**\n   * @type {module:zrender/graphic/Displayable}\n   */\n  host: null,\n\n  /**\n   * @type {string}\n   */\n  fill: '#000',\n\n  /**\n   * @type {string}\n   */\n  stroke: null,\n\n  /**\n   * @type {number}\n   */\n  opacity: 1,\n\n  /**\n   * @type {Array.<number>}\n   */\n  lineDash: null,\n\n  /**\n   * @type {number}\n   */\n  lineDashOffset: 0,\n\n  /**\n   * @type {number}\n   */\n  shadowBlur: 0,\n\n  /**\n   * @type {number}\n   */\n  shadowOffsetX: 0,\n\n  /**\n   * @type {number}\n   */\n  shadowOffsetY: 0,\n\n  /**\n   * @type {number}\n   */\n  lineWidth: 1,\n\n  /**\n   * If stroke ignore scale\n   * @type {Boolean}\n   */\n  strokeNoScale: false,\n  // Bounding rect text configuration\n  // Not affected by element transform\n\n  /**\n   * @type {string}\n   */\n  text: null,\n\n  /**\n   * If `fontSize` or `fontFamily` exists, `font` will be reset by\n   * `fontSize`, `fontStyle`, `fontWeight`, `fontFamily`.\n   * So do not visit it directly in upper application (like echarts),\n   * but use `contain/text#makeFont` instead.\n   * @type {string}\n   */\n  font: null,\n\n  /**\n   * The same as font. Use font please.\n   * @deprecated\n   * @type {string}\n   */\n  textFont: null,\n\n  /**\n   * It helps merging respectively, rather than parsing an entire font string.\n   * @type {string}\n   */\n  fontStyle: null,\n\n  /**\n   * It helps merging respectively, rather than parsing an entire font string.\n   * @type {string}\n   */\n  fontWeight: null,\n\n  /**\n   * It helps merging respectively, rather than parsing an entire font string.\n   * Should be 12 but not '12px'.\n   * @type {number}\n   */\n  fontSize: null,\n\n  /**\n   * It helps merging respectively, rather than parsing an entire font string.\n   * @type {string}\n   */\n  fontFamily: null,\n\n  /**\n   * Reserved for special functinality, like 'hr'.\n   * @type {string}\n   */\n  textTag: null,\n\n  /**\n   * @type {string}\n   */\n  textFill: '#000',\n\n  /**\n   * @type {string}\n   */\n  textStroke: null,\n\n  /**\n   * @type {number}\n   */\n  textWidth: null,\n\n  /**\n   * Only for textBackground.\n   * @type {number}\n   */\n  textHeight: null,\n\n  /**\n   * textStroke may be set as some color as a default\n   * value in upper applicaion, where the default value\n   * of textStrokeWidth should be 0 to make sure that\n   * user can choose to do not use text stroke.\n   * @type {number}\n   */\n  textStrokeWidth: 0,\n\n  /**\n   * @type {number}\n   */\n  textLineHeight: null,\n\n  /**\n   * 'inside', 'left', 'right', 'top', 'bottom'\n   * [x, y]\n   * Based on x, y of rect.\n   * @type {string|Array.<number>}\n   * @default 'inside'\n   */\n  textPosition: 'inside',\n\n  /**\n   * If not specified, use the boundingRect of a `displayable`.\n   * @type {Object}\n   */\n  textRect: null,\n\n  /**\n   * [x, y]\n   * @type {Array.<number>}\n   */\n  textOffset: null,\n\n  /**\n   * @type {string}\n   */\n  textAlign: null,\n\n  /**\n   * @type {string}\n   */\n  textVerticalAlign: null,\n\n  /**\n   * @type {number}\n   */\n  textDistance: 5,\n\n  /**\n   * @type {string}\n   */\n  textShadowColor: 'transparent',\n\n  /**\n   * @type {number}\n   */\n  textShadowBlur: 0,\n\n  /**\n   * @type {number}\n   */\n  textShadowOffsetX: 0,\n\n  /**\n   * @type {number}\n   */\n  textShadowOffsetY: 0,\n\n  /**\n   * @type {string}\n   */\n  textBoxShadowColor: 'transparent',\n\n  /**\n   * @type {number}\n   */\n  textBoxShadowBlur: 0,\n\n  /**\n   * @type {number}\n   */\n  textBoxShadowOffsetX: 0,\n\n  /**\n   * @type {number}\n   */\n  textBoxShadowOffsetY: 0,\n\n  /**\n   * Whether transform text.\n   * Only useful in Path and Image element\n   * @type {boolean}\n   */\n  transformText: false,\n\n  /**\n   * Text rotate around position of Path or Image\n   * Only useful in Path and Image element and transformText is false.\n   */\n  textRotation: 0,\n\n  /**\n   * Text origin of text rotation, like [10, 40].\n   * Based on x, y of rect.\n   * Useful in label rotation of circular symbol.\n   * By default, this origin is textPosition.\n   * Can be 'center'.\n   * @type {string|Array.<number>}\n   */\n  textOrigin: null,\n\n  /**\n   * @type {string}\n   */\n  textBackgroundColor: null,\n\n  /**\n   * @type {string}\n   */\n  textBorderColor: null,\n\n  /**\n   * @type {number}\n   */\n  textBorderWidth: 0,\n\n  /**\n   * @type {number}\n   */\n  textBorderRadius: 0,\n\n  /**\n   * Can be `2` or `[2, 4]` or `[2, 3, 4, 5]`\n   * @type {number|Array.<number>}\n   */\n  textPadding: null,\n\n  /**\n   * Text styles for rich text.\n   * @type {Object}\n   */\n  rich: null,\n\n  /**\n   * {outerWidth, outerHeight, ellipsis, placeholder}\n   * @type {Object}\n   */\n  truncate: null,\n\n  /**\n   * https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation\n   * @type {string}\n   */\n  blend: null,\n\n  /**\n   * @param {CanvasRenderingContext2D} ctx\n   */\n  bind: function (ctx, el, prevEl) {\n    var style = this;\n    var prevStyle = prevEl && prevEl.style;\n    var firstDraw = !prevStyle;\n\n    for (var i = 0; i < STYLE_COMMON_PROPS.length; i++) {\n      var prop = STYLE_COMMON_PROPS[i];\n      var styleName = prop[0];\n\n      if (firstDraw || style[styleName] !== prevStyle[styleName]) {\n        // FIXME Invalid property value will cause style leak from previous element.\n        ctx[styleName] = style[styleName] || prop[1];\n      }\n    }\n\n    if (firstDraw || style.fill !== prevStyle.fill) {\n      ctx.fillStyle = style.fill;\n    }\n\n    if (firstDraw || style.stroke !== prevStyle.stroke) {\n      ctx.strokeStyle = style.stroke;\n    }\n\n    if (firstDraw || style.opacity !== prevStyle.opacity) {\n      ctx.globalAlpha = style.opacity == null ? 1 : style.opacity;\n    }\n\n    if (firstDraw || style.blend !== prevStyle.blend) {\n      ctx.globalCompositeOperation = style.blend || 'source-over';\n    }\n\n    if (this.hasStroke()) {\n      var lineWidth = style.lineWidth;\n      ctx.lineWidth = lineWidth / (this.strokeNoScale && el && el.getLineScale ? el.getLineScale() : 1);\n    }\n  },\n  hasFill: function () {\n    var fill = this.fill;\n    return fill != null && fill !== 'none';\n  },\n  hasStroke: function () {\n    var stroke = this.stroke;\n    return stroke != null && stroke !== 'none' && this.lineWidth > 0;\n  },\n\n  /**\n   * Extend from other style\n   * @param {zrender/graphic/Style} otherStyle\n   * @param {boolean} overwrite true: overwrirte any way.\n   *                            false: overwrite only when !target.hasOwnProperty\n   *                            others: overwrite when property is not null/undefined.\n   */\n  extendFrom: function (otherStyle, overwrite) {\n    if (otherStyle) {\n      for (var name in otherStyle) {\n        if (otherStyle.hasOwnProperty(name) && (overwrite === true || (overwrite === false ? !this.hasOwnProperty(name) : otherStyle[name] != null))) {\n          this[name] = otherStyle[name];\n        }\n      }\n    }\n  },\n\n  /**\n   * Batch setting style with a given object\n   * @param {Object|string} obj\n   * @param {*} [obj]\n   */\n  set: function (obj, value) {\n    if (typeof obj === 'string') {\n      this[obj] = value;\n    } else {\n      this.extendFrom(obj, true);\n    }\n  },\n\n  /**\n   * Clone\n   * @return {zrender/graphic/Style} [description]\n   */\n  clone: function () {\n    var newStyle = new this.constructor();\n    newStyle.extendFrom(this, true);\n    return newStyle;\n  },\n  getGradient: function (ctx, obj, rect) {\n    var method = obj.type === 'radial' ? createRadialGradient : createLinearGradient;\n    var canvasGradient = method(ctx, obj, rect);\n    var colorStops = obj.colorStops;\n\n    for (var i = 0; i < colorStops.length; i++) {\n      canvasGradient.addColorStop(colorStops[i].offset, colorStops[i].color);\n    }\n\n    return canvasGradient;\n  }\n};\nvar styleProto = Style.prototype;\n\nfor (var i = 0; i < STYLE_COMMON_PROPS.length; i++) {\n  var prop = STYLE_COMMON_PROPS[i];\n\n  if (!(prop[0] in styleProto)) {\n    styleProto[prop[0]] = prop[1];\n  }\n} // Provide for others\n\n\nStyle.getGradient = styleProto.getGradient;\nvar _default = Style;\nmodule.exports = _default;\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports) {\n\n/**\n * zrender: 生成唯一id\n *\n * @author errorrik (errorrik@gmail.com)\n */\nvar idStart = 0x0907;\n\nfunction _default() {\n  return idStart++;\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports) {\n\n/**\n * 事件扩展\n * @module zrender/mixin/Eventful\n * @author Kener (@Kener-林峰, kener.linfeng@gmail.com)\n *         pissang (https://www.github.com/pissang)\n */\nvar arrySlice = Array.prototype.slice;\n/**\n * 事件分发器\n * @alias module:zrender/mixin/Eventful\n * @constructor\n */\n\nvar Eventful = function () {\n  this._$handlers = {};\n};\n\nEventful.prototype = {\n  constructor: Eventful,\n\n  /**\n   * 单次触发绑定，trigger后销毁\n   *\n   * @param {string} event 事件名\n   * @param {Function} handler 响应函数\n   * @param {Object} context\n   */\n  one: function (event, handler, context) {\n    var _h = this._$handlers;\n\n    if (!handler || !event) {\n      return this;\n    }\n\n    if (!_h[event]) {\n      _h[event] = [];\n    }\n\n    for (var i = 0; i < _h[event].length; i++) {\n      if (_h[event][i].h === handler) {\n        return this;\n      }\n    }\n\n    _h[event].push({\n      h: handler,\n      one: true,\n      ctx: context || this\n    });\n\n    return this;\n  },\n\n  /**\n   * 绑定事件\n   * @param {string} event 事件名\n   * @param {Function} handler 事件处理函数\n   * @param {Object} [context]\n   */\n  on: function (event, handler, context) {\n    var _h = this._$handlers;\n\n    if (!handler || !event) {\n      return this;\n    }\n\n    if (!_h[event]) {\n      _h[event] = [];\n    }\n\n    for (var i = 0; i < _h[event].length; i++) {\n      if (_h[event][i].h === handler) {\n        return this;\n      }\n    }\n\n    _h[event].push({\n      h: handler,\n      one: false,\n      ctx: context || this\n    });\n\n    return this;\n  },\n\n  /**\n   * 是否绑定了事件\n   * @param  {string}  event\n   * @return {boolean}\n   */\n  isSilent: function (event) {\n    var _h = this._$handlers;\n    return _h[event] && _h[event].length;\n  },\n\n  /**\n   * 解绑事件\n   * @param {string} event 事件名\n   * @param {Function} [handler] 事件处理函数\n   */\n  off: function (event, handler) {\n    var _h = this._$handlers;\n\n    if (!event) {\n      this._$handlers = {};\n      return this;\n    }\n\n    if (handler) {\n      if (_h[event]) {\n        var newList = [];\n\n        for (var i = 0, l = _h[event].length; i < l; i++) {\n          if (_h[event][i]['h'] != handler) {\n            newList.push(_h[event][i]);\n          }\n        }\n\n        _h[event] = newList;\n      }\n\n      if (_h[event] && _h[event].length === 0) {\n        delete _h[event];\n      }\n    } else {\n      delete _h[event];\n    }\n\n    return this;\n  },\n\n  /**\n   * 事件分发\n   *\n   * @param {string} type 事件类型\n   */\n  trigger: function (type) {\n    if (this._$handlers[type]) {\n      var args = arguments;\n      var argLen = args.length;\n\n      if (argLen > 3) {\n        args = arrySlice.call(args, 1);\n      }\n\n      var _h = this._$handlers[type];\n      var len = _h.length;\n\n      for (var i = 0; i < len;) {\n        // Optimize advise from backbone\n        switch (argLen) {\n          case 1:\n            _h[i]['h'].call(_h[i]['ctx']);\n\n            break;\n\n          case 2:\n            _h[i]['h'].call(_h[i]['ctx'], args[1]);\n\n            break;\n\n          case 3:\n            _h[i]['h'].call(_h[i]['ctx'], args[1], args[2]);\n\n            break;\n\n          default:\n            // have more than 2 given arguments\n            _h[i]['h'].apply(_h[i]['ctx'], args);\n\n            break;\n        }\n\n        if (_h[i]['one']) {\n          _h.splice(i, 1);\n\n          len--;\n        } else {\n          i++;\n        }\n      }\n    }\n\n    return this;\n  },\n\n  /**\n   * 带有context的事件分发, 最后一个参数是事件回调的context\n   * @param {string} type 事件类型\n   */\n  triggerWithContext: function (type) {\n    if (this._$handlers[type]) {\n      var args = arguments;\n      var argLen = args.length;\n\n      if (argLen > 4) {\n        args = arrySlice.call(args, 1, args.length - 1);\n      }\n\n      var ctx = args[args.length - 1];\n      var _h = this._$handlers[type];\n      var len = _h.length;\n\n      for (var i = 0; i < len;) {\n        // Optimize advise from backbone\n        switch (argLen) {\n          case 1:\n            _h[i]['h'].call(ctx);\n\n            break;\n\n          case 2:\n            _h[i]['h'].call(ctx, args[1]);\n\n            break;\n\n          case 3:\n            _h[i]['h'].call(ctx, args[1], args[2]);\n\n            break;\n\n          default:\n            // have more than 2 given arguments\n            _h[i]['h'].apply(ctx, args);\n\n            break;\n        }\n\n        if (_h[i]['one']) {\n          _h.splice(i, 1);\n\n          len--;\n        } else {\n          i++;\n        }\n      }\n    }\n\n    return this;\n  }\n}; // 对象可以通过 onxxxx 绑定事件\n\n/**\n * @event module:zrender/mixin/Eventful#onclick\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#onmouseover\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#onmouseout\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#onmousemove\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#onmousewheel\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#onmousedown\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#onmouseup\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#ondrag\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#ondragstart\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#ondragend\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#ondragenter\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#ondragleave\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#ondragover\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#ondrop\n * @type {Function}\n * @default null\n */\n\nvar _default = Eventful;\nmodule.exports = _default;\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Animator = __webpack_require__(44);\n\nvar log = __webpack_require__(47);\n\nvar _util = __webpack_require__(0);\n\nvar isString = _util.isString;\nvar isFunction = _util.isFunction;\nvar isObject = _util.isObject;\nvar isArrayLike = _util.isArrayLike;\nvar indexOf = _util.indexOf;\n\n/**\n * @alias modue:zrender/mixin/Animatable\n * @constructor\n */\nvar Animatable = function () {\n  /**\n   * @type {Array.<module:zrender/animation/Animator>}\n   * @readOnly\n   */\n  this.animators = [];\n};\n\nAnimatable.prototype = {\n  constructor: Animatable,\n\n  /**\n   * 动画\n   *\n   * @param {string} path The path to fetch value from object, like 'a.b.c'.\n   * @param {boolean} [loop] Whether to loop animation.\n   * @return {module:zrender/animation/Animator}\n   * @example:\n   *     el.animate('style', false)\n   *         .when(1000, {x: 10} )\n   *         .done(function(){ // Animation done })\n   *         .start()\n   */\n  animate: function (path, loop) {\n    var target;\n    var animatingShape = false;\n    var el = this;\n    var zr = this.__zr;\n\n    if (path) {\n      var pathSplitted = path.split('.');\n      var prop = el; // If animating shape\n\n      animatingShape = pathSplitted[0] === 'shape';\n\n      for (var i = 0, l = pathSplitted.length; i < l; i++) {\n        if (!prop) {\n          continue;\n        }\n\n        prop = prop[pathSplitted[i]];\n      }\n\n      if (prop) {\n        target = prop;\n      }\n    } else {\n      target = el;\n    }\n\n    if (!target) {\n      log('Property \"' + path + '\" is not existed in element ' + el.id);\n      return;\n    }\n\n    var animators = el.animators;\n    var animator = new Animator(target, loop);\n    animator.during(function (target) {\n      el.dirty(animatingShape);\n    }).done(function () {\n      // FIXME Animator will not be removed if use `Animator#stop` to stop animation\n      animators.splice(indexOf(animators, animator), 1);\n    });\n    animators.push(animator); // If animate after added to the zrender\n\n    if (zr) {\n      zr.animation.addAnimator(animator);\n    }\n\n    return animator;\n  },\n\n  /**\n   * 停止动画\n   * @param {boolean} forwardToLast If move to last frame before stop\n   */\n  stopAnimation: function (forwardToLast) {\n    var animators = this.animators;\n    var len = animators.length;\n\n    for (var i = 0; i < len; i++) {\n      animators[i].stop(forwardToLast);\n    }\n\n    animators.length = 0;\n    return this;\n  },\n\n  /**\n   * Caution: this method will stop previous animation.\n   * So do not use this method to one element twice before\n   * animation starts, unless you know what you are doing.\n   * @param {Object} target\n   * @param {number} [time=500] Time in ms\n   * @param {string} [easing='linear']\n   * @param {number} [delay=0]\n   * @param {Function} [callback]\n   * @param {Function} [forceAnimate] Prevent stop animation and callback\n   *        immediently when target values are the same as current values.\n   *\n   * @example\n   *  // Animate position\n   *  el.animateTo({\n   *      position: [10, 10]\n   *  }, function () { // done })\n   *\n   *  // Animate shape, style and position in 100ms, delayed 100ms, with cubicOut easing\n   *  el.animateTo({\n   *      shape: {\n   *          width: 500\n   *      },\n   *      style: {\n   *          fill: 'red'\n   *      }\n   *      position: [10, 10]\n   *  }, 100, 100, 'cubicOut', function () { // done })\n   */\n  // TODO Return animation key\n  animateTo: function (target, time, delay, easing, callback, forceAnimate) {\n    // animateTo(target, time, easing, callback);\n    if (isString(delay)) {\n      callback = easing;\n      easing = delay;\n      delay = 0;\n    } // animateTo(target, time, delay, callback);\n    else if (isFunction(easing)) {\n        callback = easing;\n        easing = 'linear';\n        delay = 0;\n      } // animateTo(target, time, callback);\n      else if (isFunction(delay)) {\n          callback = delay;\n          delay = 0;\n        } // animateTo(target, callback)\n        else if (isFunction(time)) {\n            callback = time;\n            time = 500;\n          } // animateTo(target)\n          else if (!time) {\n              time = 500;\n            } // Stop all previous animations\n\n\n    this.stopAnimation();\n\n    this._animateToShallow('', this, target, time, delay); // Animators may be removed immediately after start\n    // if there is nothing to animate\n\n\n    var animators = this.animators.slice();\n    var count = animators.length;\n\n    function done() {\n      count--;\n\n      if (!count) {\n        callback && callback();\n      }\n    } // No animators. This should be checked before animators[i].start(),\n    // because 'done' may be executed immediately if no need to animate.\n\n\n    if (!count) {\n      callback && callback();\n    } // Start after all animators created\n    // Incase any animator is done immediately when all animation properties are not changed\n\n\n    for (var i = 0; i < animators.length; i++) {\n      animators[i].done(done).start(easing, forceAnimate);\n    }\n  },\n\n  /**\n   * @private\n   * @param {string} path=''\n   * @param {Object} source=this\n   * @param {Object} target\n   * @param {number} [time=500]\n   * @param {number} [delay=0]\n   *\n   * @example\n   *  // Animate position\n   *  el._animateToShallow({\n   *      position: [10, 10]\n   *  })\n   *\n   *  // Animate shape, style and position in 100ms, delayed 100ms\n   *  el._animateToShallow({\n   *      shape: {\n   *          width: 500\n   *      },\n   *      style: {\n   *          fill: 'red'\n   *      }\n   *      position: [10, 10]\n   *  }, 100, 100)\n   */\n  _animateToShallow: function (path, source, target, time, delay) {\n    var objShallow = {};\n    var propertyCount = 0;\n\n    for (var name in target) {\n      if (!target.hasOwnProperty(name)) {\n        continue;\n      }\n\n      if (source[name] != null) {\n        if (isObject(target[name]) && !isArrayLike(target[name])) {\n          this._animateToShallow(path ? path + '.' + name : name, source[name], target[name], time, delay);\n        } else {\n          objShallow[name] = target[name];\n          propertyCount++;\n        }\n      } else if (target[name] != null) {\n        // Attr directly if not has property\n        // FIXME, if some property not needed for element ?\n        if (!path) {\n          this.attr(name, target[name]);\n        } else {\n          // Shape or style\n          var props = {};\n          props[path] = {};\n          props[path][name] = target[name];\n          this.attr(props);\n        }\n      }\n    }\n\n    if (propertyCount > 0) {\n      this.animate(path, false).when(time == null ? 500 : time, objShallow).delay(delay || 0);\n    }\n\n    return this;\n  }\n};\nvar _default = Animatable;\nmodule.exports = _default;\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Clip = __webpack_require__(45);\n\nvar color = __webpack_require__(18);\n\nvar _util = __webpack_require__(0);\n\nvar isArrayLike = _util.isArrayLike;\n\n/**\n * @module echarts/animation/Animator\n */\nvar arraySlice = Array.prototype.slice;\n\nfunction defaultGetter(target, key) {\n  return target[key];\n}\n\nfunction defaultSetter(target, key, value) {\n  target[key] = value;\n}\n/**\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} percent\n * @return {number}\n */\n\n\nfunction interpolateNumber(p0, p1, percent) {\n  return (p1 - p0) * percent + p0;\n}\n/**\n * @param  {string} p0\n * @param  {string} p1\n * @param  {number} percent\n * @return {string}\n */\n\n\nfunction interpolateString(p0, p1, percent) {\n  return percent > 0.5 ? p1 : p0;\n}\n/**\n * @param  {Array} p0\n * @param  {Array} p1\n * @param  {number} percent\n * @param  {Array} out\n * @param  {number} arrDim\n */\n\n\nfunction interpolateArray(p0, p1, percent, out, arrDim) {\n  var len = p0.length;\n\n  if (arrDim == 1) {\n    for (var i = 0; i < len; i++) {\n      out[i] = interpolateNumber(p0[i], p1[i], percent);\n    }\n  } else {\n    var len2 = len && p0[0].length;\n\n    for (var i = 0; i < len; i++) {\n      for (var j = 0; j < len2; j++) {\n        out[i][j] = interpolateNumber(p0[i][j], p1[i][j], percent);\n      }\n    }\n  }\n} // arr0 is source array, arr1 is target array.\n// Do some preprocess to avoid error happened when interpolating from arr0 to arr1\n\n\nfunction fillArr(arr0, arr1, arrDim) {\n  var arr0Len = arr0.length;\n  var arr1Len = arr1.length;\n\n  if (arr0Len !== arr1Len) {\n    // FIXME Not work for TypedArray\n    var isPreviousLarger = arr0Len > arr1Len;\n\n    if (isPreviousLarger) {\n      // Cut the previous\n      arr0.length = arr1Len;\n    } else {\n      // Fill the previous\n      for (var i = arr0Len; i < arr1Len; i++) {\n        arr0.push(arrDim === 1 ? arr1[i] : arraySlice.call(arr1[i]));\n      }\n    }\n  } // Handling NaN value\n\n\n  var len2 = arr0[0] && arr0[0].length;\n\n  for (var i = 0; i < arr0.length; i++) {\n    if (arrDim === 1) {\n      if (isNaN(arr0[i])) {\n        arr0[i] = arr1[i];\n      }\n    } else {\n      for (var j = 0; j < len2; j++) {\n        if (isNaN(arr0[i][j])) {\n          arr0[i][j] = arr1[i][j];\n        }\n      }\n    }\n  }\n}\n/**\n * @param  {Array} arr0\n * @param  {Array} arr1\n * @param  {number} arrDim\n * @return {boolean}\n */\n\n\nfunction isArraySame(arr0, arr1, arrDim) {\n  if (arr0 === arr1) {\n    return true;\n  }\n\n  var len = arr0.length;\n\n  if (len !== arr1.length) {\n    return false;\n  }\n\n  if (arrDim === 1) {\n    for (var i = 0; i < len; i++) {\n      if (arr0[i] !== arr1[i]) {\n        return false;\n      }\n    }\n  } else {\n    var len2 = arr0[0].length;\n\n    for (var i = 0; i < len; i++) {\n      for (var j = 0; j < len2; j++) {\n        if (arr0[i][j] !== arr1[i][j]) {\n          return false;\n        }\n      }\n    }\n  }\n\n  return true;\n}\n/**\n * Catmull Rom interpolate array\n * @param  {Array} p0\n * @param  {Array} p1\n * @param  {Array} p2\n * @param  {Array} p3\n * @param  {number} t\n * @param  {number} t2\n * @param  {number} t3\n * @param  {Array} out\n * @param  {number} arrDim\n */\n\n\nfunction catmullRomInterpolateArray(p0, p1, p2, p3, t, t2, t3, out, arrDim) {\n  var len = p0.length;\n\n  if (arrDim == 1) {\n    for (var i = 0; i < len; i++) {\n      out[i] = catmullRomInterpolate(p0[i], p1[i], p2[i], p3[i], t, t2, t3);\n    }\n  } else {\n    var len2 = p0[0].length;\n\n    for (var i = 0; i < len; i++) {\n      for (var j = 0; j < len2; j++) {\n        out[i][j] = catmullRomInterpolate(p0[i][j], p1[i][j], p2[i][j], p3[i][j], t, t2, t3);\n      }\n    }\n  }\n}\n/**\n * Catmull Rom interpolate number\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {number} t\n * @param  {number} t2\n * @param  {number} t3\n * @return {number}\n */\n\n\nfunction catmullRomInterpolate(p0, p1, p2, p3, t, t2, t3) {\n  var v0 = (p2 - p0) * 0.5;\n  var v1 = (p3 - p1) * 0.5;\n  return (2 * (p1 - p2) + v0 + v1) * t3 + (-3 * (p1 - p2) - 2 * v0 - v1) * t2 + v0 * t + p1;\n}\n\nfunction cloneValue(value) {\n  if (isArrayLike(value)) {\n    var len = value.length;\n\n    if (isArrayLike(value[0])) {\n      var ret = [];\n\n      for (var i = 0; i < len; i++) {\n        ret.push(arraySlice.call(value[i]));\n      }\n\n      return ret;\n    }\n\n    return arraySlice.call(value);\n  }\n\n  return value;\n}\n\nfunction rgba2String(rgba) {\n  rgba[0] = Math.floor(rgba[0]);\n  rgba[1] = Math.floor(rgba[1]);\n  rgba[2] = Math.floor(rgba[2]);\n  return 'rgba(' + rgba.join(',') + ')';\n}\n\nfunction getArrayDim(keyframes) {\n  var lastValue = keyframes[keyframes.length - 1].value;\n  return isArrayLike(lastValue && lastValue[0]) ? 2 : 1;\n}\n\nfunction createTrackClip(animator, easing, oneTrackDone, keyframes, propName, forceAnimate) {\n  var getter = animator._getter;\n  var setter = animator._setter;\n  var useSpline = easing === 'spline';\n  var trackLen = keyframes.length;\n\n  if (!trackLen) {\n    return;\n  } // Guess data type\n\n\n  var firstVal = keyframes[0].value;\n  var isValueArray = isArrayLike(firstVal);\n  var isValueColor = false;\n  var isValueString = false; // For vertices morphing\n\n  var arrDim = isValueArray ? getArrayDim(keyframes) : 0;\n  var trackMaxTime; // Sort keyframe as ascending\n\n  keyframes.sort(function (a, b) {\n    return a.time - b.time;\n  });\n  trackMaxTime = keyframes[trackLen - 1].time; // Percents of each keyframe\n\n  var kfPercents = []; // Value of each keyframe\n\n  var kfValues = [];\n  var prevValue = keyframes[0].value;\n  var isAllValueEqual = true;\n\n  for (var i = 0; i < trackLen; i++) {\n    kfPercents.push(keyframes[i].time / trackMaxTime); // Assume value is a color when it is a string\n\n    var value = keyframes[i].value; // Check if value is equal, deep check if value is array\n\n    if (!(isValueArray && isArraySame(value, prevValue, arrDim) || !isValueArray && value === prevValue)) {\n      isAllValueEqual = false;\n    }\n\n    prevValue = value; // Try converting a string to a color array\n\n    if (typeof value == 'string') {\n      var colorArray = color.parse(value);\n\n      if (colorArray) {\n        value = colorArray;\n        isValueColor = true;\n      } else {\n        isValueString = true;\n      }\n    }\n\n    kfValues.push(value);\n  }\n\n  if (!forceAnimate && isAllValueEqual) {\n    return;\n  }\n\n  var lastValue = kfValues[trackLen - 1]; // Polyfill array and NaN value\n\n  for (var i = 0; i < trackLen - 1; i++) {\n    if (isValueArray) {\n      fillArr(kfValues[i], lastValue, arrDim);\n    } else {\n      if (isNaN(kfValues[i]) && !isNaN(lastValue) && !isValueString && !isValueColor) {\n        kfValues[i] = lastValue;\n      }\n    }\n  }\n\n  isValueArray && fillArr(getter(animator._target, propName), lastValue, arrDim); // Cache the key of last frame to speed up when\n  // animation playback is sequency\n\n  var lastFrame = 0;\n  var lastFramePercent = 0;\n  var start;\n  var w;\n  var p0;\n  var p1;\n  var p2;\n  var p3;\n\n  if (isValueColor) {\n    var rgba = [0, 0, 0, 0];\n  }\n\n  var onframe = function (target, percent) {\n    // Find the range keyframes\n    // kf1-----kf2---------current--------kf3\n    // find kf2 and kf3 and do interpolation\n    var frame; // In the easing function like elasticOut, percent may less than 0\n\n    if (percent < 0) {\n      frame = 0;\n    } else if (percent < lastFramePercent) {\n      // Start from next key\n      // PENDING start from lastFrame ?\n      start = Math.min(lastFrame + 1, trackLen - 1);\n\n      for (frame = start; frame >= 0; frame--) {\n        if (kfPercents[frame] <= percent) {\n          break;\n        }\n      } // PENDING really need to do this ?\n\n\n      frame = Math.min(frame, trackLen - 2);\n    } else {\n      for (frame = lastFrame; frame < trackLen; frame++) {\n        if (kfPercents[frame] > percent) {\n          break;\n        }\n      }\n\n      frame = Math.min(frame - 1, trackLen - 2);\n    }\n\n    lastFrame = frame;\n    lastFramePercent = percent;\n    var range = kfPercents[frame + 1] - kfPercents[frame];\n\n    if (range === 0) {\n      return;\n    } else {\n      w = (percent - kfPercents[frame]) / range;\n    }\n\n    if (useSpline) {\n      p1 = kfValues[frame];\n      p0 = kfValues[frame === 0 ? frame : frame - 1];\n      p2 = kfValues[frame > trackLen - 2 ? trackLen - 1 : frame + 1];\n      p3 = kfValues[frame > trackLen - 3 ? trackLen - 1 : frame + 2];\n\n      if (isValueArray) {\n        catmullRomInterpolateArray(p0, p1, p2, p3, w, w * w, w * w * w, getter(target, propName), arrDim);\n      } else {\n        var value;\n\n        if (isValueColor) {\n          value = catmullRomInterpolateArray(p0, p1, p2, p3, w, w * w, w * w * w, rgba, 1);\n          value = rgba2String(rgba);\n        } else if (isValueString) {\n          // String is step(0.5)\n          return interpolateString(p1, p2, w);\n        } else {\n          value = catmullRomInterpolate(p0, p1, p2, p3, w, w * w, w * w * w);\n        }\n\n        setter(target, propName, value);\n      }\n    } else {\n      if (isValueArray) {\n        interpolateArray(kfValues[frame], kfValues[frame + 1], w, getter(target, propName), arrDim);\n      } else {\n        var value;\n\n        if (isValueColor) {\n          interpolateArray(kfValues[frame], kfValues[frame + 1], w, rgba, 1);\n          value = rgba2String(rgba);\n        } else if (isValueString) {\n          // String is step(0.5)\n          return interpolateString(kfValues[frame], kfValues[frame + 1], w);\n        } else {\n          value = interpolateNumber(kfValues[frame], kfValues[frame + 1], w);\n        }\n\n        setter(target, propName, value);\n      }\n    }\n  };\n\n  var clip = new Clip({\n    target: animator._target,\n    life: trackMaxTime,\n    loop: animator._loop,\n    delay: animator._delay,\n    onframe: onframe,\n    ondestroy: oneTrackDone\n  });\n\n  if (easing && easing !== 'spline') {\n    clip.easing = easing;\n  }\n\n  return clip;\n}\n/**\n * @alias module:zrender/animation/Animator\n * @constructor\n * @param {Object} target\n * @param {boolean} loop\n * @param {Function} getter\n * @param {Function} setter\n */\n\n\nvar Animator = function (target, loop, getter, setter) {\n  this._tracks = {};\n  this._target = target;\n  this._loop = loop || false;\n  this._getter = getter || defaultGetter;\n  this._setter = setter || defaultSetter;\n  this._clipCount = 0;\n  this._delay = 0;\n  this._doneList = [];\n  this._onframeList = [];\n  this._clipList = [];\n};\n\nAnimator.prototype = {\n  /**\n   * 设置动画关键帧\n   * @param  {number} time 关键帧时间，单位是ms\n   * @param  {Object} props 关键帧的属性值，key-value表示\n   * @return {module:zrender/animation/Animator}\n   */\n  when: function (time\n  /* ms */\n  , props) {\n    var tracks = this._tracks;\n\n    for (var propName in props) {\n      if (!props.hasOwnProperty(propName)) {\n        continue;\n      }\n\n      if (!tracks[propName]) {\n        tracks[propName] = []; // Invalid value\n\n        var value = this._getter(this._target, propName);\n\n        if (value == null) {\n          // zrLog('Invalid property ' + propName);\n          continue;\n        } // If time is 0\n        //  Then props is given initialize value\n        // Else\n        //  Initialize value from current prop value\n\n\n        if (time !== 0) {\n          tracks[propName].push({\n            time: 0,\n            value: cloneValue(value)\n          });\n        }\n      }\n\n      tracks[propName].push({\n        time: time,\n        value: props[propName]\n      });\n    }\n\n    return this;\n  },\n\n  /**\n   * 添加动画每一帧的回调函数\n   * @param  {Function} callback\n   * @return {module:zrender/animation/Animator}\n   */\n  during: function (callback) {\n    this._onframeList.push(callback);\n\n    return this;\n  },\n  pause: function () {\n    for (var i = 0; i < this._clipList.length; i++) {\n      this._clipList[i].pause();\n    }\n\n    this._paused = true;\n  },\n  resume: function () {\n    for (var i = 0; i < this._clipList.length; i++) {\n      this._clipList[i].resume();\n    }\n\n    this._paused = false;\n  },\n  isPaused: function () {\n    return !!this._paused;\n  },\n  _doneCallback: function () {\n    // Clear all tracks\n    this._tracks = {}; // Clear all clips\n\n    this._clipList.length = 0;\n    var doneList = this._doneList;\n    var len = doneList.length;\n\n    for (var i = 0; i < len; i++) {\n      doneList[i].call(this);\n    }\n  },\n\n  /**\n   * 开始执行动画\n   * @param  {string|Function} [easing]\n   *         动画缓动函数，详见{@link module:zrender/animation/easing}\n   * @param  {boolean} forceAnimate\n   * @return {module:zrender/animation/Animator}\n   */\n  start: function (easing, forceAnimate) {\n    var self = this;\n    var clipCount = 0;\n\n    var oneTrackDone = function () {\n      clipCount--;\n\n      if (!clipCount) {\n        self._doneCallback();\n      }\n    };\n\n    var lastClip;\n\n    for (var propName in this._tracks) {\n      if (!this._tracks.hasOwnProperty(propName)) {\n        continue;\n      }\n\n      var clip = createTrackClip(this, easing, oneTrackDone, this._tracks[propName], propName, forceAnimate);\n\n      if (clip) {\n        this._clipList.push(clip);\n\n        clipCount++; // If start after added to animation\n\n        if (this.animation) {\n          this.animation.addClip(clip);\n        }\n\n        lastClip = clip;\n      }\n    } // Add during callback on the last clip\n\n\n    if (lastClip) {\n      var oldOnFrame = lastClip.onframe;\n\n      lastClip.onframe = function (target, percent) {\n        oldOnFrame(target, percent);\n\n        for (var i = 0; i < self._onframeList.length; i++) {\n          self._onframeList[i](target, percent);\n        }\n      };\n    } // This optimization will help the case that in the upper application\n    // the view may be refreshed frequently, where animation will be\n    // called repeatly but nothing changed.\n\n\n    if (!clipCount) {\n      this._doneCallback();\n    }\n\n    return this;\n  },\n\n  /**\n   * 停止动画\n   * @param {boolean} forwardToLast If move to last frame before stop\n   */\n  stop: function (forwardToLast) {\n    var clipList = this._clipList;\n    var animation = this.animation;\n\n    for (var i = 0; i < clipList.length; i++) {\n      var clip = clipList[i];\n\n      if (forwardToLast) {\n        // Move to last frame before stop\n        clip.onframe(this._target, 1);\n      }\n\n      animation && animation.removeClip(clip);\n    }\n\n    clipList.length = 0;\n  },\n\n  /**\n   * 设置动画延迟开始的时间\n   * @param  {number} time 单位ms\n   * @return {module:zrender/animation/Animator}\n   */\n  delay: function (time) {\n    this._delay = time;\n    return this;\n  },\n\n  /**\n   * 添加动画结束的回调\n   * @param  {Function} cb\n   * @return {module:zrender/animation/Animator}\n   */\n  done: function (cb) {\n    if (cb) {\n      this._doneList.push(cb);\n    }\n\n    return this;\n  },\n\n  /**\n   * @return {Array.<module:zrender/animation/Clip>}\n   */\n  getClips: function () {\n    return this._clipList;\n  }\n};\nvar _default = Animator;\nmodule.exports = _default;\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar easingFuncs = __webpack_require__(46);\n\n/**\n * 动画主控制器\n * @config target 动画对象，可以是数组，如果是数组的话会批量分发onframe等事件\n * @config life(1000) 动画时长\n * @config delay(0) 动画延迟时间\n * @config loop(true)\n * @config gap(0) 循环的间隔时间\n * @config onframe\n * @config easing(optional)\n * @config ondestroy(optional)\n * @config onrestart(optional)\n *\n * TODO pause\n */\nfunction Clip(options) {\n  this._target = options.target; // 生命周期\n\n  this._life = options.life || 1000; // 延时\n\n  this._delay = options.delay || 0; // 开始时间\n  // this._startTime = new Date().getTime() + this._delay;// 单位毫秒\n\n  this._initialized = false; // 是否循环\n\n  this.loop = options.loop == null ? false : options.loop;\n  this.gap = options.gap || 0;\n  this.easing = options.easing || 'Linear';\n  this.onframe = options.onframe;\n  this.ondestroy = options.ondestroy;\n  this.onrestart = options.onrestart;\n  this._pausedTime = 0;\n  this._paused = false;\n}\n\nClip.prototype = {\n  constructor: Clip,\n  step: function (globalTime, deltaTime) {\n    // Set startTime on first step, or _startTime may has milleseconds different between clips\n    // PENDING\n    if (!this._initialized) {\n      this._startTime = globalTime + this._delay;\n      this._initialized = true;\n    }\n\n    if (this._paused) {\n      this._pausedTime += deltaTime;\n      return;\n    }\n\n    var percent = (globalTime - this._startTime - this._pausedTime) / this._life; // 还没开始\n\n    if (percent < 0) {\n      return;\n    }\n\n    percent = Math.min(percent, 1);\n    var easing = this.easing;\n    var easingFunc = typeof easing == 'string' ? easingFuncs[easing] : easing;\n    var schedule = typeof easingFunc === 'function' ? easingFunc(percent) : percent;\n    this.fire('frame', schedule); // 结束\n\n    if (percent == 1) {\n      if (this.loop) {\n        this.restart(globalTime); // 重新开始周期\n        // 抛出而不是直接调用事件直到 stage.update 后再统一调用这些事件\n\n        return 'restart';\n      } // 动画完成将这个控制器标识为待删除\n      // 在Animation.update中进行批量删除\n\n\n      this._needsRemove = true;\n      return 'destroy';\n    }\n\n    return null;\n  },\n  restart: function (globalTime) {\n    var remainder = (globalTime - this._startTime - this._pausedTime) % this._life;\n    this._startTime = globalTime - remainder + this.gap;\n    this._pausedTime = 0;\n    this._needsRemove = false;\n  },\n  fire: function (eventType, arg) {\n    eventType = 'on' + eventType;\n\n    if (this[eventType]) {\n      this[eventType](this._target, arg);\n    }\n  },\n  pause: function () {\n    this._paused = true;\n  },\n  resume: function () {\n    this._paused = false;\n  }\n};\nvar _default = Clip;\nmodule.exports = _default;\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports) {\n\n/**\n * 缓动代码来自 https://github.com/sole/tween.js/blob/master/src/Tween.js\n * @see http://sole.github.io/tween.js/examples/03_graphs.html\n * @exports zrender/animation/easing\n */\nvar easing = {\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  linear: function (k) {\n    return k;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quadraticIn: function (k) {\n    return k * k;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quadraticOut: function (k) {\n    return k * (2 - k);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quadraticInOut: function (k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k;\n    }\n\n    return -0.5 * (--k * (k - 2) - 1);\n  },\n  // 三次方的缓动（t^3）\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  cubicIn: function (k) {\n    return k * k * k;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  cubicOut: function (k) {\n    return --k * k * k + 1;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  cubicInOut: function (k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k;\n    }\n\n    return 0.5 * ((k -= 2) * k * k + 2);\n  },\n  // 四次方的缓动（t^4）\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quarticIn: function (k) {\n    return k * k * k * k;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quarticOut: function (k) {\n    return 1 - --k * k * k * k;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quarticInOut: function (k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k * k;\n    }\n\n    return -0.5 * ((k -= 2) * k * k * k - 2);\n  },\n  // 五次方的缓动（t^5）\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quinticIn: function (k) {\n    return k * k * k * k * k;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quinticOut: function (k) {\n    return --k * k * k * k * k + 1;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quinticInOut: function (k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k * k * k;\n    }\n\n    return 0.5 * ((k -= 2) * k * k * k * k + 2);\n  },\n  // 正弦曲线的缓动（sin(t)）\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  sinusoidalIn: function (k) {\n    return 1 - Math.cos(k * Math.PI / 2);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  sinusoidalOut: function (k) {\n    return Math.sin(k * Math.PI / 2);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  sinusoidalInOut: function (k) {\n    return 0.5 * (1 - Math.cos(Math.PI * k));\n  },\n  // 指数曲线的缓动（2^t）\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  exponentialIn: function (k) {\n    return k === 0 ? 0 : Math.pow(1024, k - 1);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  exponentialOut: function (k) {\n    return k === 1 ? 1 : 1 - Math.pow(2, -10 * k);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  exponentialInOut: function (k) {\n    if (k === 0) {\n      return 0;\n    }\n\n    if (k === 1) {\n      return 1;\n    }\n\n    if ((k *= 2) < 1) {\n      return 0.5 * Math.pow(1024, k - 1);\n    }\n\n    return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2);\n  },\n  // 圆形曲线的缓动（sqrt(1-t^2)）\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  circularIn: function (k) {\n    return 1 - Math.sqrt(1 - k * k);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  circularOut: function (k) {\n    return Math.sqrt(1 - --k * k);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  circularInOut: function (k) {\n    if ((k *= 2) < 1) {\n      return -0.5 * (Math.sqrt(1 - k * k) - 1);\n    }\n\n    return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n  },\n  // 创建类似于弹簧在停止前来回振荡的动画\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  elasticIn: function (k) {\n    var s;\n    var a = 0.1;\n    var p = 0.4;\n\n    if (k === 0) {\n      return 0;\n    }\n\n    if (k === 1) {\n      return 1;\n    }\n\n    if (!a || a < 1) {\n      a = 1;\n      s = p / 4;\n    } else {\n      s = p * Math.asin(1 / a) / (2 * Math.PI);\n    }\n\n    return -(a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  elasticOut: function (k) {\n    var s;\n    var a = 0.1;\n    var p = 0.4;\n\n    if (k === 0) {\n      return 0;\n    }\n\n    if (k === 1) {\n      return 1;\n    }\n\n    if (!a || a < 1) {\n      a = 1;\n      s = p / 4;\n    } else {\n      s = p * Math.asin(1 / a) / (2 * Math.PI);\n    }\n\n    return a * Math.pow(2, -10 * k) * Math.sin((k - s) * (2 * Math.PI) / p) + 1;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  elasticInOut: function (k) {\n    var s;\n    var a = 0.1;\n    var p = 0.4;\n\n    if (k === 0) {\n      return 0;\n    }\n\n    if (k === 1) {\n      return 1;\n    }\n\n    if (!a || a < 1) {\n      a = 1;\n      s = p / 4;\n    } else {\n      s = p * Math.asin(1 / a) / (2 * Math.PI);\n    }\n\n    if ((k *= 2) < 1) {\n      return -0.5 * (a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));\n    }\n\n    return a * Math.pow(2, -10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p) * 0.5 + 1;\n  },\n  // 在某一动画开始沿指示的路径进行动画处理前稍稍收回该动画的移动\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  backIn: function (k) {\n    var s = 1.70158;\n    return k * k * ((s + 1) * k - s);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  backOut: function (k) {\n    var s = 1.70158;\n    return --k * k * ((s + 1) * k + s) + 1;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  backInOut: function (k) {\n    var s = 1.70158 * 1.525;\n\n    if ((k *= 2) < 1) {\n      return 0.5 * (k * k * ((s + 1) * k - s));\n    }\n\n    return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n  },\n  // 创建弹跳效果\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  bounceIn: function (k) {\n    return 1 - easing.bounceOut(1 - k);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  bounceOut: function (k) {\n    if (k < 1 / 2.75) {\n      return 7.5625 * k * k;\n    } else if (k < 2 / 2.75) {\n      return 7.5625 * (k -= 1.5 / 2.75) * k + 0.75;\n    } else if (k < 2.5 / 2.75) {\n      return 7.5625 * (k -= 2.25 / 2.75) * k + 0.9375;\n    } else {\n      return 7.5625 * (k -= 2.625 / 2.75) * k + 0.984375;\n    }\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  bounceInOut: function (k) {\n    if (k < 0.5) {\n      return easing.bounceIn(k * 2) * 0.5;\n    }\n\n    return easing.bounceOut(k * 2 - 1) * 0.5 + 0.5;\n  }\n};\nvar _default = easing;\nmodule.exports = _default;\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _config = __webpack_require__(19);\n\nvar debugMode = _config.debugMode;\n\nvar log = function () {};\n\nif (debugMode === 1) {\n  log = function () {\n    for (var k in arguments) {\n      throw new Error(arguments[k]);\n    }\n  };\n} else if (debugMode > 1) {\n  log = function () {\n    for (var k in arguments) {\n      console.log(arguments[k]);\n    }\n  };\n}\n\nvar _default = log;\nmodule.exports = _default;\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar textHelper = __webpack_require__(20);\n\nvar BoundingRect = __webpack_require__(3);\n\n/**\n * Mixin for drawing text in a element bounding rect\n * @module zrender/mixin/RectText\n */\nvar tmpRect = new BoundingRect();\n\nvar RectText = function () {};\n\nRectText.prototype = {\n  constructor: RectText,\n\n  /**\n   * Draw text in a rect with specified position.\n   * @param  {CanvasRenderingContext2D} ctx\n   * @param  {Object} rect Displayable rect\n   */\n  drawRectText: function (ctx, rect) {\n    var style = this.style;\n    rect = style.textRect || rect; // Optimize, avoid normalize every time.\n\n    this.__dirty && textHelper.normalizeTextStyle(style, true);\n    var text = style.text; // Convert to string\n\n    text != null && (text += '');\n\n    if (!textHelper.needDrawText(text, style)) {\n      return;\n    } // FIXME\n\n\n    ctx.save(); // Transform rect to view space\n\n    var transform = this.transform;\n\n    if (!style.transformText) {\n      if (transform) {\n        tmpRect.copy(rect);\n        tmpRect.applyTransform(transform);\n        rect = tmpRect;\n      }\n    } else {\n      this.setTransform(ctx);\n    } // transformText and textRotation can not be used at the same time.\n\n\n    textHelper.renderText(this, ctx, text, style, rect);\n    ctx.restore();\n  }\n};\nvar _default = RectText;\nmodule.exports = _default;\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar vec2 = __webpack_require__(2);\n\nvar curve = __webpack_require__(4);\n\n/**\n * @author Yi Shen(https://github.com/pissang)\n */\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar mathSin = Math.sin;\nvar mathCos = Math.cos;\nvar PI2 = Math.PI * 2;\nvar start = vec2.create();\nvar end = vec2.create();\nvar extremity = vec2.create();\n/**\n * 从顶点数组中计算出最小包围盒，写入`min`和`max`中\n * @module zrender/core/bbox\n * @param {Array<Object>} points 顶点数组\n * @param {number} min\n * @param {number} max\n */\n\nfunction fromPoints(points, min, max) {\n  if (points.length === 0) {\n    return;\n  }\n\n  var p = points[0];\n  var left = p[0];\n  var right = p[0];\n  var top = p[1];\n  var bottom = p[1];\n  var i;\n\n  for (i = 1; i < points.length; i++) {\n    p = points[i];\n    left = mathMin(left, p[0]);\n    right = mathMax(right, p[0]);\n    top = mathMin(top, p[1]);\n    bottom = mathMax(bottom, p[1]);\n  }\n\n  min[0] = left;\n  min[1] = top;\n  max[0] = right;\n  max[1] = bottom;\n}\n/**\n * @memberOf module:zrender/core/bbox\n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @param {Array.<number>} min\n * @param {Array.<number>} max\n */\n\n\nfunction fromLine(x0, y0, x1, y1, min, max) {\n  min[0] = mathMin(x0, x1);\n  min[1] = mathMin(y0, y1);\n  max[0] = mathMax(x0, x1);\n  max[1] = mathMax(y0, y1);\n}\n\nvar xDim = [];\nvar yDim = [];\n/**\n * 从三阶贝塞尔曲线(p0, p1, p2, p3)中计算出最小包围盒，写入`min`和`max`中\n * @memberOf module:zrender/core/bbox\n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @param {number} x2\n * @param {number} y2\n * @param {number} x3\n * @param {number} y3\n * @param {Array.<number>} min\n * @param {Array.<number>} max\n */\n\nfunction fromCubic(x0, y0, x1, y1, x2, y2, x3, y3, min, max) {\n  var cubicExtrema = curve.cubicExtrema;\n  var cubicAt = curve.cubicAt;\n  var i;\n  var n = cubicExtrema(x0, x1, x2, x3, xDim);\n  min[0] = Infinity;\n  min[1] = Infinity;\n  max[0] = -Infinity;\n  max[1] = -Infinity;\n\n  for (i = 0; i < n; i++) {\n    var x = cubicAt(x0, x1, x2, x3, xDim[i]);\n    min[0] = mathMin(x, min[0]);\n    max[0] = mathMax(x, max[0]);\n  }\n\n  n = cubicExtrema(y0, y1, y2, y3, yDim);\n\n  for (i = 0; i < n; i++) {\n    var y = cubicAt(y0, y1, y2, y3, yDim[i]);\n    min[1] = mathMin(y, min[1]);\n    max[1] = mathMax(y, max[1]);\n  }\n\n  min[0] = mathMin(x0, min[0]);\n  max[0] = mathMax(x0, max[0]);\n  min[0] = mathMin(x3, min[0]);\n  max[0] = mathMax(x3, max[0]);\n  min[1] = mathMin(y0, min[1]);\n  max[1] = mathMax(y0, max[1]);\n  min[1] = mathMin(y3, min[1]);\n  max[1] = mathMax(y3, max[1]);\n}\n/**\n * 从二阶贝塞尔曲线(p0, p1, p2)中计算出最小包围盒，写入`min`和`max`中\n * @memberOf module:zrender/core/bbox\n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @param {number} x2\n * @param {number} y2\n * @param {Array.<number>} min\n * @param {Array.<number>} max\n */\n\n\nfunction fromQuadratic(x0, y0, x1, y1, x2, y2, min, max) {\n  var quadraticExtremum = curve.quadraticExtremum;\n  var quadraticAt = curve.quadraticAt; // Find extremities, where derivative in x dim or y dim is zero\n\n  var tx = mathMax(mathMin(quadraticExtremum(x0, x1, x2), 1), 0);\n  var ty = mathMax(mathMin(quadraticExtremum(y0, y1, y2), 1), 0);\n  var x = quadraticAt(x0, x1, x2, tx);\n  var y = quadraticAt(y0, y1, y2, ty);\n  min[0] = mathMin(x0, x2, x);\n  min[1] = mathMin(y0, y2, y);\n  max[0] = mathMax(x0, x2, x);\n  max[1] = mathMax(y0, y2, y);\n}\n/**\n * 从圆弧中计算出最小包围盒，写入`min`和`max`中\n * @method\n * @memberOf module:zrender/core/bbox\n * @param {number} x\n * @param {number} y\n * @param {number} rx\n * @param {number} ry\n * @param {number} startAngle\n * @param {number} endAngle\n * @param {number} anticlockwise\n * @param {Array.<number>} min\n * @param {Array.<number>} max\n */\n\n\nfunction fromArc(x, y, rx, ry, startAngle, endAngle, anticlockwise, min, max) {\n  var vec2Min = vec2.min;\n  var vec2Max = vec2.max;\n  var diff = Math.abs(startAngle - endAngle);\n\n  if (diff % PI2 < 1e-4 && diff > 1e-4) {\n    // Is a circle\n    min[0] = x - rx;\n    min[1] = y - ry;\n    max[0] = x + rx;\n    max[1] = y + ry;\n    return;\n  }\n\n  start[0] = mathCos(startAngle) * rx + x;\n  start[1] = mathSin(startAngle) * ry + y;\n  end[0] = mathCos(endAngle) * rx + x;\n  end[1] = mathSin(endAngle) * ry + y;\n  vec2Min(min, start, end);\n  vec2Max(max, start, end); // Thresh to [0, Math.PI * 2]\n\n  startAngle = startAngle % PI2;\n\n  if (startAngle < 0) {\n    startAngle = startAngle + PI2;\n  }\n\n  endAngle = endAngle % PI2;\n\n  if (endAngle < 0) {\n    endAngle = endAngle + PI2;\n  }\n\n  if (startAngle > endAngle && !anticlockwise) {\n    endAngle += PI2;\n  } else if (startAngle < endAngle && anticlockwise) {\n    startAngle += PI2;\n  }\n\n  if (anticlockwise) {\n    var tmp = endAngle;\n    endAngle = startAngle;\n    startAngle = tmp;\n  } // var number = 0;\n  // var step = (anticlockwise ? -Math.PI : Math.PI) / 2;\n\n\n  for (var angle = 0; angle < endAngle; angle += Math.PI / 2) {\n    if (angle > startAngle) {\n      extremity[0] = mathCos(angle) * rx + x;\n      extremity[1] = mathSin(angle) * ry + y;\n      vec2Min(min, extremity, min);\n      vec2Max(max, extremity, max);\n    }\n  }\n}\n\nexports.fromPoints = fromPoints;\nexports.fromLine = fromLine;\nexports.fromCubic = fromCubic;\nexports.fromQuadratic = fromQuadratic;\nexports.fromArc = fromArc;\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar PathProxy = __webpack_require__(6);\n\nvar line = __webpack_require__(51);\n\nvar cubic = __webpack_require__(52);\n\nvar quadratic = __webpack_require__(53);\n\nvar arc = __webpack_require__(54);\n\nvar _util = __webpack_require__(22);\n\nvar normalizeRadian = _util.normalizeRadian;\n\nvar curve = __webpack_require__(4);\n\nvar windingLine = __webpack_require__(55);\n\nvar CMD = PathProxy.CMD;\nvar PI2 = Math.PI * 2;\nvar EPSILON = 1e-4;\n\nfunction isAroundEqual(a, b) {\n  return Math.abs(a - b) < EPSILON;\n} // 临时数组\n\n\nvar roots = [-1, -1, -1];\nvar extrema = [-1, -1];\n\nfunction swapExtrema() {\n  var tmp = extrema[0];\n  extrema[0] = extrema[1];\n  extrema[1] = tmp;\n}\n\nfunction windingCubic(x0, y0, x1, y1, x2, y2, x3, y3, x, y) {\n  // Quick reject\n  if (y > y0 && y > y1 && y > y2 && y > y3 || y < y0 && y < y1 && y < y2 && y < y3) {\n    return 0;\n  }\n\n  var nRoots = curve.cubicRootAt(y0, y1, y2, y3, y, roots);\n\n  if (nRoots === 0) {\n    return 0;\n  } else {\n    var w = 0;\n    var nExtrema = -1;\n    var y0_, y1_;\n\n    for (var i = 0; i < nRoots; i++) {\n      var t = roots[i]; // Avoid winding error when intersection point is the connect point of two line of polygon\n\n      var unit = t === 0 || t === 1 ? 0.5 : 1;\n      var x_ = curve.cubicAt(x0, x1, x2, x3, t);\n\n      if (x_ < x) {\n        // Quick reject\n        continue;\n      }\n\n      if (nExtrema < 0) {\n        nExtrema = curve.cubicExtrema(y0, y1, y2, y3, extrema);\n\n        if (extrema[1] < extrema[0] && nExtrema > 1) {\n          swapExtrema();\n        }\n\n        y0_ = curve.cubicAt(y0, y1, y2, y3, extrema[0]);\n\n        if (nExtrema > 1) {\n          y1_ = curve.cubicAt(y0, y1, y2, y3, extrema[1]);\n        }\n      }\n\n      if (nExtrema == 2) {\n        // 分成三段单调函数\n        if (t < extrema[0]) {\n          w += y0_ < y0 ? unit : -unit;\n        } else if (t < extrema[1]) {\n          w += y1_ < y0_ ? unit : -unit;\n        } else {\n          w += y3 < y1_ ? unit : -unit;\n        }\n      } else {\n        // 分成两段单调函数\n        if (t < extrema[0]) {\n          w += y0_ < y0 ? unit : -unit;\n        } else {\n          w += y3 < y0_ ? unit : -unit;\n        }\n      }\n    }\n\n    return w;\n  }\n}\n\nfunction windingQuadratic(x0, y0, x1, y1, x2, y2, x, y) {\n  // Quick reject\n  if (y > y0 && y > y1 && y > y2 || y < y0 && y < y1 && y < y2) {\n    return 0;\n  }\n\n  var nRoots = curve.quadraticRootAt(y0, y1, y2, y, roots);\n\n  if (nRoots === 0) {\n    return 0;\n  } else {\n    var t = curve.quadraticExtremum(y0, y1, y2);\n\n    if (t >= 0 && t <= 1) {\n      var w = 0;\n      var y_ = curve.quadraticAt(y0, y1, y2, t);\n\n      for (var i = 0; i < nRoots; i++) {\n        // Remove one endpoint.\n        var unit = roots[i] === 0 || roots[i] === 1 ? 0.5 : 1;\n        var x_ = curve.quadraticAt(x0, x1, x2, roots[i]);\n\n        if (x_ < x) {\n          // Quick reject\n          continue;\n        }\n\n        if (roots[i] < t) {\n          w += y_ < y0 ? unit : -unit;\n        } else {\n          w += y2 < y_ ? unit : -unit;\n        }\n      }\n\n      return w;\n    } else {\n      // Remove one endpoint.\n      var unit = roots[0] === 0 || roots[0] === 1 ? 0.5 : 1;\n      var x_ = curve.quadraticAt(x0, x1, x2, roots[0]);\n\n      if (x_ < x) {\n        // Quick reject\n        return 0;\n      }\n\n      return y2 < y0 ? unit : -unit;\n    }\n  }\n} // TODO\n// Arc 旋转\n\n\nfunction windingArc(cx, cy, r, startAngle, endAngle, anticlockwise, x, y) {\n  y -= cy;\n\n  if (y > r || y < -r) {\n    return 0;\n  }\n\n  var tmp = Math.sqrt(r * r - y * y);\n  roots[0] = -tmp;\n  roots[1] = tmp;\n  var diff = Math.abs(startAngle - endAngle);\n\n  if (diff < 1e-4) {\n    return 0;\n  }\n\n  if (diff % PI2 < 1e-4) {\n    // Is a circle\n    startAngle = 0;\n    endAngle = PI2;\n    var dir = anticlockwise ? 1 : -1;\n\n    if (x >= roots[0] + cx && x <= roots[1] + cx) {\n      return dir;\n    } else {\n      return 0;\n    }\n  }\n\n  if (anticlockwise) {\n    var tmp = startAngle;\n    startAngle = normalizeRadian(endAngle);\n    endAngle = normalizeRadian(tmp);\n  } else {\n    startAngle = normalizeRadian(startAngle);\n    endAngle = normalizeRadian(endAngle);\n  }\n\n  if (startAngle > endAngle) {\n    endAngle += PI2;\n  }\n\n  var w = 0;\n\n  for (var i = 0; i < 2; i++) {\n    var x_ = roots[i];\n\n    if (x_ + cx > x) {\n      var angle = Math.atan2(y, x_);\n      var dir = anticlockwise ? 1 : -1;\n\n      if (angle < 0) {\n        angle = PI2 + angle;\n      }\n\n      if (angle >= startAngle && angle <= endAngle || angle + PI2 >= startAngle && angle + PI2 <= endAngle) {\n        if (angle > Math.PI / 2 && angle < Math.PI * 1.5) {\n          dir = -dir;\n        }\n\n        w += dir;\n      }\n    }\n  }\n\n  return w;\n}\n\nfunction containPath(data, lineWidth, isStroke, x, y) {\n  var w = 0;\n  var xi = 0;\n  var yi = 0;\n  var x0 = 0;\n  var y0 = 0;\n\n  for (var i = 0; i < data.length;) {\n    var cmd = data[i++]; // Begin a new subpath\n\n    if (cmd === CMD.M && i > 1) {\n      // Close previous subpath\n      if (!isStroke) {\n        w += windingLine(xi, yi, x0, y0, x, y);\n      } // 如果被任何一个 subpath 包含\n      // if (w !== 0) {\n      //     return true;\n      // }\n\n    }\n\n    if (i == 1) {\n      // 如果第一个命令是 L, C, Q\n      // 则 previous point 同绘制命令的第一个 point\n      //\n      // 第一个命令为 Arc 的情况下会在后面特殊处理\n      xi = data[i];\n      yi = data[i + 1];\n      x0 = xi;\n      y0 = yi;\n    }\n\n    switch (cmd) {\n      case CMD.M:\n        // moveTo 命令重新创建一个新的 subpath, 并且更新新的起点\n        // 在 closePath 的时候使用\n        x0 = data[i++];\n        y0 = data[i++];\n        xi = x0;\n        yi = y0;\n        break;\n\n      case CMD.L:\n        if (isStroke) {\n          if (line.containStroke(xi, yi, data[i], data[i + 1], lineWidth, x, y)) {\n            return true;\n          }\n        } else {\n          // NOTE 在第一个命令为 L, C, Q 的时候会计算出 NaN\n          w += windingLine(xi, yi, data[i], data[i + 1], x, y) || 0;\n        }\n\n        xi = data[i++];\n        yi = data[i++];\n        break;\n\n      case CMD.C:\n        if (isStroke) {\n          if (cubic.containStroke(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], lineWidth, x, y)) {\n            return true;\n          }\n        } else {\n          w += windingCubic(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], x, y) || 0;\n        }\n\n        xi = data[i++];\n        yi = data[i++];\n        break;\n\n      case CMD.Q:\n        if (isStroke) {\n          if (quadratic.containStroke(xi, yi, data[i++], data[i++], data[i], data[i + 1], lineWidth, x, y)) {\n            return true;\n          }\n        } else {\n          w += windingQuadratic(xi, yi, data[i++], data[i++], data[i], data[i + 1], x, y) || 0;\n        }\n\n        xi = data[i++];\n        yi = data[i++];\n        break;\n\n      case CMD.A:\n        // TODO Arc 判断的开销比较大\n        var cx = data[i++];\n        var cy = data[i++];\n        var rx = data[i++];\n        var ry = data[i++];\n        var theta = data[i++];\n        var dTheta = data[i++]; // TODO Arc 旋转\n\n        var psi = data[i++];\n        var anticlockwise = 1 - data[i++];\n        var x1 = Math.cos(theta) * rx + cx;\n        var y1 = Math.sin(theta) * ry + cy; // 不是直接使用 arc 命令\n\n        if (i > 1) {\n          w += windingLine(xi, yi, x1, y1, x, y);\n        } else {\n          // 第一个命令起点还未定义\n          x0 = x1;\n          y0 = y1;\n        } // zr 使用scale来模拟椭圆, 这里也对x做一定的缩放\n\n\n        var _x = (x - cx) * ry / rx + cx;\n\n        if (isStroke) {\n          if (arc.containStroke(cx, cy, ry, theta, theta + dTheta, anticlockwise, lineWidth, _x, y)) {\n            return true;\n          }\n        } else {\n          w += windingArc(cx, cy, ry, theta, theta + dTheta, anticlockwise, _x, y);\n        }\n\n        xi = Math.cos(theta + dTheta) * rx + cx;\n        yi = Math.sin(theta + dTheta) * ry + cy;\n        break;\n\n      case CMD.R:\n        x0 = xi = data[i++];\n        y0 = yi = data[i++];\n        var width = data[i++];\n        var height = data[i++];\n        var x1 = x0 + width;\n        var y1 = y0 + height;\n\n        if (isStroke) {\n          if (line.containStroke(x0, y0, x1, y0, lineWidth, x, y) || line.containStroke(x1, y0, x1, y1, lineWidth, x, y) || line.containStroke(x1, y1, x0, y1, lineWidth, x, y) || line.containStroke(x0, y1, x0, y0, lineWidth, x, y)) {\n            return true;\n          }\n        } else {\n          // FIXME Clockwise ?\n          w += windingLine(x1, y0, x1, y1, x, y);\n          w += windingLine(x0, y1, x0, y0, x, y);\n        }\n\n        break;\n\n      case CMD.Z:\n        if (isStroke) {\n          if (line.containStroke(xi, yi, x0, y0, lineWidth, x, y)) {\n            return true;\n          }\n        } else {\n          // Close a subpath\n          w += windingLine(xi, yi, x0, y0, x, y); // 如果被任何一个 subpath 包含\n          // FIXME subpaths may overlap\n          // if (w !== 0) {\n          //     return true;\n          // }\n        }\n\n        xi = x0;\n        yi = y0;\n        break;\n    }\n  }\n\n  if (!isStroke && !isAroundEqual(yi, y0)) {\n    w += windingLine(xi, yi, x0, y0, x, y) || 0;\n  }\n\n  return w !== 0;\n}\n\nfunction contain(pathData, x, y) {\n  return containPath(pathData, 0, false, x, y);\n}\n\nfunction containStroke(pathData, lineWidth, x, y) {\n  return containPath(pathData, lineWidth, true, x, y);\n}\n\nexports.contain = contain;\nexports.containStroke = containStroke;\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports) {\n\n/**\n * 线段包含判断\n * @param  {number}  x0\n * @param  {number}  y0\n * @param  {number}  x1\n * @param  {number}  y1\n * @param  {number}  lineWidth\n * @param  {number}  x\n * @param  {number}  y\n * @return {boolean}\n */\nfunction containStroke(x0, y0, x1, y1, lineWidth, x, y) {\n  if (lineWidth === 0) {\n    return false;\n  }\n\n  var _l = lineWidth;\n  var _a = 0;\n  var _b = x0; // Quick reject\n\n  if (y > y0 + _l && y > y1 + _l || y < y0 - _l && y < y1 - _l || x > x0 + _l && x > x1 + _l || x < x0 - _l && x < x1 - _l) {\n    return false;\n  }\n\n  if (x0 !== x1) {\n    _a = (y0 - y1) / (x0 - x1);\n    _b = (x0 * y1 - x1 * y0) / (x0 - x1);\n  } else {\n    return Math.abs(x - x0) <= _l / 2;\n  }\n\n  var tmp = _a * x - y + _b;\n\n  var _s = tmp * tmp / (_a * _a + 1);\n\n  return _s <= _l / 2 * _l / 2;\n}\n\nexports.containStroke = containStroke;\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar curve = __webpack_require__(4);\n\n/**\n * 三次贝塞尔曲线描边包含判断\n * @param  {number}  x0\n * @param  {number}  y0\n * @param  {number}  x1\n * @param  {number}  y1\n * @param  {number}  x2\n * @param  {number}  y2\n * @param  {number}  x3\n * @param  {number}  y3\n * @param  {number}  lineWidth\n * @param  {number}  x\n * @param  {number}  y\n * @return {boolean}\n */\nfunction containStroke(x0, y0, x1, y1, x2, y2, x3, y3, lineWidth, x, y) {\n  if (lineWidth === 0) {\n    return false;\n  }\n\n  var _l = lineWidth; // Quick reject\n\n  if (y > y0 + _l && y > y1 + _l && y > y2 + _l && y > y3 + _l || y < y0 - _l && y < y1 - _l && y < y2 - _l && y < y3 - _l || x > x0 + _l && x > x1 + _l && x > x2 + _l && x > x3 + _l || x < x0 - _l && x < x1 - _l && x < x2 - _l && x < x3 - _l) {\n    return false;\n  }\n\n  var d = curve.cubicProjectPoint(x0, y0, x1, y1, x2, y2, x3, y3, x, y, null);\n  return d <= _l / 2;\n}\n\nexports.containStroke = containStroke;\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _curve = __webpack_require__(4);\n\nvar quadraticProjectPoint = _curve.quadraticProjectPoint;\n\n/**\n * 二次贝塞尔曲线描边包含判断\n * @param  {number}  x0\n * @param  {number}  y0\n * @param  {number}  x1\n * @param  {number}  y1\n * @param  {number}  x2\n * @param  {number}  y2\n * @param  {number}  lineWidth\n * @param  {number}  x\n * @param  {number}  y\n * @return {boolean}\n */\nfunction containStroke(x0, y0, x1, y1, x2, y2, lineWidth, x, y) {\n  if (lineWidth === 0) {\n    return false;\n  }\n\n  var _l = lineWidth; // Quick reject\n\n  if (y > y0 + _l && y > y1 + _l && y > y2 + _l || y < y0 - _l && y < y1 - _l && y < y2 - _l || x > x0 + _l && x > x1 + _l && x > x2 + _l || x < x0 - _l && x < x1 - _l && x < x2 - _l) {\n    return false;\n  }\n\n  var d = quadraticProjectPoint(x0, y0, x1, y1, x2, y2, x, y, null);\n  return d <= _l / 2;\n}\n\nexports.containStroke = containStroke;\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _util = __webpack_require__(22);\n\nvar normalizeRadian = _util.normalizeRadian;\nvar PI2 = Math.PI * 2;\n/**\n * 圆弧描边包含判断\n * @param  {number}  cx\n * @param  {number}  cy\n * @param  {number}  r\n * @param  {number}  startAngle\n * @param  {number}  endAngle\n * @param  {boolean}  anticlockwise\n * @param  {number} lineWidth\n * @param  {number}  x\n * @param  {number}  y\n * @return {Boolean}\n */\n\nfunction containStroke(cx, cy, r, startAngle, endAngle, anticlockwise, lineWidth, x, y) {\n  if (lineWidth === 0) {\n    return false;\n  }\n\n  var _l = lineWidth;\n  x -= cx;\n  y -= cy;\n  var d = Math.sqrt(x * x + y * y);\n\n  if (d - _l > r || d + _l < r) {\n    return false;\n  }\n\n  if (Math.abs(startAngle - endAngle) % PI2 < 1e-4) {\n    // Is a circle\n    return true;\n  }\n\n  if (anticlockwise) {\n    var tmp = startAngle;\n    startAngle = normalizeRadian(endAngle);\n    endAngle = normalizeRadian(tmp);\n  } else {\n    startAngle = normalizeRadian(startAngle);\n    endAngle = normalizeRadian(endAngle);\n  }\n\n  if (startAngle > endAngle) {\n    endAngle += PI2;\n  }\n\n  var angle = Math.atan2(y, x);\n\n  if (angle < 0) {\n    angle += PI2;\n  }\n\n  return angle >= startAngle && angle <= endAngle || angle + PI2 >= startAngle && angle + PI2 <= endAngle;\n}\n\nexports.containStroke = containStroke;\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports) {\n\nfunction windingLine(x0, y0, x1, y1, x, y) {\n  if (y > y0 && y > y1 || y < y0 && y < y1) {\n    return 0;\n  } // Ignore horizontal line\n\n\n  if (y1 === y0) {\n    return 0;\n  }\n\n  var dir = y1 < y0 ? 1 : -1;\n  var t = (y - y0) / (y1 - y0); // Avoid winding error when intersection point is the connect point of two line of polygon\n\n  if (t === 1 || t === 0) {\n    dir = y1 < y0 ? 0.5 : -0.5;\n  }\n\n  var x_ = t * (x1 - x0) + x0;\n  return x_ > x ? dir : 0;\n}\n\nmodule.exports = windingLine;\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports) {\n\nvar Pattern = function (image, repeat) {\n  // Should do nothing more in this constructor. Because gradient can be\n  // declard by `color: {image: ...}`, where this constructor will not be called.\n  this.image = image;\n  this.repeat = repeat; // Can be cloned\n\n  this.type = 'pattern';\n};\n\nPattern.prototype.getCanvasPattern = function (ctx) {\n  return ctx.createPattern(this.image, this.repeat || 'repeat');\n};\n\nvar _default = Pattern;\nmodule.exports = _default;\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar PathProxy = __webpack_require__(6);\n\nvar _vector = __webpack_require__(2);\n\nvar v2ApplyTransform = _vector.applyTransform;\nvar CMD = PathProxy.CMD;\nvar points = [[], [], []];\nvar mathSqrt = Math.sqrt;\nvar mathAtan2 = Math.atan2;\n\nfunction _default(path, m) {\n  var data = path.data;\n  var cmd;\n  var nPoint;\n  var i;\n  var j;\n  var k;\n  var p;\n  var M = CMD.M;\n  var C = CMD.C;\n  var L = CMD.L;\n  var R = CMD.R;\n  var A = CMD.A;\n  var Q = CMD.Q;\n\n  for (i = 0, j = 0; i < data.length;) {\n    cmd = data[i++];\n    j = i;\n    nPoint = 0;\n\n    switch (cmd) {\n      case M:\n        nPoint = 1;\n        break;\n\n      case L:\n        nPoint = 1;\n        break;\n\n      case C:\n        nPoint = 3;\n        break;\n\n      case Q:\n        nPoint = 2;\n        break;\n\n      case A:\n        var x = m[4];\n        var y = m[5];\n        var sx = mathSqrt(m[0] * m[0] + m[1] * m[1]);\n        var sy = mathSqrt(m[2] * m[2] + m[3] * m[3]);\n        var angle = mathAtan2(-m[1] / sy, m[0] / sx); // cx\n\n        data[i] *= sx;\n        data[i++] += x; // cy\n\n        data[i] *= sy;\n        data[i++] += y; // Scale rx and ry\n        // FIXME Assume psi is 0 here\n\n        data[i++] *= sx;\n        data[i++] *= sy; // Start angle\n\n        data[i++] += angle; // end angle\n\n        data[i++] += angle; // FIXME psi\n\n        i += 2;\n        j = i;\n        break;\n\n      case R:\n        // x0, y0\n        p[0] = data[i++];\n        p[1] = data[i++];\n        v2ApplyTransform(p, p, m);\n        data[j++] = p[0];\n        data[j++] = p[1]; // x1, y1\n\n        p[0] += data[i++];\n        p[1] += data[i++];\n        v2ApplyTransform(p, p, m);\n        data[j++] = p[0];\n        data[j++] = p[1];\n    }\n\n    for (k = 0; k < nPoint; k++) {\n      var p = points[k];\n      p[0] = data[i++];\n      p[1] = data[i++];\n      v2ApplyTransform(p, p, m); // Write back\n\n      data[j++] = p[0];\n      data[j++] = p[1];\n    }\n  }\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Displayable = __webpack_require__(12);\n\nvar BoundingRect = __webpack_require__(3);\n\nvar zrUtil = __webpack_require__(0);\n\nvar imageHelper = __webpack_require__(10);\n\n/**\n * @alias zrender/graphic/Image\n * @extends module:zrender/graphic/Displayable\n * @constructor\n * @param {Object} opts\n */\nfunction ZImage(opts) {\n  Displayable.call(this, opts);\n}\n\nZImage.prototype = {\n  constructor: ZImage,\n  type: 'image',\n  brush: function (ctx, prevEl) {\n    var style = this.style;\n    var src = style.image; // Must bind each time\n\n    style.bind(ctx, this, prevEl);\n    var image = this._image = imageHelper.createOrUpdateImage(src, this._image, this, this.onload);\n\n    if (!image || !imageHelper.isImageReady(image)) {\n      return;\n    } // 图片已经加载完成\n    // if (image.nodeName.toUpperCase() == 'IMG') {\n    //     if (!image.complete) {\n    //         return;\n    //     }\n    // }\n    // Else is canvas\n\n\n    var x = style.x || 0;\n    var y = style.y || 0;\n    var width = style.width;\n    var height = style.height;\n    var aspect = image.width / image.height;\n\n    if (width == null && height != null) {\n      // Keep image/height ratio\n      width = height * aspect;\n    } else if (height == null && width != null) {\n      height = width / aspect;\n    } else if (width == null && height == null) {\n      width = image.width;\n      height = image.height;\n    } // 设置transform\n\n\n    this.setTransform(ctx);\n\n    if (style.sWidth && style.sHeight) {\n      var sx = style.sx || 0;\n      var sy = style.sy || 0;\n      ctx.drawImage(image, sx, sy, style.sWidth, style.sHeight, x, y, width, height);\n    } else if (style.sx && style.sy) {\n      var sx = style.sx;\n      var sy = style.sy;\n      var sWidth = width - sx;\n      var sHeight = height - sy;\n      ctx.drawImage(image, sx, sy, sWidth, sHeight, x, y, width, height);\n    } else {\n      ctx.drawImage(image, x, y, width, height);\n    }\n\n    this.restoreTransform(ctx); // Draw rect text\n\n    if (style.text != null) {\n      this.drawRectText(ctx, this.getBoundingRect());\n    }\n  },\n  getBoundingRect: function () {\n    var style = this.style;\n\n    if (!this._rect) {\n      this._rect = new BoundingRect(style.x || 0, style.y || 0, style.width || 0, style.height || 0);\n    }\n\n    return this._rect;\n  }\n};\nzrUtil.inherits(ZImage, Displayable);\nvar _default = ZImage;\nmodule.exports = _default;\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar Element = __webpack_require__(16);\n\nvar BoundingRect = __webpack_require__(3);\n\n/**\n * Group是一个容器，可以插入子节点，Group的变换也会被应用到子节点上\n * @module zrender/graphic/Group\n * @example\n *     var Group = require('zrender/container/Group');\n *     var Circle = require('zrender/graphic/shape/Circle');\n *     var g = new Group();\n *     g.position[0] = 100;\n *     g.position[1] = 100;\n *     g.add(new Circle({\n *         style: {\n *             x: 100,\n *             y: 100,\n *             r: 20,\n *         }\n *     }));\n *     zr.add(g);\n */\n\n/**\n * @alias module:zrender/graphic/Group\n * @constructor\n * @extends module:zrender/mixin/Transformable\n * @extends module:zrender/mixin/Eventful\n */\nvar Group = function (opts) {\n  opts = opts || {};\n  Element.call(this, opts);\n\n  for (var key in opts) {\n    if (opts.hasOwnProperty(key)) {\n      this[key] = opts[key];\n    }\n  }\n\n  this._children = [];\n  this.__storage = null;\n  this.__dirty = true;\n};\n\nGroup.prototype = {\n  constructor: Group,\n  isGroup: true,\n\n  /**\n   * @type {string}\n   */\n  type: 'group',\n\n  /**\n   * 所有子孙元素是否响应鼠标事件\n   * @name module:/zrender/container/Group#silent\n   * @type {boolean}\n   * @default false\n   */\n  silent: false,\n\n  /**\n   * @return {Array.<module:zrender/Element>}\n   */\n  children: function () {\n    return this._children.slice();\n  },\n\n  /**\n   * 获取指定 index 的儿子节点\n   * @param  {number} idx\n   * @return {module:zrender/Element}\n   */\n  childAt: function (idx) {\n    return this._children[idx];\n  },\n\n  /**\n   * 获取指定名字的儿子节点\n   * @param  {string} name\n   * @return {module:zrender/Element}\n   */\n  childOfName: function (name) {\n    var children = this._children;\n\n    for (var i = 0; i < children.length; i++) {\n      if (children[i].name === name) {\n        return children[i];\n      }\n    }\n  },\n\n  /**\n   * @return {number}\n   */\n  childCount: function () {\n    return this._children.length;\n  },\n\n  /**\n   * 添加子节点到最后\n   * @param {module:zrender/Element} child\n   */\n  add: function (child) {\n    if (child && child !== this && child.parent !== this) {\n      this._children.push(child);\n\n      this._doAdd(child);\n    }\n\n    return this;\n  },\n\n  /**\n   * 添加子节点在 nextSibling 之前\n   * @param {module:zrender/Element} child\n   * @param {module:zrender/Element} nextSibling\n   */\n  addBefore: function (child, nextSibling) {\n    if (child && child !== this && child.parent !== this && nextSibling && nextSibling.parent === this) {\n      var children = this._children;\n      var idx = children.indexOf(nextSibling);\n\n      if (idx >= 0) {\n        children.splice(idx, 0, child);\n\n        this._doAdd(child);\n      }\n    }\n\n    return this;\n  },\n  _doAdd: function (child) {\n    if (child.parent) {\n      child.parent.remove(child);\n    }\n\n    child.parent = this;\n    var storage = this.__storage;\n    var zr = this.__zr;\n\n    if (storage && storage !== child.__storage) {\n      storage.addToStorage(child);\n\n      if (child instanceof Group) {\n        child.addChildrenToStorage(storage);\n      }\n    }\n\n    zr && zr.refresh();\n  },\n\n  /**\n   * 移除子节点\n   * @param {module:zrender/Element} child\n   */\n  remove: function (child) {\n    var zr = this.__zr;\n    var storage = this.__storage;\n    var children = this._children;\n    var idx = zrUtil.indexOf(children, child);\n\n    if (idx < 0) {\n      return this;\n    }\n\n    children.splice(idx, 1);\n    child.parent = null;\n\n    if (storage) {\n      storage.delFromStorage(child);\n\n      if (child instanceof Group) {\n        child.delChildrenFromStorage(storage);\n      }\n    }\n\n    zr && zr.refresh();\n    return this;\n  },\n\n  /**\n   * 移除所有子节点\n   */\n  removeAll: function () {\n    var children = this._children;\n    var storage = this.__storage;\n    var child;\n    var i;\n\n    for (i = 0; i < children.length; i++) {\n      child = children[i];\n\n      if (storage) {\n        storage.delFromStorage(child);\n\n        if (child instanceof Group) {\n          child.delChildrenFromStorage(storage);\n        }\n      }\n\n      child.parent = null;\n    }\n\n    children.length = 0;\n    return this;\n  },\n\n  /**\n   * 遍历所有子节点\n   * @param  {Function} cb\n   * @param  {}   context\n   */\n  eachChild: function (cb, context) {\n    var children = this._children;\n\n    for (var i = 0; i < children.length; i++) {\n      var child = children[i];\n      cb.call(context, child, i);\n    }\n\n    return this;\n  },\n\n  /**\n   * 深度优先遍历所有子孙节点\n   * @param  {Function} cb\n   * @param  {}   context\n   */\n  traverse: function (cb, context) {\n    for (var i = 0; i < this._children.length; i++) {\n      var child = this._children[i];\n      cb.call(context, child);\n\n      if (child.type === 'group') {\n        child.traverse(cb, context);\n      }\n    }\n\n    return this;\n  },\n  addChildrenToStorage: function (storage) {\n    for (var i = 0; i < this._children.length; i++) {\n      var child = this._children[i];\n      storage.addToStorage(child);\n\n      if (child instanceof Group) {\n        child.addChildrenToStorage(storage);\n      }\n    }\n  },\n  delChildrenFromStorage: function (storage) {\n    for (var i = 0; i < this._children.length; i++) {\n      var child = this._children[i];\n      storage.delFromStorage(child);\n\n      if (child instanceof Group) {\n        child.delChildrenFromStorage(storage);\n      }\n    }\n  },\n  dirty: function () {\n    this.__dirty = true;\n    this.__zr && this.__zr.refresh();\n    return this;\n  },\n\n  /**\n   * @return {module:zrender/core/BoundingRect}\n   */\n  getBoundingRect: function (includeChildren) {\n    // TODO Caching\n    var rect = null;\n    var tmpRect = new BoundingRect(0, 0, 0, 0);\n    var children = includeChildren || this._children;\n    var tmpMat = [];\n\n    for (var i = 0; i < children.length; i++) {\n      var child = children[i];\n\n      if (child.ignore || child.invisible) {\n        continue;\n      }\n\n      var childRect = child.getBoundingRect();\n      var transform = child.getLocalTransform(tmpMat); // TODO\n      // The boundingRect cacluated by transforming original\n      // rect may be bigger than the actual bundingRect when rotation\n      // is used. (Consider a circle rotated aginst its center, where\n      // the actual boundingRect should be the same as that not be\n      // rotated.) But we can not find better approach to calculate\n      // actual boundingRect yet, considering performance.\n\n      if (transform) {\n        tmpRect.copy(childRect);\n        tmpRect.applyTransform(transform);\n        rect = rect || tmpRect.clone();\n        rect.union(tmpRect);\n      } else {\n        rect = rect || childRect.clone();\n        rect.union(childRect);\n      }\n    }\n\n    return rect || tmpRect;\n  }\n};\nzrUtil.inherits(Group, Element);\nvar _default = Group;\nmodule.exports = _default;\n\n/***/ }),\n/* 60 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Displayable = __webpack_require__(12);\n\nvar zrUtil = __webpack_require__(0);\n\nvar textContain = __webpack_require__(5);\n\nvar textHelper = __webpack_require__(20);\n\n/**\n * @alias zrender/graphic/Text\n * @extends module:zrender/graphic/Displayable\n * @constructor\n * @param {Object} opts\n */\nvar Text = function (opts) {\n  // jshint ignore:line\n  Displayable.call(this, opts);\n};\n\nText.prototype = {\n  constructor: Text,\n  type: 'text',\n  brush: function (ctx, prevEl) {\n    var style = this.style; // Optimize, avoid normalize every time.\n\n    this.__dirty && textHelper.normalizeTextStyle(style, true); // Use props with prefix 'text'.\n\n    style.fill = style.stroke = style.shadowBlur = style.shadowColor = style.shadowOffsetX = style.shadowOffsetY = null;\n    var text = style.text; // Convert to string\n\n    text != null && (text += ''); // Always bind style\n\n    style.bind(ctx, this, prevEl);\n\n    if (!textHelper.needDrawText(text, style)) {\n      return;\n    }\n\n    this.setTransform(ctx);\n    textHelper.renderText(this, ctx, text, style);\n    this.restoreTransform(ctx);\n  },\n  getBoundingRect: function () {\n    var style = this.style; // Optimize, avoid normalize every time.\n\n    this.__dirty && textHelper.normalizeTextStyle(style, true);\n\n    if (!this._rect) {\n      var text = style.text;\n      text != null ? text += '' : text = '';\n      var rect = textContain.getBoundingRect(style.text + '', style.font, style.textAlign, style.textVerticalAlign, style.textPadding, style.rich);\n      rect.x += style.x || 0;\n      rect.y += style.y || 0;\n\n      if (textHelper.getStroke(style.textStroke, style.textStrokeWidth)) {\n        var w = style.textStrokeWidth;\n        rect.x -= w / 2;\n        rect.y -= w / 2;\n        rect.width += w;\n        rect.height += w;\n      }\n\n      this._rect = rect;\n    }\n\n    return this._rect;\n  }\n};\nzrUtil.inherits(Text, Displayable);\nvar _default = Text;\nmodule.exports = _default;\n\n/***/ }),\n/* 61 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Path = __webpack_require__(1);\n\n/**\n * 圆形\n * @module zrender/shape/Circle\n */\nvar _default = Path.extend({\n  type: 'circle',\n  shape: {\n    cx: 0,\n    cy: 0,\n    r: 0\n  },\n  buildPath: function (ctx, shape, inBundle) {\n    // Better stroking in ShapeBundle\n    // Always do it may have performence issue ( fill may be 2x more cost)\n    if (inBundle) {\n      ctx.moveTo(shape.cx + shape.r, shape.cy);\n    } // else {\n    //     if (ctx.allocate && !ctx.data.length) {\n    //         ctx.allocate(ctx.CMD_MEM_SIZE.A);\n    //     }\n    // }\n    // Better stroking in ShapeBundle\n    // ctx.moveTo(shape.cx + shape.r, shape.cy);\n\n\n    ctx.arc(shape.cx, shape.cy, shape.r, 0, Math.PI * 2, true);\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 62 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Path = __webpack_require__(1);\n\nvar fixClipWithShadow = __webpack_require__(63);\n\n/**\n * 扇形\n * @module zrender/graphic/shape/Sector\n */\nvar _default = Path.extend({\n  type: 'sector',\n  shape: {\n    cx: 0,\n    cy: 0,\n    r0: 0,\n    r: 0,\n    startAngle: 0,\n    endAngle: Math.PI * 2,\n    clockwise: true\n  },\n  brush: fixClipWithShadow(Path.prototype.brush),\n  buildPath: function (ctx, shape) {\n    var x = shape.cx;\n    var y = shape.cy;\n    var r0 = Math.max(shape.r0 || 0, 0);\n    var r = Math.max(shape.r, 0);\n    var startAngle = shape.startAngle;\n    var endAngle = shape.endAngle;\n    var clockwise = shape.clockwise;\n    var unitX = Math.cos(startAngle);\n    var unitY = Math.sin(startAngle);\n    ctx.moveTo(unitX * r0 + x, unitY * r0 + y);\n    ctx.lineTo(unitX * r + x, unitY * r + y);\n    ctx.arc(x, y, r, startAngle, endAngle, !clockwise);\n    ctx.lineTo(Math.cos(endAngle) * r0 + x, Math.sin(endAngle) * r0 + y);\n\n    if (r0 !== 0) {\n      ctx.arc(x, y, r0, endAngle, startAngle, clockwise);\n    }\n\n    ctx.closePath();\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 63 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar env = __webpack_require__(15);\n\n// Fix weird bug in some version of IE11 (like 11.0.9600.178**),\n// where exception \"unexpected call to method or property access\"\n// might be thrown when calling ctx.fill or ctx.stroke after a path\n// whose area size is zero is drawn and ctx.clip() is called and\n// shadowBlur is set. See #4572, #3112, #5777.\n// (e.g.,\n//  ctx.moveTo(10, 10);\n//  ctx.lineTo(20, 10);\n//  ctx.closePath();\n//  ctx.clip();\n//  ctx.shadowBlur = 10;\n//  ...\n//  ctx.fill();\n// )\nvar shadowTemp = [['shadowBlur', 0], ['shadowColor', '#000'], ['shadowOffsetX', 0], ['shadowOffsetY', 0]];\n\nfunction _default(orignalBrush) {\n  // version string can be: '11.0'\n  return env.browser.ie && env.browser.version >= 11 ? function () {\n    var clipPaths = this.__clipPaths;\n    var style = this.style;\n    var modified;\n\n    if (clipPaths) {\n      for (var i = 0; i < clipPaths.length; i++) {\n        var clipPath = clipPaths[i];\n        var shape = clipPath && clipPath.shape;\n        var type = clipPath && clipPath.type;\n\n        if (shape && (type === 'sector' && shape.startAngle === shape.endAngle || type === 'rect' && (!shape.width || !shape.height))) {\n          for (var j = 0; j < shadowTemp.length; j++) {\n            // It is save to put shadowTemp static, because shadowTemp\n            // will be all modified each item brush called.\n            shadowTemp[j][2] = style[shadowTemp[j][0]];\n            style[shadowTemp[j][0]] = shadowTemp[j][1];\n          }\n\n          modified = true;\n          break;\n        }\n      }\n    }\n\n    orignalBrush.apply(this, arguments);\n\n    if (modified) {\n      for (var j = 0; j < shadowTemp.length; j++) {\n        style[shadowTemp[j][0]] = shadowTemp[j][2];\n      }\n    }\n  } : orignalBrush;\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 64 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Path = __webpack_require__(1);\n\n/**\n * 圆环\n * @module zrender/graphic/shape/Ring\n */\nvar _default = Path.extend({\n  type: 'ring',\n  shape: {\n    cx: 0,\n    cy: 0,\n    r: 0,\n    r0: 0\n  },\n  buildPath: function (ctx, shape) {\n    var x = shape.cx;\n    var y = shape.cy;\n    var PI2 = Math.PI * 2;\n    ctx.moveTo(x + shape.r, y);\n    ctx.arc(x, y, shape.r, 0, PI2, false);\n    ctx.moveTo(x + shape.r0, y);\n    ctx.arc(x, y, shape.r0, 0, PI2, true);\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 65 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Path = __webpack_require__(1);\n\nvar polyHelper = __webpack_require__(23);\n\n/**\n * 多边形\n * @module zrender/shape/Polygon\n */\nvar _default = Path.extend({\n  type: 'polygon',\n  shape: {\n    points: null,\n    smooth: false,\n    smoothConstraint: null\n  },\n  buildPath: function (ctx, shape) {\n    polyHelper.buildPath(ctx, shape, true);\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 66 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _vector = __webpack_require__(2);\n\nvar v2Distance = _vector.distance;\n\n/**\n * Catmull-Rom spline 插值折线\n * @module zrender/shape/util/smoothSpline\n * @author pissang (https://www.github.com/pissang)\n *         Kener (@Kener-林峰, kener.linfeng@gmail.com)\n *         errorrik (errorrik@gmail.com)\n */\n\n/**\n * @inner\n */\nfunction interpolate(p0, p1, p2, p3, t, t2, t3) {\n  var v0 = (p2 - p0) * 0.5;\n  var v1 = (p3 - p1) * 0.5;\n  return (2 * (p1 - p2) + v0 + v1) * t3 + (-3 * (p1 - p2) - 2 * v0 - v1) * t2 + v0 * t + p1;\n}\n/**\n * @alias module:zrender/shape/util/smoothSpline\n * @param {Array} points 线段顶点数组\n * @param {boolean} isLoop\n * @return {Array}\n */\n\n\nfunction _default(points, isLoop) {\n  var len = points.length;\n  var ret = [];\n  var distance = 0;\n\n  for (var i = 1; i < len; i++) {\n    distance += v2Distance(points[i - 1], points[i]);\n  }\n\n  var segs = distance / 2;\n  segs = segs < len ? len : segs;\n\n  for (var i = 0; i < segs; i++) {\n    var pos = i / (segs - 1) * (isLoop ? len : len - 1);\n    var idx = Math.floor(pos);\n    var w = pos - idx;\n    var p0;\n    var p1 = points[idx % len];\n    var p2;\n    var p3;\n\n    if (!isLoop) {\n      p0 = points[idx === 0 ? idx : idx - 1];\n      p2 = points[idx > len - 2 ? len - 1 : idx + 1];\n      p3 = points[idx > len - 3 ? len - 1 : idx + 2];\n    } else {\n      p0 = points[(idx - 1 + len) % len];\n      p2 = points[(idx + 1) % len];\n      p3 = points[(idx + 2) % len];\n    }\n\n    var w2 = w * w;\n    var w3 = w * w2;\n    ret.push([interpolate(p0[0], p1[0], p2[0], p3[0], w, w2, w3), interpolate(p0[1], p1[1], p2[1], p3[1], w, w2, w3)]);\n  }\n\n  return ret;\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 67 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _vector = __webpack_require__(2);\n\nvar v2Min = _vector.min;\nvar v2Max = _vector.max;\nvar v2Scale = _vector.scale;\nvar v2Distance = _vector.distance;\nvar v2Add = _vector.add;\nvar v2Clone = _vector.clone;\nvar v2Sub = _vector.sub;\n\n/**\n * 贝塞尔平滑曲线\n * @module zrender/shape/util/smoothBezier\n * @author pissang (https://www.github.com/pissang)\n *         Kener (@Kener-林峰, kener.linfeng@gmail.com)\n *         errorrik (errorrik@gmail.com)\n */\n\n/**\n * 贝塞尔平滑曲线\n * @alias module:zrender/shape/util/smoothBezier\n * @param {Array} points 线段顶点数组\n * @param {number} smooth 平滑等级, 0-1\n * @param {boolean} isLoop\n * @param {Array} constraint 将计算出来的控制点约束在一个包围盒内\n *                           比如 [[0, 0], [100, 100]], 这个包围盒会与\n *                           整个折线的包围盒做一个并集用来约束控制点。\n * @param {Array} 计算出来的控制点数组\n */\nfunction _default(points, smooth, isLoop, constraint) {\n  var cps = [];\n  var v = [];\n  var v1 = [];\n  var v2 = [];\n  var prevPoint;\n  var nextPoint;\n  var min, max;\n\n  if (constraint) {\n    min = [Infinity, Infinity];\n    max = [-Infinity, -Infinity];\n\n    for (var i = 0, len = points.length; i < len; i++) {\n      v2Min(min, min, points[i]);\n      v2Max(max, max, points[i]);\n    } // 与指定的包围盒做并集\n\n\n    v2Min(min, min, constraint[0]);\n    v2Max(max, max, constraint[1]);\n  }\n\n  for (var i = 0, len = points.length; i < len; i++) {\n    var point = points[i];\n\n    if (isLoop) {\n      prevPoint = points[i ? i - 1 : len - 1];\n      nextPoint = points[(i + 1) % len];\n    } else {\n      if (i === 0 || i === len - 1) {\n        cps.push(v2Clone(points[i]));\n        continue;\n      } else {\n        prevPoint = points[i - 1];\n        nextPoint = points[i + 1];\n      }\n    }\n\n    v2Sub(v, nextPoint, prevPoint); // use degree to scale the handle length\n\n    v2Scale(v, v, smooth);\n    var d0 = v2Distance(point, prevPoint);\n    var d1 = v2Distance(point, nextPoint);\n    var sum = d0 + d1;\n\n    if (sum !== 0) {\n      d0 /= sum;\n      d1 /= sum;\n    }\n\n    v2Scale(v1, v, -d0);\n    v2Scale(v2, v, d1);\n    var cp0 = v2Add([], point, v1);\n    var cp1 = v2Add([], point, v2);\n\n    if (constraint) {\n      v2Max(cp0, cp0, min);\n      v2Min(cp0, cp0, max);\n      v2Max(cp1, cp1, min);\n      v2Min(cp1, cp1, max);\n    }\n\n    cps.push(cp0);\n    cps.push(cp1);\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n\n  return cps;\n}\n\nmodule.exports = _default;\n\n/***/ }),\n/* 68 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Path = __webpack_require__(1);\n\nvar polyHelper = __webpack_require__(23);\n\n/**\n * @module zrender/graphic/shape/Polyline\n */\nvar _default = Path.extend({\n  type: 'polyline',\n  shape: {\n    points: null,\n    smooth: false,\n    smoothConstraint: null\n  },\n  style: {\n    stroke: '#000',\n    fill: null\n  },\n  buildPath: function (ctx, shape) {\n    polyHelper.buildPath(ctx, shape, false);\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 69 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Path = __webpack_require__(1);\n\nvar roundRectHelper = __webpack_require__(21);\n\n/**\n * 矩形\n * @module zrender/graphic/shape/Rect\n */\nvar _default = Path.extend({\n  type: 'rect',\n  shape: {\n    // 左上、右上、右下、左下角的半径依次为r1、r2、r3、r4\n    // r缩写为1         相当于 [1, 1, 1, 1]\n    // r缩写为[1]       相当于 [1, 1, 1, 1]\n    // r缩写为[1, 2]    相当于 [1, 2, 1, 2]\n    // r缩写为[1, 2, 3] 相当于 [1, 2, 3, 2]\n    r: 0,\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  },\n  buildPath: function (ctx, shape) {\n    var x = shape.x;\n    var y = shape.y;\n    var width = shape.width;\n    var height = shape.height;\n\n    if (!shape.r) {\n      ctx.rect(x, y, width, height);\n    } else {\n      roundRectHelper.buildPath(ctx, shape);\n    }\n\n    ctx.closePath();\n    return;\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 70 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Path = __webpack_require__(1);\n\n/**\n * 直线\n * @module zrender/graphic/shape/Line\n */\nvar _default = Path.extend({\n  type: 'line',\n  shape: {\n    // Start point\n    x1: 0,\n    y1: 0,\n    // End point\n    x2: 0,\n    y2: 0,\n    percent: 1\n  },\n  style: {\n    stroke: '#000',\n    fill: null\n  },\n  buildPath: function (ctx, shape) {\n    var x1 = shape.x1;\n    var y1 = shape.y1;\n    var x2 = shape.x2;\n    var y2 = shape.y2;\n    var percent = shape.percent;\n\n    if (percent === 0) {\n      return;\n    }\n\n    ctx.moveTo(x1, y1);\n\n    if (percent < 1) {\n      x2 = x1 * (1 - percent) + x2 * percent;\n      y2 = y1 * (1 - percent) + y2 * percent;\n    }\n\n    ctx.lineTo(x2, y2);\n  },\n\n  /**\n   * Get point at percent\n   * @param  {number} percent\n   * @return {Array.<number>}\n   */\n  pointAt: function (p) {\n    var shape = this.shape;\n    return [shape.x1 * (1 - p) + shape.x2 * p, shape.y1 * (1 - p) + shape.y2 * p];\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 71 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Path = __webpack_require__(1);\n\nvar vec2 = __webpack_require__(2);\n\nvar _curve = __webpack_require__(4);\n\nvar quadraticSubdivide = _curve.quadraticSubdivide;\nvar cubicSubdivide = _curve.cubicSubdivide;\nvar quadraticAt = _curve.quadraticAt;\nvar cubicAt = _curve.cubicAt;\nvar quadraticDerivativeAt = _curve.quadraticDerivativeAt;\nvar cubicDerivativeAt = _curve.cubicDerivativeAt;\n\n/**\n * 贝塞尔曲线\n * @module zrender/shape/BezierCurve\n */\nvar out = [];\n\nfunction someVectorAt(shape, t, isTangent) {\n  var cpx2 = shape.cpx2;\n  var cpy2 = shape.cpy2;\n\n  if (cpx2 === null || cpy2 === null) {\n    return [(isTangent ? cubicDerivativeAt : cubicAt)(shape.x1, shape.cpx1, shape.cpx2, shape.x2, t), (isTangent ? cubicDerivativeAt : cubicAt)(shape.y1, shape.cpy1, shape.cpy2, shape.y2, t)];\n  } else {\n    return [(isTangent ? quadraticDerivativeAt : quadraticAt)(shape.x1, shape.cpx1, shape.x2, t), (isTangent ? quadraticDerivativeAt : quadraticAt)(shape.y1, shape.cpy1, shape.y2, t)];\n  }\n}\n\nvar _default = Path.extend({\n  type: 'bezier-curve',\n  shape: {\n    x1: 0,\n    y1: 0,\n    x2: 0,\n    y2: 0,\n    cpx1: 0,\n    cpy1: 0,\n    // cpx2: 0,\n    // cpy2: 0\n    // Curve show percent, for animating\n    percent: 1\n  },\n  style: {\n    stroke: '#000',\n    fill: null\n  },\n  buildPath: function (ctx, shape) {\n    var x1 = shape.x1;\n    var y1 = shape.y1;\n    var x2 = shape.x2;\n    var y2 = shape.y2;\n    var cpx1 = shape.cpx1;\n    var cpy1 = shape.cpy1;\n    var cpx2 = shape.cpx2;\n    var cpy2 = shape.cpy2;\n    var percent = shape.percent;\n\n    if (percent === 0) {\n      return;\n    }\n\n    ctx.moveTo(x1, y1);\n\n    if (cpx2 == null || cpy2 == null) {\n      if (percent < 1) {\n        quadraticSubdivide(x1, cpx1, x2, percent, out);\n        cpx1 = out[1];\n        x2 = out[2];\n        quadraticSubdivide(y1, cpy1, y2, percent, out);\n        cpy1 = out[1];\n        y2 = out[2];\n      }\n\n      ctx.quadraticCurveTo(cpx1, cpy1, x2, y2);\n    } else {\n      if (percent < 1) {\n        cubicSubdivide(x1, cpx1, cpx2, x2, percent, out);\n        cpx1 = out[1];\n        cpx2 = out[2];\n        x2 = out[3];\n        cubicSubdivide(y1, cpy1, cpy2, y2, percent, out);\n        cpy1 = out[1];\n        cpy2 = out[2];\n        y2 = out[3];\n      }\n\n      ctx.bezierCurveTo(cpx1, cpy1, cpx2, cpy2, x2, y2);\n    }\n  },\n\n  /**\n   * Get point at percent\n   * @param  {number} t\n   * @return {Array.<number>}\n   */\n  pointAt: function (t) {\n    return someVectorAt(this.shape, t, false);\n  },\n\n  /**\n   * Get tangent at percent\n   * @param  {number} t\n   * @return {Array.<number>}\n   */\n  tangentAt: function (t) {\n    var p = someVectorAt(this.shape, t, true);\n    return vec2.normalize(p, p);\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 72 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Path = __webpack_require__(1);\n\n/**\n * 圆弧\n * @module zrender/graphic/shape/Arc\n */\nvar _default = Path.extend({\n  type: 'arc',\n  shape: {\n    cx: 0,\n    cy: 0,\n    r: 0,\n    startAngle: 0,\n    endAngle: Math.PI * 2,\n    clockwise: true\n  },\n  style: {\n    stroke: '#000',\n    fill: null\n  },\n  buildPath: function (ctx, shape) {\n    var x = shape.cx;\n    var y = shape.cy;\n    var r = Math.max(shape.r, 0);\n    var startAngle = shape.startAngle;\n    var endAngle = shape.endAngle;\n    var clockwise = shape.clockwise;\n    var unitX = Math.cos(startAngle);\n    var unitY = Math.sin(startAngle);\n    ctx.moveTo(unitX * r + x, unitY * r + y);\n    ctx.arc(x, y, r, startAngle, endAngle, !clockwise);\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 73 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Path = __webpack_require__(1);\n\n// CompoundPath to improve performance\nvar _default = Path.extend({\n  type: 'compound',\n  shape: {\n    paths: null\n  },\n  _updatePathDirty: function () {\n    var dirtyPath = this.__dirtyPath;\n    var paths = this.shape.paths;\n\n    for (var i = 0; i < paths.length; i++) {\n      // Mark as dirty if any subpath is dirty\n      dirtyPath = dirtyPath || paths[i].__dirtyPath;\n    }\n\n    this.__dirtyPath = dirtyPath;\n    this.__dirty = this.__dirty || dirtyPath;\n  },\n  beforeBrush: function () {\n    this._updatePathDirty();\n\n    var paths = this.shape.paths || [];\n    var scale = this.getGlobalScale(); // Update path scale\n\n    for (var i = 0; i < paths.length; i++) {\n      if (!paths[i].path) {\n        paths[i].createPathProxy();\n      }\n\n      paths[i].path.setScale(scale[0], scale[1]);\n    }\n  },\n  buildPath: function (ctx, shape) {\n    var paths = shape.paths || [];\n\n    for (var i = 0; i < paths.length; i++) {\n      paths[i].buildPath(ctx, paths[i].shape, true);\n    }\n  },\n  afterBrush: function () {\n    var paths = this.shape.paths || [];\n\n    for (var i = 0; i < paths.length; i++) {\n      paths[i].__dirtyPath = false;\n    }\n  },\n  getBoundingRect: function () {\n    this._updatePathDirty();\n\n    return Path.prototype.getBoundingRect.call(this);\n  }\n});\n\nmodule.exports = _default;\n\n/***/ }),\n/* 74 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar Gradient = __webpack_require__(24);\n\n/**\n * x, y, x2, y2 are all percent from 0 to 1\n * @param {number} [x=0]\n * @param {number} [y=0]\n * @param {number} [x2=1]\n * @param {number} [y2=0]\n * @param {Array.<Object>} colorStops\n * @param {boolean} [globalCoord=false]\n */\nvar LinearGradient = function (x, y, x2, y2, colorStops, globalCoord) {\n  // Should do nothing more in this constructor. Because gradient can be\n  // declard by `color: {type: 'linear', colorStops: ...}`, where\n  // this constructor will not be called.\n  this.x = x == null ? 0 : x;\n  this.y = y == null ? 0 : y;\n  this.x2 = x2 == null ? 1 : x2;\n  this.y2 = y2 == null ? 0 : y2; // Can be cloned\n\n  this.type = 'linear'; // If use global coord\n\n  this.global = globalCoord || false;\n  Gradient.call(this, colorStops);\n};\n\nLinearGradient.prototype = {\n  constructor: LinearGradient\n};\nzrUtil.inherits(LinearGradient, Gradient);\nvar _default = LinearGradient;\nmodule.exports = _default;\n\n/***/ }),\n/* 75 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar zrUtil = __webpack_require__(0);\n\nvar Gradient = __webpack_require__(24);\n\n/**\n * x, y, r are all percent from 0 to 1\n * @param {number} [x=0.5]\n * @param {number} [y=0.5]\n * @param {number} [r=0.5]\n * @param {Array.<Object>} [colorStops]\n * @param {boolean} [globalCoord=false]\n */\nvar RadialGradient = function (x, y, r, colorStops, globalCoord) {\n  // Should do nothing more in this constructor. Because gradient can be\n  // declard by `color: {type: 'radial', colorStops: ...}`, where\n  // this constructor will not be called.\n  this.x = x == null ? 0.5 : x;\n  this.y = y == null ? 0.5 : y;\n  this.r = r == null ? 0.5 : r; // Can be cloned\n\n  this.type = 'radial'; // If use global coord\n\n  this.global = globalCoord || false;\n  Gradient.call(this, colorStops);\n};\n\nRadialGradient.prototype = {\n  constructor: RadialGradient\n};\nzrUtil.inherits(RadialGradient, Gradient);\nvar _default = RadialGradient;\nmodule.exports = _default;\n\n/***/ }),\n/* 76 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar makeStyleMapper = __webpack_require__(11);\n\nvar getItemStyle = makeStyleMapper([['fill', 'color'], ['stroke', 'borderColor'], ['lineWidth', 'borderWidth'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor'], ['textPosition'], ['textAlign']]);\nvar _default = {\n  getItemStyle: function (excludes, includes) {\n    var style = getItemStyle(this, excludes, includes);\n    var lineDash = this.getBorderLineDash();\n    lineDash && (style.lineDash = lineDash);\n    return style;\n  },\n  getBorderLineDash: function () {\n    var lineType = this.get('borderType');\n    return lineType === 'solid' || lineType == null ? null : lineType === 'dashed' ? [5, 5] : [1, 1];\n  }\n};\nmodule.exports = _default;\n\n/***/ }),\n/* 77 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar echarts = __webpack_require__(7);\n\nfunction getShallow(model, path) {\n    return model && model.getShallow(path);\n}\n\necharts.extendChartView({\n\n    type: 'wordCloud',\n\n    render: function (seriesModel, ecModel, api) {\n        var group = this.group;\n        group.removeAll();\n\n        var data = seriesModel.getData();\n\n        var gridSize = seriesModel.get('gridSize');\n\n        seriesModel.layoutInstance.ondraw = function (text, size, dataIdx, drawn) {\n            var itemModel = data.getItemModel(dataIdx);\n            var textStyleModel = itemModel.getModel('textStyle.normal');\n            var emphasisTextStyleModel = itemModel.getModel('textStyle.emphasis');\n\n            var textEl = new echarts.graphic.Text({\n                style: echarts.graphic.setTextStyle({}, textStyleModel, {\n                    x: drawn.info.fillTextOffsetX,\n                    y: drawn.info.fillTextOffsetY + size * 0.5,\n                    text: text,\n                    textBaseline: 'middle',\n                    textFill: data.getItemVisual(dataIdx, 'color'),\n                    fontSize: size\n                }),\n                scale: [1 / drawn.info.mu, 1 / drawn.info.mu],\n                position: [\n                    (drawn.gx + drawn.info.gw / 2) * gridSize,\n                    (drawn.gy + drawn.info.gh / 2) * gridSize\n                ],\n                rotation: drawn.rot\n            });\n\n            group.add(textEl);\n\n            data.setItemGraphicEl(dataIdx, textEl);\n\n            echarts.graphic.setHoverStyle(\n                textEl,\n                echarts.graphic.setTextStyle({}, emphasisTextStyleModel, null, {forMerge: true}, true)\n            );\n        };\n\n        this._model = seriesModel;\n    },\n\n    remove: function () {\n        this.group.removeAll();\n\n        this._model.layoutInstance.dispose();\n    },\n\n    dispose: function () {\n        this._model.layoutInstance.dispose();\n    }\n});\n\n\n/***/ }),\n/* 78 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n * wordcloud2.js\n * http://timdream.org/wordcloud2.js/\n *\n * Copyright 2011 - 2013 Tim Chien\n * Released under the MIT license\n */\n\n\n\n// setImmediate\nif (!window.setImmediate) {\n  window.setImmediate = (function setupSetImmediate() {\n    return window.msSetImmediate ||\n    window.webkitSetImmediate ||\n    window.mozSetImmediate ||\n    window.oSetImmediate ||\n    (function setupSetZeroTimeout() {\n      if (!window.postMessage || !window.addEventListener) {\n        return null;\n      }\n\n      var callbacks = [undefined];\n      var message = 'zero-timeout-message';\n\n      // Like setTimeout, but only takes a function argument.  There's\n      // no time argument (always zero) and no arguments (you have to\n      // use a closure).\n      var setZeroTimeout = function setZeroTimeout(callback) {\n        var id = callbacks.length;\n        callbacks.push(callback);\n        window.postMessage(message + id.toString(36), '*');\n\n        return id;\n      };\n\n      window.addEventListener('message', function setZeroTimeoutMessage(evt) {\n        // Skipping checking event source, retarded IE confused this window\n        // object with another in the presence of iframe\n        if (typeof evt.data !== 'string' ||\n            evt.data.substr(0, message.length) !== message/* ||\n            evt.source !== window */) {\n          return;\n        }\n\n        evt.stopImmediatePropagation();\n\n        var id = parseInt(evt.data.substr(message.length), 36);\n        if (!callbacks[id]) {\n          return;\n        }\n\n        callbacks[id]();\n        callbacks[id] = undefined;\n      }, true);\n\n      /* specify clearImmediate() here since we need the scope */\n      window.clearImmediate = function clearZeroTimeout(id) {\n        if (!callbacks[id]) {\n          return;\n        }\n\n        callbacks[id] = undefined;\n      };\n\n      return setZeroTimeout;\n    })() ||\n    // fallback\n    function setImmediateFallback(fn) {\n      window.setTimeout(fn, 0);\n    };\n  })();\n}\n\nif (!window.clearImmediate) {\n  window.clearImmediate = (function setupClearImmediate() {\n    return window.msClearImmediate ||\n    window.webkitClearImmediate ||\n    window.mozClearImmediate ||\n    window.oClearImmediate ||\n    // \"clearZeroTimeout\" is implement on the previous block ||\n    // fallback\n    function clearImmediateFallback(timer) {\n      window.clearTimeout(timer);\n    };\n  })();\n}\n\n(function(global) {\n\n  // Check if WordCloud can run on this browser\n  var isSupported = (function isSupported() {\n    var canvas = document.createElement('canvas');\n    if (!canvas || !canvas.getContext) {\n      return false;\n    }\n\n    var ctx = canvas.getContext('2d');\n    if (!ctx.getImageData) {\n      return false;\n    }\n    if (!ctx.fillText) {\n      return false;\n    }\n\n    if (!Array.prototype.some) {\n      return false;\n    }\n    if (!Array.prototype.push) {\n      return false;\n    }\n\n    return true;\n  }());\n\n  // Find out if the browser impose minium font size by\n  // drawing small texts on a canvas and measure it's width.\n  var minFontSize = (function getMinFontSize() {\n    if (!isSupported) {\n      return;\n    }\n\n    var ctx = document.createElement('canvas').getContext('2d');\n\n    // start from 20\n    var size = 20;\n\n    // two sizes to measure\n    var hanWidth, mWidth;\n\n    while (size) {\n      ctx.font = size.toString(10) + 'px sans-serif';\n      if ((ctx.measureText('\\uFF37').width === hanWidth) &&\n          (ctx.measureText('m').width) === mWidth) {\n        return (size + 1);\n      }\n\n      hanWidth = ctx.measureText('\\uFF37').width;\n      mWidth = ctx.measureText('m').width;\n\n      size--;\n    }\n\n    return 0;\n  })();\n\n  // Based on http://jsfromhell.com/array/shuffle\n  var shuffleArray = function shuffleArray(arr) {\n    for (var j, x, i = arr.length; i;\n      j = Math.floor(Math.random() * i),\n      x = arr[--i], arr[i] = arr[j],\n      arr[j] = x) {}\n    return arr;\n  };\n\n  var WordCloud = function WordCloud(elements, options) {\n    if (!isSupported) {\n      return;\n    }\n\n    if (!Array.isArray(elements)) {\n      elements = [elements];\n    }\n\n    elements.forEach(function(el, i) {\n      if (typeof el === 'string') {\n        elements[i] = document.getElementById(el);\n        if (!elements[i]) {\n          throw 'The element id specified is not found.';\n        }\n      } else if (!el.tagName && !el.appendChild) {\n        throw 'You must pass valid HTML elements, or ID of the element.';\n      }\n    });\n\n    /* Default values to be overwritten by options object */\n    var settings = {\n      list: [],\n      fontFamily: '\"Trebuchet MS\", \"Heiti TC\", \"微軟正黑體\", ' +\n                  '\"Arial Unicode MS\", \"Droid Fallback Sans\", sans-serif',\n      fontWeight: 'normal',\n      color: 'random-dark',\n      minSize: 0, // 0 to disable\n      weightFactor: 1,\n      clearCanvas: true,\n      backgroundColor: '#fff',  // opaque white = rgba(255, 255, 255, 1)\n\n      gridSize: 8,\n      drawOutOfBound: false,\n      origin: null,\n\n      drawMask: false,\n      maskColor: 'rgba(255,0,0,0.3)',\n      maskGapWidth: 0.3,\n\n      wait: 0,\n      abortThreshold: 0, // disabled\n      abort: function noop() {},\n\n      minRotation: - Math.PI / 2,\n      maxRotation: Math.PI / 2,\n      rotationStep: 0.1,\n\n      shuffle: true,\n      rotateRatio: 0.1,\n\n      shape: 'circle',\n      ellipticity: 0.65,\n\n      classes: null,\n\n      hover: null,\n      click: null\n    };\n\n    if (options) {\n      for (var key in options) {\n        if (key in settings) {\n          settings[key] = options[key];\n        }\n      }\n    }\n\n    /* Convert weightFactor into a function */\n    if (typeof settings.weightFactor !== 'function') {\n      var factor = settings.weightFactor;\n      settings.weightFactor = function weightFactor(pt) {\n        return pt * factor; //in px\n      };\n    }\n\n    /* Convert shape into a function */\n    if (typeof settings.shape !== 'function') {\n      switch (settings.shape) {\n        case 'circle':\n        /* falls through */\n        default:\n          // 'circle' is the default and a shortcut in the code loop.\n          settings.shape = 'circle';\n          break;\n\n        case 'cardioid':\n          settings.shape = function shapeCardioid(theta) {\n            return 1 - Math.sin(theta);\n          };\n          break;\n\n        /*\n        To work out an X-gon, one has to calculate \"m\",\n        where 1/(cos(2*PI/X)+m*sin(2*PI/X)) = 1/(cos(0)+m*sin(0))\n        http://www.wolframalpha.com/input/?i=1%2F%28cos%282*PI%2FX%29%2Bm*sin%28\n        2*PI%2FX%29%29+%3D+1%2F%28cos%280%29%2Bm*sin%280%29%29\n        Copy the solution into polar equation r = 1/(cos(t') + m*sin(t'))\n        where t' equals to mod(t, 2PI/X);\n        */\n\n        case 'diamond':\n        case 'square':\n          // http://www.wolframalpha.com/input/?i=plot+r+%3D+1%2F%28cos%28mod+\n          // %28t%2C+PI%2F2%29%29%2Bsin%28mod+%28t%2C+PI%2F2%29%29%29%2C+t+%3D\n          // +0+..+2*PI\n          settings.shape = function shapeSquare(theta) {\n            var thetaPrime = theta % (2 * Math.PI / 4);\n            return 1 / (Math.cos(thetaPrime) + Math.sin(thetaPrime));\n          };\n          break;\n\n        case 'triangle-forward':\n          // http://www.wolframalpha.com/input/?i=plot+r+%3D+1%2F%28cos%28mod+\n          // %28t%2C+2*PI%2F3%29%29%2Bsqrt%283%29sin%28mod+%28t%2C+2*PI%2F3%29\n          // %29%29%2C+t+%3D+0+..+2*PI\n          settings.shape = function shapeTriangle(theta) {\n            var thetaPrime = theta % (2 * Math.PI / 3);\n            return 1 / (Math.cos(thetaPrime) +\n                        Math.sqrt(3) * Math.sin(thetaPrime));\n          };\n          break;\n\n        case 'triangle':\n        case 'triangle-upright':\n          settings.shape = function shapeTriangle(theta) {\n            var thetaPrime = (theta + Math.PI * 3 / 2) % (2 * Math.PI / 3);\n            return 1 / (Math.cos(thetaPrime) +\n                        Math.sqrt(3) * Math.sin(thetaPrime));\n          };\n          break;\n\n        case 'pentagon':\n          settings.shape = function shapePentagon(theta) {\n            var thetaPrime = (theta + 0.955) % (2 * Math.PI / 5);\n            return 1 / (Math.cos(thetaPrime) +\n                        0.726543 * Math.sin(thetaPrime));\n          };\n          break;\n\n        case 'star':\n          settings.shape = function shapeStar(theta) {\n            var thetaPrime = (theta + 0.955) % (2 * Math.PI / 10);\n            if ((theta + 0.955) % (2 * Math.PI / 5) - (2 * Math.PI / 10) >= 0) {\n              return 1 / (Math.cos((2 * Math.PI / 10) - thetaPrime) +\n                          3.07768 * Math.sin((2 * Math.PI / 10) - thetaPrime));\n            } else {\n              return 1 / (Math.cos(thetaPrime) +\n                          3.07768 * Math.sin(thetaPrime));\n            }\n          };\n          break;\n      }\n    }\n\n    /* Make sure gridSize is a whole number and is not smaller than 4px */\n    settings.gridSize = Math.max(Math.floor(settings.gridSize), 4);\n\n    /* shorthand */\n    var g = settings.gridSize;\n    var maskRectWidth = g - settings.maskGapWidth;\n\n    /* normalize rotation settings */\n    var rotationRange = Math.abs(settings.maxRotation - settings.minRotation);\n    var minRotation = Math.min(settings.maxRotation, settings.minRotation);\n    var rotationStep = settings.rotationStep;\n\n    /* information/object available to all functions, set when start() */\n    var grid, // 2d array containing filling information\n      ngx, ngy, // width and height of the grid\n      center, // position of the center of the cloud\n      maxRadius;\n\n    /* timestamp for measuring each putWord() action */\n    var escapeTime;\n\n    /* function for getting the color of the text */\n    var getTextColor;\n    function random_hsl_color(min, max) {\n      return 'hsl(' +\n        (Math.random() * 360).toFixed() + ',' +\n        (Math.random() * 30 + 70).toFixed() + '%,' +\n        (Math.random() * (max - min) + min).toFixed() + '%)';\n    }\n    switch (settings.color) {\n      case 'random-dark':\n        getTextColor = function getRandomDarkColor() {\n          return random_hsl_color(10, 50);\n        };\n        break;\n\n      case 'random-light':\n        getTextColor = function getRandomLightColor() {\n          return random_hsl_color(50, 90);\n        };\n        break;\n\n      default:\n        if (typeof settings.color === 'function') {\n          getTextColor = settings.color;\n        }\n        break;\n    }\n\n    /* function for getting the classes of the text */\n    var getTextClasses = null;\n    if (typeof settings.classes === 'function') {\n      getTextClasses = settings.classes;\n    }\n\n    /* Interactive */\n    var interactive = false;\n    var infoGrid = [];\n    var hovered;\n\n    var getInfoGridFromMouseTouchEvent =\n    function getInfoGridFromMouseTouchEvent(evt) {\n      var canvas = evt.currentTarget;\n      var rect = canvas.getBoundingClientRect();\n      var clientX;\n      var clientY;\n      /** Detect if touches are available */\n      if (evt.touches) {\n        clientX = evt.touches[0].clientX;\n        clientY = evt.touches[0].clientY;\n      } else {\n        clientX = evt.clientX;\n        clientY = evt.clientY;\n      }\n      var eventX = clientX - rect.left;\n      var eventY = clientY - rect.top;\n\n      var x = Math.floor(eventX * ((canvas.width / rect.width) || 1) / g);\n      var y = Math.floor(eventY * ((canvas.height / rect.height) || 1) / g);\n\n      return infoGrid[x][y];\n    };\n\n    var wordcloudhover = function wordcloudhover(evt) {\n      var info = getInfoGridFromMouseTouchEvent(evt);\n\n      if (hovered === info) {\n        return;\n      }\n\n      hovered = info;\n      if (!info) {\n        settings.hover(undefined, undefined, evt);\n\n        return;\n      }\n\n      settings.hover(info.item, info.dimension, evt);\n\n    };\n\n    var wordcloudclick = function wordcloudclick(evt) {\n      var info = getInfoGridFromMouseTouchEvent(evt);\n      if (!info) {\n        return;\n      }\n\n      settings.click(info.item, info.dimension, evt);\n      evt.preventDefault();\n    };\n\n    /* Get points on the grid for a given radius away from the center */\n    var pointsAtRadius = [];\n    var getPointsAtRadius = function getPointsAtRadius(radius) {\n      if (pointsAtRadius[radius]) {\n        return pointsAtRadius[radius];\n      }\n\n      // Look for these number of points on each radius\n      var T = radius * 8;\n\n      // Getting all the points at this radius\n      var t = T;\n      var points = [];\n\n      if (radius === 0) {\n        points.push([center[0], center[1], 0]);\n      }\n\n      while (t--) {\n        // distort the radius to put the cloud in shape\n        var rx = 1;\n        if (settings.shape !== 'circle') {\n          rx = settings.shape(t / T * 2 * Math.PI); // 0 to 1\n        }\n\n        // Push [x, y, t]; t is used solely for getTextColor()\n        points.push([\n          center[0] + radius * rx * Math.cos(-t / T * 2 * Math.PI),\n          center[1] + radius * rx * Math.sin(-t / T * 2 * Math.PI) *\n            settings.ellipticity,\n          t / T * 2 * Math.PI]);\n      }\n\n      pointsAtRadius[radius] = points;\n      return points;\n    };\n\n    /* Return true if we had spent too much time */\n    var exceedTime = function exceedTime() {\n      return ((settings.abortThreshold > 0) &&\n        ((new Date()).getTime() - escapeTime > settings.abortThreshold));\n    };\n\n    /* Get the deg of rotation according to settings, and luck. */\n    var getRotateDeg = function getRotateDeg() {\n      if (settings.rotateRatio === 0) {\n        return 0;\n      }\n\n      if (Math.random() > settings.rotateRatio) {\n        return 0;\n      }\n\n      if (rotationRange === 0) {\n        return minRotation;\n      }\n\n      return minRotation + Math.round(Math.random() * rotationRange / rotationStep) * rotationStep;\n    };\n\n    var getTextInfo = function getTextInfo(word, weight, rotateDeg) {\n      // calculate the acutal font size\n      // fontSize === 0 means weightFactor function wants the text skipped,\n      // and size < minSize means we cannot draw the text.\n      var debug = false;\n      var fontSize = settings.weightFactor(weight);\n      if (fontSize <= settings.minSize) {\n        return false;\n      }\n\n      // Scale factor here is to make sure fillText is not limited by\n      // the minium font size set by browser.\n      // It will always be 1 or 2n.\n      var mu = 1;\n      if (fontSize < minFontSize) {\n        mu = (function calculateScaleFactor() {\n          var mu = 2;\n          while (mu * fontSize < minFontSize) {\n            mu += 2;\n          }\n          return mu;\n        })();\n      }\n\n      var fcanvas = document.createElement('canvas');\n      var fctx = fcanvas.getContext('2d', { willReadFrequently: true });\n\n      fctx.font = settings.fontWeight + ' ' +\n        (fontSize * mu).toString(10) + 'px ' + settings.fontFamily;\n\n      // Estimate the dimension of the text with measureText().\n      var fw = fctx.measureText(word).width / mu;\n      var fh = Math.max(fontSize * mu,\n                        fctx.measureText('m').width,\n                        fctx.measureText('\\uFF37').width) / mu;\n\n      // Create a boundary box that is larger than our estimates,\n      // so text don't get cut of (it sill might)\n      var boxWidth = fw + fh * 2;\n      var boxHeight = fh * 3;\n      var fgw = Math.ceil(boxWidth / g);\n      var fgh = Math.ceil(boxHeight / g);\n      boxWidth = fgw * g;\n      boxHeight = fgh * g;\n\n      // Calculate the proper offsets to make the text centered at\n      // the preferred position.\n\n      // This is simply half of the width.\n      var fillTextOffsetX = - fw / 2;\n      // Instead of moving the box to the exact middle of the preferred\n      // position, for Y-offset we move 0.4 instead, so Latin alphabets look\n      // vertical centered.\n      var fillTextOffsetY = - fh * 0.4;\n\n      // Calculate the actual dimension of the canvas, considering the rotation.\n      var cgh = Math.ceil((boxWidth * Math.abs(Math.sin(rotateDeg)) +\n                           boxHeight * Math.abs(Math.cos(rotateDeg))) / g);\n      var cgw = Math.ceil((boxWidth * Math.abs(Math.cos(rotateDeg)) +\n                           boxHeight * Math.abs(Math.sin(rotateDeg))) / g);\n      var width = cgw * g;\n      var height = cgh * g;\n\n      fcanvas.setAttribute('width', width);\n      fcanvas.setAttribute('height', height);\n\n      if (debug) {\n        // Attach fcanvas to the DOM\n        document.body.appendChild(fcanvas);\n        // Save it's state so that we could restore and draw the grid correctly.\n        fctx.save();\n      }\n\n      // Scale the canvas with |mu|.\n      fctx.scale(1 / mu, 1 / mu);\n      fctx.translate(width * mu / 2, height * mu / 2);\n      fctx.rotate(- rotateDeg);\n\n      // Once the width/height is set, ctx info will be reset.\n      // Set it again here.\n      fctx.font = settings.fontWeight + ' ' +\n        (fontSize * mu).toString(10) + 'px ' + settings.fontFamily;\n\n      // Fill the text into the fcanvas.\n      // XXX: We cannot because textBaseline = 'top' here because\n      // Firefox and Chrome uses different default line-height for canvas.\n      // Please read https://bugzil.la/737852#c6.\n      // Here, we use textBaseline = 'middle' and draw the text at exactly\n      // 0.5 * fontSize lower.\n      fctx.fillStyle = '#000';\n      fctx.textBaseline = 'middle';\n      fctx.fillText(word, fillTextOffsetX * mu,\n                    (fillTextOffsetY + fontSize * 0.5) * mu);\n\n      // Get the pixels of the text\n      var imageData = fctx.getImageData(0, 0, width, height).data;\n\n      if (exceedTime()) {\n        return false;\n      }\n\n      if (debug) {\n        // Draw the box of the original estimation\n        fctx.strokeRect(fillTextOffsetX * mu,\n                        fillTextOffsetY, fw * mu, fh * mu);\n        fctx.restore();\n      }\n\n      // Read the pixels and save the information to the occupied array\n      var occupied = [];\n      var gx = cgw, gy, x, y;\n      var bounds = [cgh / 2, cgw / 2, cgh / 2, cgw / 2];\n      while (gx--) {\n        gy = cgh;\n        while (gy--) {\n          y = g;\n          singleGridLoop: {\n            while (y--) {\n              x = g;\n              while (x--) {\n                if (imageData[((gy * g + y) * width +\n                               (gx * g + x)) * 4 + 3]) {\n                  occupied.push([gx, gy]);\n\n                  if (gx < bounds[3]) {\n                    bounds[3] = gx;\n                  }\n                  if (gx > bounds[1]) {\n                    bounds[1] = gx;\n                  }\n                  if (gy < bounds[0]) {\n                    bounds[0] = gy;\n                  }\n                  if (gy > bounds[2]) {\n                    bounds[2] = gy;\n                  }\n\n                  if (debug) {\n                    fctx.fillStyle = 'rgba(255, 0, 0, 0.5)';\n                    fctx.fillRect(gx * g, gy * g, g - 0.5, g - 0.5);\n                  }\n                  break singleGridLoop;\n                }\n              }\n            }\n            if (debug) {\n              fctx.fillStyle = 'rgba(0, 0, 255, 0.5)';\n              fctx.fillRect(gx * g, gy * g, g - 0.5, g - 0.5);\n            }\n          }\n        }\n      }\n\n      if (debug) {\n        fctx.fillStyle = 'rgba(0, 255, 0, 0.5)';\n        fctx.fillRect(bounds[3] * g,\n                      bounds[0] * g,\n                      (bounds[1] - bounds[3] + 1) * g,\n                      (bounds[2] - bounds[0] + 1) * g);\n      }\n\n      // Return information needed to create the text on the real canvas\n      return {\n        mu: mu,\n        occupied: occupied,\n        bounds: bounds,\n        gw: cgw,\n        gh: cgh,\n        fillTextOffsetX: fillTextOffsetX,\n        fillTextOffsetY: fillTextOffsetY,\n        fillTextWidth: fw,\n        fillTextHeight: fh,\n        fontSize: fontSize\n      };\n    };\n\n    /* Determine if there is room available in the given dimension */\n    var canFitText = function canFitText(gx, gy, gw, gh, occupied) {\n      // Go through the occupied points,\n      // return false if the space is not available.\n      var i = occupied.length;\n      while (i--) {\n        var px = gx + occupied[i][0];\n        var py = gy + occupied[i][1];\n\n        if (px >= ngx || py >= ngy || px < 0 || py < 0) {\n          if (!settings.drawOutOfBound) {\n            return false;\n          }\n          continue;\n        }\n\n        if (!grid[px][py]) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    /* Actually draw the text on the grid */\n    var drawText = function drawText(gx, gy, info, word, weight,\n                                     distance, theta, rotateDeg, attributes) {\n\n      var fontSize = info.fontSize;\n      var color;\n      if (getTextColor) {\n        color = getTextColor(word, weight, fontSize, distance, theta);\n      } else {\n        color = settings.color;\n      }\n\n      var classes;\n      if (getTextClasses) {\n        classes = getTextClasses(word, weight, fontSize, distance, theta);\n      } else {\n        classes = settings.classes;\n      }\n\n      var dimension;\n      var bounds = info.bounds;\n      dimension = {\n        x: (gx + bounds[3]) * g,\n        y: (gy + bounds[0]) * g,\n        w: (bounds[1] - bounds[3] + 1) * g,\n        h: (bounds[2] - bounds[0] + 1) * g\n      };\n\n      elements.forEach(function(el) {\n        if (el.getContext) {\n          var ctx = el.getContext('2d');\n          var mu = info.mu;\n\n          // Save the current state before messing it\n          ctx.save();\n          ctx.scale(1 / mu, 1 / mu);\n\n          ctx.font = settings.fontWeight + ' ' +\n                     (fontSize * mu).toString(10) + 'px ' + settings.fontFamily;\n          ctx.fillStyle = color;\n\n          // Translate the canvas position to the origin coordinate of where\n          // the text should be put.\n          ctx.translate((gx + info.gw / 2) * g * mu,\n                        (gy + info.gh / 2) * g * mu);\n\n          if (rotateDeg !== 0) {\n            ctx.rotate(- rotateDeg);\n          }\n\n          // Finally, fill the text.\n\n          // XXX: We cannot because textBaseline = 'top' here because\n          // Firefox and Chrome uses different default line-height for canvas.\n          // Please read https://bugzil.la/737852#c6.\n          // Here, we use textBaseline = 'middle' and draw the text at exactly\n          // 0.5 * fontSize lower.\n          ctx.textBaseline = 'middle';\n          ctx.fillText(word, info.fillTextOffsetX * mu,\n                             (info.fillTextOffsetY + fontSize * 0.5) * mu);\n\n          // The below box is always matches how <span>s are positioned\n          /* ctx.strokeRect(info.fillTextOffsetX, info.fillTextOffsetY,\n            info.fillTextWidth, info.fillTextHeight); */\n\n          // Restore the state.\n          ctx.restore();\n        } else {\n          // drawText on DIV element\n          var span = document.createElement('span');\n          var transformRule = '';\n          transformRule = 'rotate(' + (- rotateDeg / Math.PI * 180) + 'deg) ';\n          if (info.mu !== 1) {\n            transformRule +=\n              'translateX(-' + (info.fillTextWidth / 4) + 'px) ' +\n              'scale(' + (1 / info.mu) + ')';\n          }\n          var styleRules = {\n            'position': 'absolute',\n            'display': 'block',\n            'font': settings.fontWeight + ' ' +\n                    (fontSize * info.mu) + 'px ' + settings.fontFamily,\n            'left': ((gx + info.gw / 2) * g + info.fillTextOffsetX) + 'px',\n            'top': ((gy + info.gh / 2) * g + info.fillTextOffsetY) + 'px',\n            'width': info.fillTextWidth + 'px',\n            'height': info.fillTextHeight + 'px',\n            'lineHeight': fontSize + 'px',\n            'whiteSpace': 'nowrap',\n            'transform': transformRule,\n            'webkitTransform': transformRule,\n            'msTransform': transformRule,\n            'transformOrigin': '50% 40%',\n            'webkitTransformOrigin': '50% 40%',\n            'msTransformOrigin': '50% 40%'\n          };\n          if (color) {\n            styleRules.color = color;\n          }\n          span.textContent = word;\n          for (var cssProp in styleRules) {\n            span.style[cssProp] = styleRules[cssProp];\n          }\n          if (attributes) {\n            for (var attribute in attributes) {\n              span.setAttribute(attribute, attributes[attribute]);\n            }\n          }\n          if (classes) {\n            span.className += classes;\n          }\n          el.appendChild(span);\n        }\n      });\n    };\n\n    /* Help function to updateGrid */\n    var fillGridAt = function fillGridAt(x, y, drawMask, dimension, item) {\n      if (x >= ngx || y >= ngy || x < 0 || y < 0) {\n        return;\n      }\n\n      grid[x][y] = false;\n\n      if (drawMask) {\n        var ctx = elements[0].getContext('2d');\n        ctx.fillRect(x * g, y * g, maskRectWidth, maskRectWidth);\n      }\n\n      if (interactive) {\n        infoGrid[x][y] = { item: item, dimension: dimension };\n      }\n    };\n\n    /* Update the filling information of the given space with occupied points.\n       Draw the mask on the canvas if necessary. */\n    var updateGrid = function updateGrid(gx, gy, gw, gh, info, item) {\n      var occupied = info.occupied;\n      var drawMask = settings.drawMask;\n      var ctx;\n      if (drawMask) {\n        ctx = elements[0].getContext('2d');\n        ctx.save();\n        ctx.fillStyle = settings.maskColor;\n      }\n\n      var dimension;\n      if (interactive) {\n        var bounds = info.bounds;\n        dimension = {\n          x: (gx + bounds[3]) * g,\n          y: (gy + bounds[0]) * g,\n          w: (bounds[1] - bounds[3] + 1) * g,\n          h: (bounds[2] - bounds[0] + 1) * g\n        };\n      }\n\n      var i = occupied.length;\n      while (i--) {\n        var px = gx + occupied[i][0];\n        var py = gy + occupied[i][1];\n\n        if (px >= ngx || py >= ngy || px < 0 || py < 0) {\n          continue;\n        }\n\n        fillGridAt(px, py, drawMask, dimension, item);\n      }\n\n      if (drawMask) {\n        ctx.restore();\n      }\n    };\n\n    /* putWord() processes each item on the list,\n       calculate it's size and determine it's position, and actually\n       put it on the canvas. */\n    var putWord = function putWord(item) {\n      var word, weight, attributes;\n      if (Array.isArray(item)) {\n        word = item[0];\n        weight = item[1];\n      } else {\n        word = item.word;\n        weight = item.weight;\n        attributes = item.attributes;\n      }\n      var rotateDeg = getRotateDeg();\n\n      // get info needed to put the text onto the canvas\n      var info = getTextInfo(word, weight, rotateDeg);\n\n      // not getting the info means we shouldn't be drawing this one.\n      if (!info) {\n        return false;\n      }\n\n      if (exceedTime()) {\n        return false;\n      }\n\n      // If drawOutOfBound is set to false,\n      // skip the loop if we have already know the bounding box of\n      // word is larger than the canvas.\n      if (!settings.drawOutOfBound) {\n        var bounds = info.bounds;\n        if ((bounds[1] - bounds[3] + 1) > ngx ||\n          (bounds[2] - bounds[0] + 1) > ngy) {\n          return false;\n        }\n      }\n\n      // Determine the position to put the text by\n      // start looking for the nearest points\n      var r = maxRadius + 1;\n\n      var tryToPutWordAtPoint = function(gxy) {\n        var gx = Math.floor(gxy[0] - info.gw / 2);\n        var gy = Math.floor(gxy[1] - info.gh / 2);\n        var gw = info.gw;\n        var gh = info.gh;\n\n        // If we cannot fit the text at this position, return false\n        // and go to the next position.\n        if (!canFitText(gx, gy, gw, gh, info.occupied)) {\n          return false;\n        }\n\n        // Actually put the text on the canvas\n        drawText(gx, gy, info, word, weight,\n                 (maxRadius - r), gxy[2], rotateDeg, attributes);\n\n        // Mark the spaces on the grid as filled\n        updateGrid(gx, gy, gw, gh, info, item);\n\n        return {\n          gx: gx,\n          gy: gy,\n          rot: rotateDeg,\n          info: info\n        };\n      };\n\n      while (r--) {\n        var points = getPointsAtRadius(maxRadius - r);\n\n        if (settings.shuffle) {\n          points = [].concat(points);\n          shuffleArray(points);\n        }\n\n        // Try to fit the words by looking at each point.\n        // array.some() will stop and return true\n        // when putWordAtPoint() returns true.\n        for (var i = 0; i < points.length; i++) {\n          var res = tryToPutWordAtPoint(points[i]);\n          if (res) {\n            return res;\n          }\n        }\n\n        // var drawn = points.some(tryToPutWordAtPoint);\n        // if (drawn) {\n        //   // leave putWord() and return true\n        //   return true;\n        // }\n      }\n      // we tried all distances but text won't fit, return null\n      return null;\n    };\n\n    /* Send DOM event to all elements. Will stop sending event and return\n       if the previous one is canceled (for cancelable events). */\n    var sendEvent = function sendEvent(type, cancelable, detail) {\n      if (cancelable) {\n        return !elements.some(function(el) {\n          var evt = document.createEvent('CustomEvent');\n          evt.initCustomEvent(type, true, cancelable, detail || {});\n          return !el.dispatchEvent(evt);\n        }, this);\n      } else {\n        elements.forEach(function(el) {\n          var evt = document.createEvent('CustomEvent');\n          evt.initCustomEvent(type, true, cancelable, detail || {});\n          el.dispatchEvent(evt);\n        }, this);\n      }\n    };\n\n    /* Start drawing on a canvas */\n    var start = function start() {\n      // For dimensions, clearCanvas etc.,\n      // we only care about the first element.\n      var canvas = elements[0];\n\n      if (canvas.getContext) {\n        ngx = Math.ceil(canvas.width / g);\n        ngy = Math.ceil(canvas.height / g);\n      } else {\n        var rect = canvas.getBoundingClientRect();\n        ngx = Math.ceil(rect.width / g);\n        ngy = Math.ceil(rect.height / g);\n      }\n\n      // Sending a wordcloudstart event which cause the previous loop to stop.\n      // Do nothing if the event is canceled.\n      if (!sendEvent('wordcloudstart', true)) {\n        return;\n      }\n\n      // Determine the center of the word cloud\n      center = (settings.origin) ?\n        [settings.origin[0]/g, settings.origin[1]/g] :\n        [ngx / 2, ngy / 2];\n\n      // Maxium radius to look for space\n      maxRadius = Math.floor(Math.sqrt(ngx * ngx + ngy * ngy));\n\n      /* Clear the canvas only if the clearCanvas is set,\n         if not, update the grid to the current canvas state */\n      grid = [];\n\n      var gx, gy, i;\n      if (!canvas.getContext || settings.clearCanvas) {\n        elements.forEach(function(el) {\n          if (el.getContext) {\n            var ctx = el.getContext('2d');\n            ctx.fillStyle = settings.backgroundColor;\n            ctx.clearRect(0, 0, ngx * (g + 1), ngy * (g + 1));\n            ctx.fillRect(0, 0, ngx * (g + 1), ngy * (g + 1));\n          } else {\n            el.textContent = '';\n            el.style.backgroundColor = settings.backgroundColor;\n            el.style.position = 'relative';\n          }\n        });\n\n        /* fill the grid with empty state */\n        gx = ngx;\n        while (gx--) {\n          grid[gx] = [];\n          gy = ngy;\n          while (gy--) {\n            grid[gx][gy] = true;\n          }\n        }\n      } else {\n        /* Determine bgPixel by creating\n           another canvas and fill the specified background color. */\n        var bctx = document.createElement('canvas').getContext('2d');\n\n        bctx.fillStyle = settings.backgroundColor;\n        bctx.fillRect(0, 0, 1, 1);\n        var bgPixel = bctx.getImageData(0, 0, 1, 1).data;\n\n        /* Read back the pixels of the canvas we got to tell which part of the\n           canvas is empty.\n           (no clearCanvas only works with a canvas, not divs) */\n        var imageData =\n          canvas.getContext('2d').getImageData(0, 0, ngx * g, ngy * g).data;\n\n        gx = ngx;\n        var x, y;\n        while (gx--) {\n          grid[gx] = [];\n          gy = ngy;\n          while (gy--) {\n            y = g;\n            singleGridLoop: while (y--) {\n              x = g;\n              while (x--) {\n                i = 4;\n                while (i--) {\n                  if (imageData[((gy * g + y) * ngx * g +\n                                 (gx * g + x)) * 4 + i] !== bgPixel[i]) {\n                    grid[gx][gy] = false;\n                    break singleGridLoop;\n                  }\n                }\n              }\n            }\n            if (grid[gx][gy] !== false) {\n              grid[gx][gy] = true;\n            }\n          }\n        }\n\n        imageData = bctx = bgPixel = undefined;\n      }\n\n      // fill the infoGrid with empty state if we need it\n      if (settings.hover || settings.click) {\n\n        interactive = true;\n\n        /* fill the grid with empty state */\n        gx = ngx + 1;\n        while (gx--) {\n          infoGrid[gx] = [];\n        }\n\n        if (settings.hover) {\n          canvas.addEventListener('mousemove', wordcloudhover);\n        }\n\n        if (settings.click) {\n          canvas.addEventListener('click', wordcloudclick);\n          canvas.addEventListener('touchstart', wordcloudclick);\n          canvas.addEventListener('touchend', function (e) {\n            e.preventDefault();\n          });\n          canvas.style.webkitTapHighlightColor = 'rgba(0, 0, 0, 0)';\n        }\n\n        canvas.addEventListener('wordcloudstart', function stopInteraction() {\n          canvas.removeEventListener('wordcloudstart', stopInteraction);\n\n          canvas.removeEventListener('mousemove', wordcloudhover);\n          canvas.removeEventListener('click', wordcloudclick);\n          hovered = undefined;\n        });\n      }\n\n      i = 0;\n      var loopingFunction, stoppingFunction;\n      if (settings.wait !== 0) {\n        loopingFunction = window.setTimeout;\n        stoppingFunction = window.clearTimeout;\n      } else {\n        loopingFunction = window.setImmediate;\n        stoppingFunction = window.clearImmediate;\n      }\n\n      var addEventListener = function addEventListener(type, listener) {\n        elements.forEach(function(el) {\n          el.addEventListener(type, listener);\n        }, this);\n      };\n\n      var removeEventListener = function removeEventListener(type, listener) {\n        elements.forEach(function(el) {\n          el.removeEventListener(type, listener);\n        }, this);\n      };\n\n      var anotherWordCloudStart = function anotherWordCloudStart() {\n        removeEventListener('wordcloudstart', anotherWordCloudStart);\n        stoppingFunction(timer);\n      };\n\n      addEventListener('wordcloudstart', anotherWordCloudStart);\n\n      var timer = loopingFunction(function loop() {\n        if (i >= settings.list.length) {\n          stoppingFunction(timer);\n          sendEvent('wordcloudstop', false);\n          removeEventListener('wordcloudstart', anotherWordCloudStart);\n\n          return;\n        }\n        escapeTime = (new Date()).getTime();\n        var drawn = putWord(settings.list[i]);\n        var canceled = !sendEvent('wordclouddrawn', true, {\n          item: settings.list[i], drawn: drawn });\n        if (exceedTime() || canceled) {\n          stoppingFunction(timer);\n          settings.abort();\n          sendEvent('wordcloudabort', false);\n          sendEvent('wordcloudstop', false);\n          removeEventListener('wordcloudstart', anotherWordCloudStart);\n          return;\n        }\n        i++;\n        timer = loopingFunction(loop, settings.wait);\n      }, settings.wait);\n    };\n\n    // All set, start the drawing\n    start();\n  };\n\n  WordCloud.isSupported = isSupported;\n  WordCloud.minFontSize = minFontSize;\n\n  // Expose the library as an AMD module\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function() { return WordCloud; }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else if (typeof module !== 'undefined' && module.exports) {\n    module.exports = WordCloud;\n  } else {\n    global.WordCloud = WordCloud;\n  }\n\n})(this); //jshint ignore:line\n\n/***/ })\n/******/ ]);\n});"]}]}