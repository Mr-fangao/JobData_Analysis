{"remainingRequest":"E:\\04 GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\node_modules\\babel-loader\\lib\\index.js!E:\\04 GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\04 GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\src\\views\\userManager\\components\\userIndex.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\04 GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\src\\views\\userManager\\components\\userIndex.vue","mtime":1592209624243},{"path":"E:\\04 GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1580901136398},{"path":"E:\\04 GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\04 GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Server from \"@/core/server\";\nimport { services } from \"@/core/config/services\";\nimport SearchButtons from \"@/components/common/search-buttons\";\nimport modalFooter from \"@/components/common/modal-footer\";\nimport userForm from \"./userForm.vue\";\nexport default {\n  data: function data() {\n    var _this = this;\n\n    return {\n      dialog: false,\n      accountname: \"\",\n      username: \"\",\n      nickName: \"\",\n      loading: false,\n      table: {\n        columns: [{\n          type: \"index\",\n          width: 60,\n          title: \"ID\",\n          align: \"center\"\n        }, {\n          title: \"账号\",\n          key: \"username\",\n          sortable: true,\n          align: \"center\"\n        }, {\n          title: \"昵称\",\n          key: \"nickName\",\n          align: \"center\"\n        }, {\n          title: \"密码\",\n          key: \"password\",\n          align: \"center\"\n        }, {\n          title: \"年龄等级\",\n          key: \"age\",\n          maxWidth: 100,\n          align: \"center\"\n        }, {\n          title: \"学历层次\",\n          key: \"userEducationLevel\",\n          align: \"center\"\n        }, {\n          title: \"薪资期望\",\n          key: \"money\",\n          align: \"center\"\n        }, {\n          title: \"手机号码\",\n          key: \"mobile\",\n          maxWidth: 150,\n          align: \"center\"\n        }, // {\n        //   title: \"电脑端\",\n        //   key: \"isEnablePC\",\n        //   maxWidth: 90,\n        //   align: \"center\",\n        //   render: (h, params) => {\n        //     return h(\"Tag\", {\n        //       props: {\n        //         color: params.row.isEnablePC === married ? \"success\" : \"gray\",\n        //         type: \"dot\"\n        //       }\n        //     });\n        //   }\n        // },\n        {\n          title: \"操作\",\n          key: \"action\",\n          maxWidth: 150,\n          align: \"center\",\n          render: function render(h, params) {\n            return h(\"div\", [h(\"i-button\", {\n              props: {\n                shape: \"circle\",\n                icon: \"ios-create\"\n              },\n              style: {\n                marginRight: \"5px\"\n              },\n              on: {\n                click: function click() {\n                  _this.onRowClick(params.row, params.index);\n                }\n              }\n            }), h(\"i-button\", {\n              props: {\n                shape: \"circle\",\n                icon: \"ios-trash\"\n              },\n              style: {\n                cursor: \"pointer\"\n              },\n              on: {\n                click: function click() {\n                  _this.remove(params.row, params.index);\n                }\n              }\n            })]);\n          }\n        }],\n        data: []\n      }\n    };\n  },\n  mounted: function mounted() {\n    this.getTable();\n  },\n  methods: {\n    getTable: function getTable() {\n      var _this2 = this;\n\n      debugger;\n      var userId = JSON.parse(sessionStorage.getItem(\"userId\")); // var nickName = JSON.parse(sessionStorage.getItem(\"nickName\"));\n      // var userName = JSON.parse(sessionStorage.getItem(\"userName\"));\n      //   this.loading = true;\n\n      Server.post({\n        url: services.usermanager,\n        params: {\n          nickName: this.nickName,\n          queryUsername: this.username,\n          userId: userId\n        }\n      }).then(function (rsp) {\n        // this.loading = false;\n        _this2.table.data = rsp.data;\n      });\n    },\n    //刷新\n    onRefresh: function onRefresh() {\n      this.getTable();\n    },\n    //查询\n    onSearch: function onSearch() {\n      this.onRefresh();\n    },\n    //新增\n    onAdd: function onAdd() {\n      this.dialog = true;\n      this.$refs.userform.resetForm();\n    },\n    //编辑\n    onRowClick: function onRowClick(currentRow, index) {\n      currentRow.Index = index;\n      this.selectedRow = currentRow;\n      var row = this.selectedRow;\n\n      if (!row) {\n        this.$Message.warning(\"请选择需要操作的行\");\n      } else {\n        var form = this.$refs.userform.editForm(row);\n        this.dialog = true;\n      }\n    },\n    //删除\n    remove: function remove(currentRow, index) {\n      var _this3 = this;\n\n      debugger;\n      currentRow.Index = index;\n      this.selectedRow = currentRow;\n      var row = this.selectedRow;\n\n      if (!row) {\n        this.$Message.warning(\"请选择需要删除的行\");\n      } else {\n        this.$Modal.confirm({\n          title: \"提示\",\n          content: \"是否永久删除此数据?\",\n          onOk: function onOk() {\n            var id = row.userId;\n            Server.get({\n              url: services.deleteUser,\n              params: {\n                userId: id\n              }\n            }).then(function (rsp) {\n              if (rsp.status == 1) {\n                _this3.$Message.success(\"删除成功\");\n\n                _this3.onRefresh();\n              } else {\n                _this3.$Message.error(rsp.message);\n              }\n            });\n          },\n          onCancel: function onCancel() {}\n        });\n      }\n    },\n    //保存\n    savePerson: function savePerson() {\n      var _this4 = this;\n\n      debugger;\n      var form = this.$refs.userform.getForm();\n      Server.post({\n        url: services.update,\n        params: {\n          userInfo: JSON.stringify(form)\n        }\n      }).then(function (rsp) {\n        if (rsp.status === 1) {\n          _this4.$Message.success(\"操作成功\");\n\n          _this4.onRefresh();\n\n          _this4.dialog = false;\n        } else {\n          _this4.$Message.error(rsp.message);\n        }\n      });\n    },\n    //取消\n    onCancelPerson: function onCancelPerson() {\n      this.dialog = false;\n    }\n  },\n  components: {\n    modalFooter: modalFooter,\n    SearchButtons: SearchButtons,\n    userForm: userForm\n  }\n};",{"version":3,"sources":["userIndex.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"page-style\" style=\"margin: 10px\">\n    <div class=\"userHeader\">\n      <span style=\"margin-left:5px\">账号：</span>\n      <Input class=\"control search-input-default\" style=\"width: 200px\" clearable v-model=\"username\" @on-enter=\"onSearch\" />\n      <span>昵称：</span>\n      <Input class=\"control search-input-default\" style=\"width: 200px\" clearable v-model=\"nickName\" @on-enter=\"onSearch\" />\n      <search-buttons :showSearch=\"true\" @on-search=\"onSearch\" @on-refresh=\"onRefresh\"></search-buttons>\n    </div>\n    <div class=\"section main-table-section\">\n      <Table :loading=\"loading\" border :columns=\"table.columns\" :data=\"table.data\"></Table>\n    </div>\n    <Modal v-model=\"dialog\" :mask-closable=\"false\" width=\"800\" title=\"用户管理\">\n      <user-form ref=\"userform\" />\n      <modal-footer slot=\"footer\" @on-save=\"savePerson\" @on-cancel=\"onCancelPerson\"></modal-footer>\n    </Modal>\n  </div>\n</template>\n<script>\nimport Server from \"@/core/server\";\nimport { services } from \"@/core/config/services\";\nimport SearchButtons from \"@/components/common/search-buttons\";\nimport modalFooter from \"@/components/common/modal-footer\";\nimport userForm from \"./userForm.vue\";\nexport default {\n  data() {\n    return {\n      dialog: false,\n      accountname: \"\",\n      username: \"\",\n      nickName: \"\",\n      loading: false,\n      table: {\n        columns: [\n          {\n            type: \"index\",\n            width: 60,\r\n\t\t\t\t\t\ttitle:\"ID\",\n            align: \"center\"\n          },\n          {\n            title: \"账号\",\n            key: \"username\",\n            sortable: true,\n            align: \"center\"\n          },\n          {\n            title: \"昵称\",\n            key: \"nickName\",\n            align: \"center\"\n          },\n          {\n            title: \"密码\",\n            key: \"password\",\n            align: \"center\"\n          },\n          {\n            title: \"年龄等级\",\n            key: \"age\",\n            maxWidth: 100,\n            align: \"center\"\n          },\n          {\n            title: \"学历层次\",\n            key: \"userEducationLevel\",\n            align: \"center\"\n          },\n          {\n            title: \"薪资期望\",\n            key: \"money\",\n            align: \"center\"\n          },\n          {\n            title: \"手机号码\",\n            key: \"mobile\",\n            maxWidth: 150,\n            align: \"center\"\n          },\n\n          // {\n          //   title: \"电脑端\",\n          //   key: \"isEnablePC\",\n          //   maxWidth: 90,\n          //   align: \"center\",\n          //   render: (h, params) => {\n          //     return h(\"Tag\", {\n          //       props: {\n          //         color: params.row.isEnablePC === married ? \"success\" : \"gray\",\n          //         type: \"dot\"\n          //       }\n          //     });\n          //   }\n          // },\n          {\n            title: \"操作\",\n            key: \"action\",\n            maxWidth: 150,\n            align: \"center\",\n            render: (h, params) => {\n              return h(\"div\", [\n                h(\"i-button\", {\n                  props: {\n                    shape: \"circle\",\n                    icon: \"ios-create\"\n                  },\n                  style: {\n                    marginRight: \"5px\"\n                  },\n                  on: {\n                    click: () => {\n                      this.onRowClick(params.row, params.index);\n                    }\n                  }\n                }),\n                h(\"i-button\", {\n                  props: {\n                    shape: \"circle\",\n                    icon: \"ios-trash\"\n                  },\n                  style: {\n                    cursor: \"pointer\"\n                  },\n                  on: {\n                    click: () => {\n                      this.remove(params.row, params.index);\n                    }\n                  }\n                })\n              ]);\n            }\n          }\n        ],\n        data: []\n      }\n    };\n  },\n  mounted() {\n    this.getTable();\n  },\n  methods: {\n    getTable() {\n      debugger;\n      var userId = JSON.parse(sessionStorage.getItem(\"userId\"));\n      // var nickName = JSON.parse(sessionStorage.getItem(\"nickName\"));\n      // var userName = JSON.parse(sessionStorage.getItem(\"userName\"));\n      //   this.loading = true;\n      Server.post({\n        url: services.usermanager,\n        params: {\n          nickName: this.nickName,\n          queryUsername: this.username,\n          userId: userId\n        }\n      }).then(rsp => {\n        // this.loading = false;\n        this.table.data = rsp.data;\n      });\n    },\n    //刷新\n    onRefresh() {\n      this.getTable();\n    },\n    //查询\n    onSearch() {\n      this.onRefresh();\n    },\n    //新增\n    onAdd() {\n      this.dialog = true;\n      this.$refs.userform.resetForm();\n    },\n    //编辑\n    onRowClick(currentRow, index) {\n      currentRow.Index = index;\n      this.selectedRow = currentRow;\n      var row = this.selectedRow;\n      if (!row) {\n        this.$Message.warning(\"请选择需要操作的行\");\n      } else {\n        var form = this.$refs.userform.editForm(row);\n        this.dialog = true;\n      }\n    },\n    //删除\n    remove(currentRow, index) {\n      debugger;\n      currentRow.Index = index;\n      this.selectedRow = currentRow;\n      var row = this.selectedRow;\n      if (!row) {\n        this.$Message.warning(\"请选择需要删除的行\");\n      } else {\n        this.$Modal.confirm({\n          title: \"提示\",\n          content: \"是否永久删除此数据?\",\n          onOk: () => {\n            var id = row.userId;\n            Server.get({\n              url: services.deleteUser,\n              params: {\n                userId: id\n              }\n            }).then(rsp => {\n              if (rsp.status == 1) {\n                this.$Message.success(\"删除成功\");\n                this.onRefresh();\n              } else {\n                this.$Message.error(rsp.message);\n              }\n            });\n          },\n          onCancel: () => {}\n        });\n      }\n    },\n    //保存\n    savePerson() {\n      debugger;\n      var form = this.$refs.userform.getForm();\n      Server.post({\n        url: services.update,\n        params: { userInfo: JSON.stringify(form) }\n      }).then(rsp => {\n        if (rsp.status === 1) {\n          this.$Message.success(\"操作成功\");\n          this.onRefresh();\n          this.dialog = false;\n        } else {\n          this.$Message.error(rsp.message);\n        }\n      });\n    },\n    //取消\n    onCancelPerson() {\n      this.dialog = false;\n    }\n  },\n  components: {\n    modalFooter,\n    SearchButtons,\n    userForm\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n.userHeader {\n  height: 50px;\n  margin-top: 15px;\n}\n.search-input-default {\n  margin-right: 10px;\n}\n</style>\n\n\n "],"sourceRoot":"src\\views\\userManager\\components"}]}