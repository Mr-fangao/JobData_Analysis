{"remainingRequest":"E:\\04 GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\node_modules\\babel-loader\\lib\\index.js!E:\\04 GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\04 GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\src\\map\\api\\js\\GPopup.js","dependencies":[{"path":"E:\\04 GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\src\\map\\api\\js\\GPopup.js","mtime":1563098587000},{"path":"E:\\04 GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1580901136398},{"path":"E:\\04 GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\04 GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.split\";\nimport _classCallCheck from \"E:\\\\04 GIS\\u76F8\\u5173\\u6BD4\\u8D5B\\\\01 GIS\\u7701\\u8D5B(\\u4E2D\\u671F\\u68C0\\u67E5+\\u6536\\u5C3E)\\\\04 \\u7CFB\\u7EDF\\u8FD0\\u884C\\u4EE3\\u7801\\\\Code\\\\\\u524D\\u7AEF\\\\node_modules\\\\@babel\\\\runtime/helpers/builtin/es6/classCallCheck\";\nimport _createClass from \"E:\\\\04 GIS\\u76F8\\u5173\\u6BD4\\u8D5B\\\\01 GIS\\u7701\\u8D5B(\\u4E2D\\u671F\\u68C0\\u67E5+\\u6536\\u5C3E)\\\\04 \\u7CFB\\u7EDF\\u8FD0\\u884C\\u4EE3\\u7801\\\\Code\\\\\\u524D\\u7AEF\\\\node_modules\\\\@babel\\\\runtime/helpers/builtin/es6/createClass\";\n\nvar PopupHtml =\n/*#__PURE__*/\nfunction () {\n  function PopupHtml() {\n    _classCallCheck(this, PopupHtml);\n  }\n\n  _createClass(PopupHtml, null, [{\n    key: \"render\",\n    value: function render(res) {\n      var html = [\"<div class='v-popup-content'>\"];\n      var attr = res.attribute;\n\n      for (var key in attr) {\n        debugger;\n        html.push(\"<div class='ivu-row'>\");\n        html.push(\"<div class='ivu-col ivu-col-span-7' style='text-align: right;'>\" + key.split(\"$\")[0] + \"：</div>\");\n        html.push(\"<div class='ivu-col ivu-col-span-17'>\" + attr[key] + \" \");\n\n        if (key.split(\"$\").length === 2 && attr[key] !== \"\") {\n          html.push(key.split(\"$\")[1]);\n        }\n\n        html.push(\"</div>\");\n        html.push(\"</div>\");\n      }\n\n      html.push(\"</div>\");\n\n      if (res.querylist && !onemap.utils.isEmptyObject(res.querylist)) {\n        html.push(\"<div class='v-popup-footer'>\");\n\n        for (var f in res.querylist) {\n          if (f.indexOf(\"device\") === -1) {\n            html.push('<a class=\"link\" onclick=' + res.querylist[f] + '><span class=\"esri-popup__action-text\">' + f + '</span></a>');\n          }\n        }\n\n        html.push(\"</div>\");\n      }\n\n      return html.join(\"\");\n    }\n  }]);\n\n  return PopupHtml;\n}();\n\nvar GPopup =\n/*#__PURE__*/\nfunction () {\n  function GPopup() {\n    _classCallCheck(this, GPopup);\n  }\n\n  _createClass(GPopup, [{\n    key: \"show\",\n    // api4\n    value: function show(opt) {\n      var mapView = opt.mapView;\n      var res = opt.res;\n      var centerPt = opt.centerPt;\n      var pan = opt.pan || false;\n      mapView.popup.open({\n        title: res.name,\n        content: PopupHtml.render(res),\n        location: centerPt\n      });\n\n      if (pan === true) {\n        mapView.goTo(centerPt);\n      }\n    }\n  }]);\n\n  return GPopup;\n}();\n\nexport var popup = new GPopup();",{"version":3,"sources":["E:\\04 GIS相关比赛\\01 GIS省赛(中期检查+收尾)\\04 系统运行代码\\Code\\前端\\src\\map\\api\\js\\GPopup.js"],"names":["PopupHtml","res","html","attr","attribute","key","push","split","length","querylist","onemap","utils","isEmptyObject","f","indexOf","join","GPopup","opt","mapView","centerPt","pan","popup","open","title","name","content","render","location","goTo"],"mappings":";;;;;IAAMA,S;;;;;;;;;2BACUC,G,EAAK;AACjB,UAAIC,OAAO,CAAC,+BAAD,CAAX;AACA,UAAIC,OAAOF,IAAIG,SAAf;;AACA,WAAK,IAAIC,GAAT,IAAgBF,IAAhB,EAAsB;AACpB;AACAD,aAAKI,IAAL,CAAU,uBAAV;AACAJ,aAAKI,IAAL,CAAU,oEAAoED,IAAIE,KAAJ,CAAU,GAAV,EAAe,CAAf,CAApE,GAAwF,SAAlG;AACAL,aAAKI,IAAL,CAAU,0CAA0CH,KAAKE,GAAL,CAA1C,GAAsD,GAAhE;;AACA,YAAIA,IAAIE,KAAJ,CAAU,GAAV,EAAeC,MAAf,KAA0B,CAA1B,IAA+BL,KAAKE,GAAL,MAAc,EAAjD,EAAqD;AACnDH,eAAKI,IAAL,CAAUD,IAAIE,KAAJ,CAAU,GAAV,EAAe,CAAf,CAAV;AACD;;AACDL,aAAKI,IAAL,CAAU,QAAV;AACAJ,aAAKI,IAAL,CAAU,QAAV;AACD;;AACDJ,WAAKI,IAAL,CAAU,QAAV;;AAEA,UAAIL,IAAIQ,SAAJ,IAAiB,CAACC,OAAOC,KAAP,CAAaC,aAAb,CAA2BX,IAAIQ,SAA/B,CAAtB,EAAiE;AAC/DP,aAAKI,IAAL,CAAU,8BAAV;;AACA,aAAK,IAAIO,CAAT,IAAcZ,IAAIQ,SAAlB,EAA6B;AAC3B,cAAII,EAAEC,OAAF,CAAU,QAAV,MAAwB,CAAC,CAA7B,EAAgC;AAC9BZ,iBAAKI,IAAL,CAAU,6BAA6BL,IAAIQ,SAAJ,CAAcI,CAAd,CAA7B,GAAgD,yCAAhD,GAA4FA,CAA5F,GAAgG,aAA1G;AACD;AACF;;AACDX,aAAKI,IAAL,CAAU,QAAV;AACD;;AACD,aAAOJ,KAAKa,IAAL,CAAU,EAAV,CAAP;AACD;;;;;;IAEGC,M;;;;;;;;;AACJ;yBACKC,G,EAAK;AACR,UAAIC,UAAUD,IAAIC,OAAlB;AACA,UAAIjB,MAAMgB,IAAIhB,GAAd;AACA,UAAIkB,WAAWF,IAAIE,QAAnB;AACA,UAAIC,MAAMH,IAAIG,GAAJ,IAAW,KAArB;AAEAF,cAAQG,KAAR,CAAcC,IAAd,CAAmB;AACjBC,eAAOtB,IAAIuB,IADM;AAEjBC,iBAASzB,UAAU0B,MAAV,CAAiBzB,GAAjB,CAFQ;AAGjB0B,kBAAUR;AAHO,OAAnB;;AAKA,UAAIC,QAAQ,IAAZ,EAAkB;AAChBF,gBAAQU,IAAR,CAAaT,QAAb;AACD;AACF;;;;;;AAGH,OAAO,IAAME,QAAQ,IAAIL,MAAJ,EAAd","sourcesContent":["class PopupHtml {\n  static render(res) {\n    let html = [\"<div class='v-popup-content'>\"];\n    var attr = res.attribute;\n    for (var key in attr) {\n      debugger\n      html.push(\"<div class='ivu-row'>\")\n      html.push(\"<div class='ivu-col ivu-col-span-7' style='text-align: right;'>\" + key.split(\"$\")[0] + \"：</div>\");\n      html.push(\"<div class='ivu-col ivu-col-span-17'>\" + attr[key] + \" \");\n      if (key.split(\"$\").length === 2 && attr[key] !== \"\") {\n        html.push(key.split(\"$\")[1])\n      }\n      html.push(\"</div>\")\n      html.push(\"</div>\");\n    }\n    html.push(\"</div>\");\n\n    if (res.querylist && !onemap.utils.isEmptyObject(res.querylist)) {\n      html.push(\"<div class='v-popup-footer'>\");\n      for (let f in res.querylist) {\n        if (f.indexOf(\"device\") === -1) {\n          html.push('<a class=\"link\" onclick=' + res.querylist[f] + '><span class=\"esri-popup__action-text\">' + f + '</span></a>');\n        }\n      }\n      html.push(\"</div>\");\n    }\n    return html.join(\"\");\n  }\n}\nclass GPopup {\n  // api4\n  show(opt) {\n    var mapView = opt.mapView;\n    var res = opt.res;\n    var centerPt = opt.centerPt;\n    var pan = opt.pan || false;\n\n    mapView.popup.open({\n      title: res.name,\n      content: PopupHtml.render(res),\n      location: centerPt\n    });\n    if (pan === true) {\n      mapView.goTo(centerPt);\n    }\n  }\n}\n\nexport const popup = new GPopup();\n"]}]}